<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/@octokit/plugin-paginate-rest Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_d38bb26c8db916607a7540fa89cb1e18.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">plugin-paginate-rest Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<blockquote class="doxtable">
<p>Octokit plugin to paginate REST API endpoint responses </p>
</blockquote>
<p><a href="https://www.npmjs.com/package/@octokit/plugin-paginate-rest"><img src="https://img.shields.io/npm/v/@octokit/plugin-paginate-rest.svg" alt="@latest" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/octokit/plugin-paginate-rest.js/actions?workflow=Test"><img src="https://github.com/octokit/plugin-paginate-rest.js/workflows/Test/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md5325"></a>
Usage</h1>
<table class="doxtable">
<tr>
<th>Browsers </th><td width="100%"><p class="starttd"></p>
<p class="intertd">Load <code>@octokit/plugin-paginate-rest</code> and <a href="https://github.com/octokit/core.js"><code>@octokit/core</code></a> (or core-compatible module) directly from <a href="https://esm.sh">esm.sh</a></p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import { Octokit } from &quot;https://esm.sh/@octokit/core&quot;;</div>
<div class="line">  import {</div>
<div class="line">    paginateRest,</div>
<div class="line">    composePaginateRest,</div>
<div class="line">  } from &quot;https://esm.sh/@octokit/plugin-paginate-rest&quot;;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
<tr>
<th>Node </th><td><p class="starttd"></p>
<p class="intertd">Install with <code>npm install @octokit/core @octokit/plugin-paginate-rest</code>. Optionally replace <code>@octokit/core</code> with a core-compatible module</p>
<div class="fragment"><div class="line">import { Octokit } from &quot;@octokit/core&quot;;</div>
<div class="line">import {</div>
<div class="line">  paginateRest,</div>
<div class="line">  composePaginateRest,</div>
<div class="line">} from &quot;@octokit/plugin-paginate-rest&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<div class="fragment"><div class="line">const MyOctokit = Octokit.plugin(paginateRest);</div>
<div class="line">const octokit = new MyOctokit({ auth: &quot;secret123&quot; });</div>
<div class="line"> </div>
<div class="line">// See https://developer.github.com/v3/issues/#list-issues-for-a-repository</div>
<div class="line">const issues = await octokit.paginate(&quot;GET /repos/{owner}/{repo}/issues&quot;, {</div>
<div class="line">  owner: &quot;octocat&quot;,</div>
<div class="line">  repo: &quot;hello-world&quot;,</div>
<div class="line">  since: &quot;2010-10-01&quot;,</div>
<div class="line">  per_page: 100,</div>
<div class="line">});</div>
</div><!-- fragment --><p>If you want to utilize the pagination methods in another plugin, use <code>composePaginateRest</code>.</p>
<div class="fragment"><div class="line">function myPlugin(octokit, options) {</div>
<div class="line">  return {</div>
<div class="line">    allStars({owner, repo}) =&gt; {</div>
<div class="line">      return composePaginateRest(</div>
<div class="line">        octokit,</div>
<div class="line">        &quot;GET /repos/{owner}/{repo}/stargazers&quot;,</div>
<div class="line">        {owner, repo }</div>
<div class="line">      )</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section important"><dt>Important</dt><dd>As we use <a href="https://nodejs.org/api/packages.html#conditional-exports">conditional exports</a>, you will need to adapt your <code>tsconfig.json</code>. See the TypeScript docs on <a href="https://www.typescriptlang.org/docs/handbook/modules/reference.html#packagejson-exports">package.json "exports"</a>.</dd></dl>
<h1><a class="anchor" id="autotoc_md5326"></a>
<code>octokit.paginate()</code></h1>
<p>The <code>paginateRest</code> plugin adds a new <code>octokit.paginate()</code> method which accepts the same parameters as <a href="https://github.com/octokit/request.js#request"><code>octokit.request</code></a>. Only "List ..." endpoints such as <a href="https://developer.github.com/v3/issues/#list-issues-for-a-repository">List issues for a repository</a> are supporting pagination. Their <a href="https://developer.github.com/v3/issues/#response-1">response includes a Link header</a>. For other endpoints, <code>octokit.paginate()</code> behaves the same as <code>octokit.request()</code>.</p>
<p>The <code>per_page</code> parameter is usually defaulting to <code>30</code>, and can be set to up to <code>100</code>, which helps retrieving a big amount of data without hitting the rate limits too soon.</p>
<p>An optional <code>mapFunction</code> can be passed to map each page response to a new value, usually an array with only the data you need. This can help to reduce memory usage, as only the relevant data has to be kept in memory until the pagination is complete.</p>
<div class="fragment"><div class="line">const issueTitles = await octokit.paginate(</div>
<div class="line">  &quot;GET /repos/{owner}/{repo}/issues&quot;,</div>
<div class="line">  {</div>
<div class="line">    owner: &quot;octocat&quot;,</div>
<div class="line">    repo: &quot;hello-world&quot;,</div>
<div class="line">    since: &quot;2010-10-01&quot;,</div>
<div class="line">    per_page: 100,</div>
<div class="line">  },</div>
<div class="line">  (response) =&gt; response.data.map((issue) =&gt; issue.title),</div>
<div class="line">);</div>
</div><!-- fragment --><p>The <code>mapFunction</code> gets a 2nd argument <code>done</code> which can be called to end the pagination early.</p>
<div class="fragment"><div class="line">const issues = await octokit.paginate(</div>
<div class="line">  &quot;GET /repos/{owner}/{repo}/issues&quot;,</div>
<div class="line">  {</div>
<div class="line">    owner: &quot;octocat&quot;,</div>
<div class="line">    repo: &quot;hello-world&quot;,</div>
<div class="line">    since: &quot;2010-10-01&quot;,</div>
<div class="line">    per_page: 100,</div>
<div class="line">  },</div>
<div class="line">  (response, done) =&gt; {</div>
<div class="line">    if (response.data.find((issue) =&gt; issue.title.includes(&quot;something&quot;))) {</div>
<div class="line">      done();</div>
<div class="line">    }</div>
<div class="line">    return response.data;</div>
<div class="line">  },</div>
<div class="line">);</div>
</div><!-- fragment --><p>Alternatively you can pass a <code>request</code> method as first argument. This is great when using in combination with <a href="https://github.com/octokit/plugin-rest-endpoint-methods.js/"><code>@octokit/plugin-rest-endpoint-methods</code></a>:</p>
<div class="fragment"><div class="line">const issues = await octokit.paginate(octokit.rest.issues.listForRepo, {</div>
<div class="line">  owner: &quot;octocat&quot;,</div>
<div class="line">  repo: &quot;hello-world&quot;,</div>
<div class="line">  since: &quot;2010-10-01&quot;,</div>
<div class="line">  per_page: 100,</div>
<div class="line">});</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5327"></a>
<code>octokit.paginate.iterator()</code></h1>
<p>If your target runtime environments supports async iterators (such as most modern browsers and Node 10+), you can iterate through each response</p>
<div class="fragment"><div class="line">const parameters = {</div>
<div class="line">  owner: &quot;octocat&quot;,</div>
<div class="line">  repo: &quot;hello-world&quot;,</div>
<div class="line">  since: &quot;2010-10-01&quot;,</div>
<div class="line">  per_page: 100,</div>
<div class="line">};</div>
<div class="line">for await (const response of octokit.paginate.iterator(</div>
<div class="line">  &quot;GET /repos/{owner}/{repo}/issues&quot;,</div>
<div class="line">  parameters,</div>
<div class="line">)) {</div>
<div class="line">  // do whatever you want with each response, break out of the loop, etc.</div>
<div class="line">  const issues = response.data;</div>
<div class="line">  console.log(&quot;%d issues found&quot;, issues.length);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Alternatively you can pass a <code>request</code> method as first argument. This is great when using in combination with <a href="https://github.com/octokit/plugin-rest-endpoint-methods.js/"><code>@octokit/plugin-rest-endpoint-methods</code></a>:</p>
<div class="fragment"><div class="line">const parameters = {</div>
<div class="line">  owner: &quot;octocat&quot;,</div>
<div class="line">  repo: &quot;hello-world&quot;,</div>
<div class="line">  since: &quot;2010-10-01&quot;,</div>
<div class="line">  per_page: 100,</div>
<div class="line">};</div>
<div class="line">for await (const response of octokit.paginate.iterator(</div>
<div class="line">  octokit.rest.issues.listForRepo,</div>
<div class="line">  parameters,</div>
<div class="line">)) {</div>
<div class="line">  // do whatever you want with each response, break out of the loop, etc.</div>
<div class="line">  const issues = response.data;</div>
<div class="line">  console.log(&quot;%d issues found&quot;, issues.length);</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5328"></a>
<code>composePaginateRest</code> and <code>composePaginateRest.iterator</code></h1>
<p>The <code>compose*</code> methods work just like their <code>octokit.*</code> counterparts described above, with the differenct that both methods require an <code>octokit</code> instance to be passed as first argument</p>
<h1><a class="anchor" id="autotoc_md5329"></a>
How it works</h1>
<p><code>octokit.paginate()</code> wraps <code>octokit.request()</code>. As long as a <code>rel="next"</code> link value is present in the response's <code>Link</code> header, it sends another request for that URL, and so on.</p>
<p>Most of GitHub's paginating REST API endpoints return an array, but there are a few exceptions which return an object with a key that includes the items array. For example:</p>
<ul>
<li><a href="https://developer.github.com/v3/search/#example">Search repositories</a> (key <code>items</code>)</li>
<li><a href="https://developer.github.com/v3/checks/runs/#response-3">List check runs for a specific ref</a> (key: <code>check_runs</code>)</li>
<li><a href="https://developer.github.com/v3/checks/suites/#response-1">List check suites for a specific ref</a> (key: <code>check_suites</code>)</li>
<li><a href="https://developer.github.com/v3/apps/installations/#list-repositories">List repositories</a> for an installation (key: <code>repositories</code>)</li>
<li><a href="https://developer.github.com/v3/apps/installations/#response-1">List installations for a user</a> (key <code>installations</code>)</li>
</ul>
<p><code>octokit.paginate()</code> is working around these inconsistencies so you don't have to worry about it.</p>
<p>If a response is lacking the <code>Link</code> header, <code>octokit.paginate()</code> still resolves with an array, even if the response returns a single object.</p>
<h1><a class="anchor" id="autotoc_md5330"></a>
Types</h1>
<p>The plugin also exposes some types and runtime type guards for TypeScript projects.</p>
<table class="doxtable">
<tr>
<th>Types </th><td><p class="starttd"></p>
<div class="fragment"><div class="line">import {</div>
<div class="line">  PaginateInterface,</div>
<div class="line">  PaginatingEndpoints,</div>
<div class="line">} from &quot;@octokit/plugin-paginate-rest&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
<tr>
<th>Guards </th><td><p class="starttd"></p>
<div class="fragment"><div class="line">import { isPaginatingEndpoint } from &quot;@octokit/plugin-paginate-rest&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5331"></a>
PaginateInterface</h2>
<p>An <code>interface</code> that declares all the overloads of the <code>.paginate</code> method.</p>
<h2><a class="anchor" id="autotoc_md5332"></a>
PaginatingEndpoints</h2>
<p>An <code>interface</code> which describes all API endpoints supported by the plugin. Some overloads of <code>.paginate()</code> method and <code>composePaginateRest()</code> function depend on <code>PaginatingEndpoints</code>, using the <code>keyof PaginatingEndpoints</code> as a type for one of its arguments.</p>
<div class="fragment"><div class="line">import { Octokit } from &quot;@octokit/core&quot;;</div>
<div class="line">import {</div>
<div class="line">  PaginatingEndpoints,</div>
<div class="line">  composePaginateRest,</div>
<div class="line">} from &quot;@octokit/plugin-paginate-rest&quot;;</div>
<div class="line"> </div>
<div class="line">type DataType&lt;T&gt; = &quot;data&quot; extends keyof T ? T[&quot;data&quot;] : unknown;</div>
<div class="line"> </div>
<div class="line">async function myPaginatePlugin&lt;E extends keyof PaginatingEndpoints&gt;(</div>
<div class="line">  octokit: Octokit,</div>
<div class="line">  endpoint: E,</div>
<div class="line">  parameters?: PaginatingEndpoints[E][&quot;parameters&quot;],</div>
<div class="line">): Promise&lt;DataType&lt;PaginatingEndpoints[E][&quot;response&quot;]&gt;&gt; {</div>
<div class="line">  return await composePaginateRest(octokit, endpoint, parameters);</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5333"></a>
isPaginatingEndpoint</h2>
<p>A type guard, <code>isPaginatingEndpoint(arg)</code> returns <code>true</code> if <code>arg</code> is one of the keys in <code>PaginatingEndpoints</code> (is <code>keyof PaginatingEndpoints</code>).</p>
<div class="fragment"><div class="line">import { Octokit } from &quot;@octokit/core&quot;;</div>
<div class="line">import {</div>
<div class="line">  isPaginatingEndpoint,</div>
<div class="line">  composePaginateRest,</div>
<div class="line">} from &quot;@octokit/plugin-paginate-rest&quot;;</div>
<div class="line"> </div>
<div class="line">async function myPlugin(octokit: Octokit, arg: unknown) {</div>
<div class="line">  if (isPaginatingEndpoint(arg)) {</div>
<div class="line">    return await composePaginateRest(octokit, arg);</div>
<div class="line">  }</div>
<div class="line">  // ...</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5334"></a>
Contributing</h1>
<p>See <a class="el" href="zod-to-json-schema_2_c_o_n_t_r_i_b_u_t_i_n_g_8md.html">CONTRIBUTING.md</a></p>
<h1><a class="anchor" id="autotoc_md5335"></a>
License</h1>
<p>[MIT](LICENSE) </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_e733d42223b3eabc0ae30c8e1a011656.html">@octokit</a></li><li class="navelem"><a class="el" href="dir_d38bb26c8db916607a7540fa89cb1e18.html">plugin-paginate-rest</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
