<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/parse-imports Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_559e63f335b80494265b60bc55842341.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">parse-imports Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h1 align="center">parse-imports </h1>
<div align="center"> <a href="https://npmjs.org/package/parse-imports"><img src="https://badgen.now.sh/npm/v/parse-imports" alt="version" class="inline"/> </a> <a href="https://github.com/TomerAberbach/parse-imports/actions"><img src="https://github.com/TomerAberbach/parse-imports/workflows/CI/badge.svg" alt="CI" style="pointer-events: none;" class="inline"/> </a> <a href="https://github.com/sponsors/TomerAberbach"><img src="https://img.shields.io/static/v1?label=Sponsor&amp;message=%E2%9D%A4&amp;logo=GitHub&amp;color=%23fe8e86" alt="Sponsor" class="inline"/> </a> </div><div align="center"> A blazing fast ES module imports parser. </div><h2><a class="anchor" id="autotoc_md25596"></a>
Features</h2>
<ul>
<li>Uses the superb WASM-based <a href="https://github.com/guybedford/es-module-lexer"><code>es-module-lexer</code></a> under the hood</li>
<li>Identifies module specifier types (e.g. relative file import, package import, builtin import, etc.)</li>
<li>Unescapes module specifier escape sequences</li>
<li>Collects default, named, and namespace imports</li>
<li>Works with dynamic imports</li>
<li>Resolves module specifier paths via <code>require.resolve</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md25597"></a>
Install</h2>
<div class="fragment"><div class="line">$ npm i parse-imports</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25598"></a>
Usage</h2>
<div class="fragment"><div class="line">import { parseImports } from &#39;parse-imports&#39;</div>
<div class="line"> </div>
<div class="line">const code = `</div>
<div class="line">  import a from &#39;b&#39;</div>
<div class="line">  import * as c from &#39;./d&#39;</div>
<div class="line">  import { e as f, g as h, i } from &#39;/j&#39;</div>
<div class="line">  import k, { l as m } from &#39;n&#39;</div>
<div class="line">  import o, * as p from &quot;./q&quot;</div>
<div class="line">  import r, { s as t, u } from &quot;/v&quot;</div>
<div class="line">  import fs from &#39;fs&#39;</div>
<div class="line"> </div>
<div class="line">  ;(async () =&gt; {</div>
<div class="line">    await import(&quot;w&quot;)</div>
<div class="line">    await import(&quot;x&quot; + &quot;y&quot;)</div>
<div class="line">  })()</div>
<div class="line">`</div>
<div class="line"> </div>
<div class="line">// Lazily iterate over iterable of imports</div>
<div class="line">for (const $import of await parseImports(code)) {</div>
<div class="line">  console.log($import)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Or get as an array of imports</div>
<div class="line">const imports = [...(await parseImports(code))]</div>
<div class="line"> </div>
<div class="line">console.log(imports[0])</div>
<div class="line">//=&gt;</div>
<div class="line">// {</div>
<div class="line">//   startIndex: 3,</div>
<div class="line">//   endIndex: 20,</div>
<div class="line">//   isDynamicImport: false,</div>
<div class="line">//   moduleSpecifier: {</div>
<div class="line">//     type: &#39;package&#39;,</div>
<div class="line">//     startIndex: 17,</div>
<div class="line">//     endIndex: 20,</div>
<div class="line">//     isConstant: true,</div>
<div class="line">//     code: `&#39;b&#39;`,</div>
<div class="line">//     value: &#39;b&#39;,</div>
<div class="line">//     resolved: undefined</div>
<div class="line">//   },</div>
<div class="line">//   importClause: {</div>
<div class="line">//     default: &#39;a&#39;,</div>
<div class="line">//     named: [],</div>
<div class="line">//     namespace: undefined</div>
<div class="line">//   }</div>
<div class="line">// }</div>
<div class="line"> </div>
<div class="line">console.log(imports[1])</div>
<div class="line">//=&gt;</div>
<div class="line">// {</div>
<div class="line">//   startIndex: 23,</div>
<div class="line">//   endIndex: 47,</div>
<div class="line">//   isDynamicImport: false,</div>
<div class="line">//   moduleSpecifier: {</div>
<div class="line">//     type: &#39;relative&#39;,</div>
<div class="line">//     startIndex: 42,</div>
<div class="line">//     endIndex: 47,</div>
<div class="line">//     isConstant: true,</div>
<div class="line">//     code: `&#39;./d&#39;`,</div>
<div class="line">//     value: &#39;./d&#39;,</div>
<div class="line">//     resolved: undefined</div>
<div class="line">//   },</div>
<div class="line">//   importClause: {</div>
<div class="line">//     default: undefined,</div>
<div class="line">//     named: [],</div>
<div class="line">//     namespace: &#39;c&#39;</div>
<div class="line">//   }</div>
<div class="line">// }</div>
<div class="line"> </div>
<div class="line">console.log(imports[5])</div>
<div class="line">//=&gt;</div>
<div class="line">// {</div>
<div class="line">//   startIndex: 153,</div>
<div class="line">//   endIndex: 186,</div>
<div class="line">//   isDynamicImport: false,</div>
<div class="line">//   moduleSpecifier: {</div>
<div class="line">//     type: &#39;absolute&#39;,</div>
<div class="line">//     startIndex: 182,</div>
<div class="line">//     endIndex: 186,</div>
<div class="line">//     isConstant: true,</div>
<div class="line">//     code: &#39;&quot;/v&quot;&#39;,</div>
<div class="line">//     value: &#39;/v&#39;,</div>
<div class="line">//     resolved: undefined</div>
<div class="line">//   },</div>
<div class="line">//   importClause: {</div>
<div class="line">//     default: &#39;r&#39;,</div>
<div class="line">//     named: [</div>
<div class="line">//       { specifier: &#39;s&#39;, binding: &#39;t&#39; },</div>
<div class="line">//       { specifier: &#39;u&#39;, binding: &#39;u&#39; }</div>
<div class="line">//     ],</div>
<div class="line">//     namespace: undefined</div>
<div class="line">//   }</div>
<div class="line">// }</div>
<div class="line"> </div>
<div class="line">console.log(imports[7])</div>
<div class="line">//=&gt;</div>
<div class="line">// {</div>
<div class="line">//   startIndex: 238,</div>
<div class="line">//   endIndex: 249,</div>
<div class="line">//   isDynamicImport: true,</div>
<div class="line">//   moduleSpecifier: {</div>
<div class="line">//     type: &#39;package&#39;,</div>
<div class="line">//     startIndex: 245,</div>
<div class="line">//     endIndex: 248,</div>
<div class="line">//     isConstant: true,</div>
<div class="line">//     code: &#39;&quot;w&quot;&#39;,</div>
<div class="line">//     value: &#39;w&#39;,</div>
<div class="line">//     resolved: undefined</div>
<div class="line">//   },</div>
<div class="line">//   importClause: undefined</div>
<div class="line">// }</div>
<div class="line"> </div>
<div class="line">console.log(imports[8])</div>
<div class="line">//=&gt;</div>
<div class="line">// {</div>
<div class="line">//   startIndex: 260,</div>
<div class="line">//   endIndex: 277,</div>
<div class="line">//   isDynamicImport: true,</div>
<div class="line">//   moduleSpecifier: {</div>
<div class="line">//     type: &#39;unknown&#39;,</div>
<div class="line">//     startIndex: 267,</div>
<div class="line">//     endIndex: 276,</div>
<div class="line">//     isConstant: false,</div>
<div class="line">//     code: &#39;&quot;x&quot; + &quot;y&quot;&#39;,</div>
<div class="line">//     value: undefined,</div>
<div class="line">//     resolved: undefined</div>
<div class="line">//   },</div>
<div class="line">//   importClause: undefined</div>
<div class="line">// }</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25599"></a>
API</h2>
<p>Use <code>parseImports</code> when you're able to await a <code>Promise</code> result and <code>parseImportsSync</code> otherwise.</p>
<dl class="section important"><dt>Important</dt><dd><br  />
 You can only call <code>parseImportsSync</code> once the WASM has loaded. You can be sure this has happened by awaiting the exported <code>wasmLoadPromise</code>.</dd></dl>
<p>See the <a href="./src/index.d.ts">type definitions</a> for details.</p>
<h3><a class="anchor" id="autotoc_md25600"></a>
Types</h3>
<div class="fragment"><div class="line">type ModuleSpecifierType =</div>
<div class="line">  | &#39;invalid&#39;</div>
<div class="line">  | &#39;absolute&#39;</div>
<div class="line">  | &#39;relative&#39;</div>
<div class="line">  | &#39;builtin&#39;</div>
<div class="line">  | &#39;package&#39;</div>
<div class="line">  | &#39;unknown&#39;</div>
<div class="line"> </div>
<div class="line">type Import = {</div>
<div class="line">  startIndex: number</div>
<div class="line">  endIndex: number</div>
<div class="line">  isDynamicImport: boolean</div>
<div class="line">  moduleSpecifier: {</div>
<div class="line">    type: ModuleSpecifierType</div>
<div class="line">    startIndex: number</div>
<div class="line">    endIndex: number</div>
<div class="line">    isConstant: boolean</div>
<div class="line">    code: string</div>
<div class="line">    value?: string</div>
<div class="line">    resolved?: string</div>
<div class="line">  }</div>
<div class="line">  importClause?: {</div>
<div class="line">    default?: string</div>
<div class="line">    named: string[]</div>
<div class="line">    namespace?: string</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md25601"></a>
<code>Import</code></h4>
<p><code>code.substring(startIndex, endIndex)</code> returns the full import statement or expression. <code>code.substring(moduleSpecifier.startIndex, moduleSpecifier.endIndex)</code> returns the module specifier including quotes.</p>
<p><code>moduleSpecifier.isConstant</code> is <code>true</code> when the import is not a dynamic import (<code>isDynamicImport</code> is <code>false</code>), or when the import is a dynamic import where the specifier is a simple string literal (e.g. &lsquo;import('fs&rsquo;)<code>,</code>import("fs")<code>, </code><code>import(</code>fs<code>)</code>`).</p>
<p>If <code>moduleSpecifier.isConstant</code> is <code>false</code>, then <code>moduleSpecifier.type</code> is &lsquo;'unknown&rsquo;`. Otherwise, it is set according to the following rules:</p>
<ul>
<li>&lsquo;'invalid&rsquo;<code>if the module specifier is the empty string -</code>'absolute'<code>if the module specifier is an absolute file path -</code>'relative'<code>if the module specifier is a relative file path -</code>'builtin'<code>if the module specifier is the name of a builtin Node.js package -</code>'package'` otherwise</li>
</ul>
<p><code>moduleSpecifier.code</code> is the module specifier as it was written in the code. For non-constant dynamic imports it could be a complex expression.</p>
<p><code>moduleSpecifier.value</code> is <code>moduleSpecifier.code</code> without string literal quotes and unescaped if <code>moduleSpecifier.isConstant</code> is <code>true</code>. Otherwise, it is <code>undefined</code>.</p>
<p><code>moduleSpecifier.resolved</code> is set if the <code>resolveFrom</code> option is set and <code>moduleSpecifier.value</code> is not <code>undefined</code>.</p>
<p><code>importClause</code> is only <code>undefined</code> if <code>isDynamicImport</code> is <code>true</code>.</p>
<p><code>importClause.default</code> is the default import identifier or <code>undefined</code> if the import statement does not have a default import.</p>
<p><code>importClause.named</code> is the array of objects representing the named imports of the import statement. It is empty if the import statement does not have any named imports. Each object in the array has a <code>specifier</code> field set to the imported identifier and a <code>binding</code> field set to the identifier for accessing the imported value. For example, &lsquo;import { a, x as y } from 'something&rsquo;<code>would have the following array for</code>importClause.named<code>: </code>[{ specifier: 'a', binding: 'a' }, { specifier: 'x', binding: 'y' }]`.</p>
<p><code>importClause.namespace</code> is the namespace import identifier or <code>undefined</code> if the import statement does not have a namespace import.</p>
<h2><a class="anchor" id="autotoc_md25602"></a>
Contributing</h2>
<p>Stars are always welcome!</p>
<p>For bugs and feature requests, <a href="https://github.com/TomerAberbach/parse-imports/issues/new">please create an issue</a>.</p>
<h2><a class="anchor" id="autotoc_md25603"></a>
License</h2>
<p><a href="https://github.com/TomerAberbach/parse-imports/blob/main/license">MIT</a> © <a href="https://github.com/TomerAberbach">Tomer Aberbach</a> \ <a href="https://github.com/TomerAberbach/parse-imports/blob/main/license-apache">Apache 2.0</a> © <a href="https://github.com/TomerAberbach/parse-imports/blob/main/notice-apache">Google</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_559e63f335b80494265b60bc55842341.html">parse-imports</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
