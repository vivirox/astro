<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/htmlparser2 Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_4ddf621a562b13b6430d70c7e3f51335.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">htmlparser2 Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://npmjs.org/package/htmlparser2"><img src="https://img.shields.io/npm/v/htmlparser2.svg" alt="NPM version" style="pointer-events: none;" class="inline"/></a> <a href="https://npmjs.org/package/htmlparser2"><img src="https://img.shields.io/npm/dm/htmlparser2.svg" alt="Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/fb55/htmlparser2/actions/workflows/nodejs-test.yml"><img src="https://github.com/fb55/htmlparser2/actions/workflows/nodejs-test.yml/badge.svg" alt="Node.js CI" style="pointer-events: none;" class="inline"/></a> <a href="https://coveralls.io/r/fb55/htmlparser2"><img src="https://img.shields.io/coveralls/fb55/htmlparser2.svg" alt="Coverage" style="pointer-events: none;" class="inline"/></a></p>
<p>The fast &amp; forgiving HTML/XML parser.</p>
<p><em>htmlparser2 is the fastest HTML parser, and takes some shortcuts to get there. If you need strict HTML spec compliance, have a look at <a href="https://github.com/inikulin/parse5">parse5</a>.</em></p>
<h1><a class="anchor" id="autotoc_md17894"></a>
Installation</h1>
<pre class="fragment">npm install htmlparser2
</pre><p>A live demo of <code>htmlparser2</code> is available <a href="https://astexplorer.net/#/2AmVrGuGVJ">on AST Explorer</a>.</p>
<h1><a class="anchor" id="autotoc_md17895"></a>
Ecosystem</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/fb55/htmlparser2">htmlparser2</a>   </td><td class="markdownTableBodyNone">Fast &amp; forgiving HTML/XML parser    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/fb55/domhandler">domhandler</a>   </td><td class="markdownTableBodyNone">Handler for htmlparser2 that turns documents into a DOM    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/fb55/domutils">domutils</a>   </td><td class="markdownTableBodyNone">Utilities for working with domhandler's DOM    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/fb55/css-select">css-select</a>   </td><td class="markdownTableBodyNone">CSS selector engine, compatible with domhandler's DOM    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a href="https://github.com/cheeriojs/cheerio">cheerio</a>   </td><td class="markdownTableBodyNone">The jQuery API for domhandler's DOM    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a href="https://github.com/cheeriojs/dom-serializer">dom-serializer</a>   </td><td class="markdownTableBodyNone">Serializer for domhandler's DOM   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md17896"></a>
Usage</h1>
<p><code>htmlparser2</code> itself provides a callback interface that allows consumption of documents with minimal allocations. For a more ergonomic experience, read Getting a DOM below.</p>
<div class="fragment"><div class="line">import * as htmlparser2 from &quot;htmlparser2&quot;;</div>
<div class="line"> </div>
<div class="line">const parser = new htmlparser2.Parser({</div>
<div class="line">    onopentag(name, attributes) {</div>
<div class="line">        /*</div>
<div class="line">         * This fires when a new tag is opened.</div>
<div class="line">         *</div>
<div class="line">         * If you don&#39;t need an aggregated `attributes` object,</div>
<div class="line">         * have a look at the `onopentagname` and `onattribute` events.</div>
<div class="line">         */</div>
<div class="line">        if (name === &quot;script&quot; &amp;&amp; attributes.type === &quot;text/javascript&quot;) {</div>
<div class="line">            console.log(&quot;JS! Hooray!&quot;);</div>
<div class="line">        }</div>
<div class="line">    },</div>
<div class="line">    ontext(text) {</div>
<div class="line">        /*</div>
<div class="line">         * Fires whenever a section of text was processed.</div>
<div class="line">         *</div>
<div class="line">         * Note that this can fire at any point within text and you might</div>
<div class="line">         * have to stitch together multiple pieces.</div>
<div class="line">         */</div>
<div class="line">        console.log(&quot;--&gt;&quot;, text);</div>
<div class="line">    },</div>
<div class="line">    onclosetag(tagname) {</div>
<div class="line">        /*</div>
<div class="line">         * Fires when a tag is closed.</div>
<div class="line">         *</div>
<div class="line">         * You can rely on this event only firing when you have received an</div>
<div class="line">         * equivalent opening tag before. Closing tags without corresponding</div>
<div class="line">         * opening tags will be ignored.</div>
<div class="line">         */</div>
<div class="line">        if (tagname === &quot;script&quot;) {</div>
<div class="line">            console.log(&quot;That&#39;s it?!&quot;);</div>
<div class="line">        }</div>
<div class="line">    },</div>
<div class="line">});</div>
<div class="line">parser.write(</div>
<div class="line">    &quot;Xyz &lt;script type=&#39;text/javascript&#39;&gt;const foo = &#39;&lt;&lt;bar&gt;&gt;&#39;;&lt;/script&gt;&quot;</div>
<div class="line">);</div>
<div class="line">parser.end();</div>
</div><!-- fragment --><p>Output (with multiple text events combined):</p>
<div class="fragment"><div class="line">--&gt; Xyz</div>
<div class="line">JS! Hooray!</div>
<div class="line">--&gt; const foo = &#39;&lt;&lt;bar&gt;&gt;&#39;;</div>
<div class="line">That&#39;s it?!</div>
</div><!-- fragment --><p>This example only shows three of the possible events. Read more about the parser, its events and options in the <a href="https://github.com/fb55/htmlparser2/wiki/Parser-options">wiki</a>.</p>
<h2><a class="anchor" id="autotoc_md17897"></a>
Usage with streams</h2>
<p>While the <code>Parser</code> interface closely resembles Node.js streams, it's not a 100% match. Use the <code>WritableStream</code> interface to process a streaming input:</p>
<div class="fragment"><div class="line">import { WritableStream } from &quot;htmlparser2/lib/WritableStream&quot;;</div>
<div class="line"> </div>
<div class="line">const parserStream = new WritableStream({</div>
<div class="line">    ontext(text) {</div>
<div class="line">        console.log(&quot;Streaming:&quot;, text);</div>
<div class="line">    },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">const htmlStream = fs.createReadStream(&quot;./my-file.html&quot;);</div>
<div class="line">htmlStream.pipe(parserStream).on(&quot;finish&quot;, () =&gt; console.log(&quot;done&quot;));</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17898"></a>
Getting a DOM</h1>
<p>The <code>DomHandler</code> produces a DOM (document object model) that can be manipulated using the <a href="https://github.com/fb55/DomUtils"><code>DomUtils</code></a> helper.</p>
<div class="fragment"><div class="line">import * as htmlparser2 from &quot;htmlparser2&quot;;</div>
<div class="line"> </div>
<div class="line">const dom = htmlparser2.parseDocument(htmlString);</div>
</div><!-- fragment --><p>The <code>DomHandler</code>, while still bundled with this module, was moved to its <a href="https://github.com/fb55/domhandler">own module</a>. Have a look at that for further information.</p>
<h1><a class="anchor" id="autotoc_md17899"></a>
Parsing RSS/RDF/Atom Feeds</h1>
<div class="fragment"><div class="line">const feed = htmlparser2.parseFeed(content, options);</div>
</div><!-- fragment --><p>Note: While the provided feed handler works for most feeds, you might want to use <a href="https://github.com/danmactough/node-feedparser">danmactough/node-feedparser</a>, which is much better tested and actively maintained.</p>
<h1><a class="anchor" id="autotoc_md17900"></a>
Performance</h1>
<p>After having some artificial benchmarks for some time, <b>@AndreasMadsen</b> published his <a href="https://github.com/AndreasMadsen/htmlparser-benchmark"><code>htmlparser-benchmark</code></a>, which benchmarks HTML parses based on real-world websites.</p>
<p>At the time of writing, the latest versions of all supported parsers show the following performance characteristics on GitHub Actions (sourced from <a href="https://github.com/AndreasMadsen/htmlparser-benchmark/blob/e78cd8fc6c2adac08deedd4f274c33537451186b/stats.txt">here</a>):</p>
<div class="fragment"><div class="line">htmlparser2        : 2.17215 ms/file ± 3.81587</div>
<div class="line">node-html-parser   : 2.35983 ms/file ± 1.54487</div>
<div class="line">html5parser        : 2.43468 ms/file ± 2.81501</div>
<div class="line">neutron-html5parser: 2.61356 ms/file ± 1.70324</div>
<div class="line">htmlparser2-dom    : 3.09034 ms/file ± 4.77033</div>
<div class="line">html-dom-parser    : 3.56804 ms/file ± 5.15621</div>
<div class="line">libxmljs           : 4.07490 ms/file ± 2.99869</div>
<div class="line">htmljs-parser      : 6.15812 ms/file ± 7.52497</div>
<div class="line">parse5             : 9.70406 ms/file ± 6.74872</div>
<div class="line">htmlparser         : 15.0596 ms/file ± 89.0826</div>
<div class="line">html-parser        : 28.6282 ms/file ± 22.6652</div>
<div class="line">saxes              : 45.7921 ms/file ± 128.691</div>
<div class="line">html5              : 120.844 ms/file ± 153.944</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md17901"></a>
How does this module differ from <a href="https://github.com/tautologistics/node-htmlparser">node-htmlparser</a>?</h1>
<p>In 2011, this module started as a fork of the <code>htmlparser</code> module. <code>htmlparser2</code> was rewritten multiple times and, while it maintains an API that's mostly compatible with <code>htmlparser</code>, the projects don't share any code anymore.</p>
<p>The parser now provides a callback interface inspired by <a href="https://github.com/isaacs/sax-js">sax.js</a> (originally targeted at <a href="https://github.com/fb55/readabilitysax">readabilitySAX</a>). As a result, old handlers won't work anymore.</p>
<p>The <code>DefaultHandler</code> was renamed to clarify its purpose (to <code>DomHandler</code>). The old name is still available when requiring <code>htmlparser2</code> and your code should work as expected.</p>
<p>The <code>RssHandler</code> was replaced with a <code>getFeed</code> function that takes a <code>DomHandler</code> DOM and returns a feed object. There is a <code>parseFeed</code> helper function that can be used to parse a feed from a string.</p>
<h1><a class="anchor" id="autotoc_md17902"></a>
Security contact information</h1>
<p>To report a security vulnerability, please use the <a href="https://tidelift.com/security">Tidelift security contact</a>. Tidelift will coordinate the fix and disclosure.</p>
<h1><a class="anchor" id="autotoc_md17903"></a>
<code>htmlparser2</code> for enterprise</h1>
<p>Available as part of the Tidelift Subscription.</p>
<p>The maintainers of <code>htmlparser2</code> and thousands of other packages are working with Tidelift to deliver commercial support and maintenance for the open source dependencies you use to build your applications. Save time, reduce risk, and improve code health, while paying the maintainers of the exact dependencies you use. <a href="https://tidelift.com/subscription/pkg/npm-htmlparser2?utm_source=npm-htmlparser2&amp;utm_medium=referral&amp;utm_campaign=enterprise&amp;utm_term=repo">Learn more.</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_4ddf621a562b13b6430d70c7e3f51335.html">htmlparser2</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
