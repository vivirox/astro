<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/@octokit/auth-oauth-user Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_0980a7b08fcb7981bc189b26b8dc67f5.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">auth-oauth-user Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<blockquote class="doxtable">
<p>Octokit authentication strategy for OAuth user authentication </p>
</blockquote>
<p><a href="https://www.npmjs.com/package/@octokit/auth-oauth-user"><img src="https://img.shields.io/npm/v/@octokit/auth-oauth-user.svg" alt="@latest" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/octokit/auth-oauth-user.js/actions?query=workflow%3ATest+branch%3Amain"><img src="https://github.com/octokit/auth-oauth-user.js/workflows/Test/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p><b>Important:</b> <code>@octokit/auth-oauth-user</code> requires your app's <code>client_secret</code>, which must not be exposed. If you are looking for an OAuth user authentication strategy that can be used on a client (browser, IoT, CLI), check out <a href="https://github.com/octokit/auth-oauth-user-client.js#readme"><code>@octokit/auth-oauth-user-client</code></a>. Note that <code>@octokit/auth-oauth-user-client</code> requires a backend. The only exception is <a href="https://github.com/octokit/auth-oauth-device.js#readme"><code>@octokit/auth-oauth-device</code></a> which does not require the <code>client_secret</code>, but does not work in browsers due to CORS constraints.</p>
<details >
<summary >
Table of contents</summary>
<p></p>
<ul>
<li><a class="el" href="md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g.html#features">Features</a></li>
<li>Standalone usage<ul>
<li>Exchange code from OAuth web flow</li>
<li>OAuth Device flow</li>
<li>Use an existing authentication</li>
</ul>
</li>
<li>Usage with Octokit</li>
<li>`createOAuthUserAuth(options)` or `new Octokit({ auth })`<ul>
<li>When using GitHub's OAuth web flow</li>
<li>When using GitHub's OAuth device flow</li>
<li>When passing an existing authentication object</li>
</ul>
</li>
<li>`auth(options)` or `octokit.auth(options)`</li>
<li>Authentication object<ul>
<li>OAuth APP authentication token</li>
<li>GitHub APP user authentication token with expiring disabled</li>
<li>GitHub APP user authentication token with expiring enabled</li>
</ul>
</li>
<li>`auth.hook(request, route, parameters)` or `auth.hook(request, options)`</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#types">Types</a></li>
<li><a class="el" href="md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g.html#contributing">Contributing</a></li>
<li><a class="el" href="/Users/vivi/astro/node_modules/bl/README.md#license">License</a></li>
</ul>
<p></p>
</details>
<h1><a class="anchor" id="autotoc_md5175"></a>
Features</h1>
<ul>
<li>Code for token exchange from <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#web-application-flow">GitHub's OAuth web flow</a></li>
<li><a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#device-flow">GitHub's OAuth device flow</a></li>
<li>Caches token for succesive calls</li>
<li>Auto-refreshing for <a href="https://docs.github.com/en/developers/apps/refreshing-user-to-server-access-tokens">expiring user access tokens</a></li>
<li>Applies the correct authentication strategy based on the request URL when using with <code>Octokit</code></li>
<li>Token verification</li>
<li>Token reset</li>
<li>Token invalidation</li>
<li>Application grant revocation</li>
</ul>
<h1><a class="anchor" id="autotoc_md5176"></a>
Standalone usage</h1>
<table class="doxtable">
<tr>
<th><p class="starttd"></p>
<p class="intertd">Browsers</p>
<p class="endtd"></p>
</th><td width="100%"><p class="starttd"></p>
<p class="intertd">Load <code>@octokit/auth-oauth-user</code> directly from <a href="https://esm.sh">esm.sh</a></p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import { createOAuthUserAuth } from &quot;https://esm.sh/@octokit/auth-oauth-user&quot;;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
<tr>
<th><p class="starttd"></p>
<p class="intertd">Node</p>
<p class="endtd"></p>
</th><td><p class="starttd"></p>
<p class="intertd">Install with <code>npm install @octokit/auth-oauth-user</code></p>
<div class="fragment"><div class="line">import { createOAuthUserAuth } from &quot;@octokit/auth-oauth-user&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5177"></a>
Exchange code from OAuth web flow</h2>
<div class="fragment"><div class="line">const auth = createOAuthUserAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  code: &quot;code123&quot;,</div>
<div class="line">  // optional</div>
<div class="line">  state: &quot;state123&quot;,</div>
<div class="line">  redirectUrl: &quot;https://acme-inc.com/login&quot;,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Exchanges the code for the user access token authentication on first call</div>
<div class="line">// and caches the authentication for successive calls</div>
<div class="line">const { token } = await auth();</div>
</div><!-- fragment --><p>About <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#web-application-flow">GitHub's OAuth web flow</a></p>
<h2><a class="anchor" id="autotoc_md5178"></a>
OAuth Device flow</h2>
<div class="fragment"><div class="line">const auth = createOAuthUserAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  onVerification(verification) {</div>
<div class="line">    // verification example</div>
<div class="line">    // {</div>
<div class="line">    //   device_code: &quot;3584d83530557fdd1f46af8289938c8ef79f9dc5&quot;,</div>
<div class="line">    //   user_code: &quot;WDJB-MJHT&quot;,</div>
<div class="line">    //   verification_uri: &quot;https://github.com/login/device&quot;,</div>
<div class="line">    //   expires_in: 900,</div>
<div class="line">    //   interval: 5,</div>
<div class="line">    // };</div>
<div class="line"> </div>
<div class="line">    console.log(&quot;Open %s&quot;, verification.verification_uri);</div>
<div class="line">    console.log(&quot;Enter code: %s&quot;, verification.user_code);</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// resolves once the user entered the `user_code` on `verification_uri`</div>
<div class="line">const { token } = await auth();</div>
</div><!-- fragment --><p>About <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#device-flow">GitHub's OAuth device flow</a></p>
<h2><a class="anchor" id="autotoc_md5179"></a>
Use an existing authentication</h2>
<div class="fragment"><div class="line">const auth = createOAuthUserAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  clientType: &quot;oauth-app&quot;,</div>
<div class="line">  token: &quot;token123&quot;,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// will return the passed authentication</div>
<div class="line">const { token } = await auth();</div>
</div><!-- fragment --><p>See Authentication object.</p>
<h1><a class="anchor" id="autotoc_md5180"></a>
Usage with Octokit</h1>
<table class="doxtable">
<tr>
<th><p class="starttd"></p>
<p class="intertd">Browsers</p>
<p class="endtd"></p>
</th><td width="100%"><p class="starttd"></p>
<p class="intertd"><code>@octokit/auth-oauth-user</code> cannot be used in the browser. It requires <code>clientSecret</code> to be set which must not be exposed to clients, and some of the OAuth APIs it uses do not support CORS.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<th><p class="starttd"></p>
<p class="intertd">Node</p>
<p class="endtd"></p>
</th><td><p class="starttd"></p>
<p class="intertd">Install with <code>npm install @octokit/core @octokit/auth-oauth-user</code>. Optionally replace <code>@octokit/core</code> with a compatible module</p>
<div class="fragment"><div class="line">import { Octokit } from &quot;@octokit/core&quot;;</div>
<div class="line">import { createOAuthUserAuth } from &quot;@octokit/auth-oauth-user&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<div class="fragment"><div class="line">const octokit = new Octokit({</div>
<div class="line">  authStrategy: createOAuthUserAuth,</div>
<div class="line">  auth: {</div>
<div class="line">    clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">    clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">    code: &quot;code123&quot;,</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Exchanges the code for the user access token authentication on first request</div>
<div class="line">// and caches the authentication for successive requests</div>
<div class="line">const {</div>
<div class="line">  data: { login },</div>
<div class="line">} = await octokit.request(&quot;GET /user&quot;);</div>
<div class="line">console.log(&quot;Hello, %s!&quot;, login);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5181"></a>
<code>createOAuthUserAuth(options)</code> or <code>new Octokit({ auth })</code></h1>
<p>The <code>createOAuthUserAuth</code> method accepts a single <code>options</code> object as argument. The same set of options can be passed as <code>auth</code> to the <code>Octokit</code> constructor when setting <code>authStrategy: createOAuthUserAuth</code></p>
<h2><a class="anchor" id="autotoc_md5182"></a>
When using GitHub's OAuth web flow</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client ID of your GitHub/OAuth App. Find it on your app's settings page.   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client Secret for your GitHub/OAuth App. Create one on your app's settings page.   </td></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td>Either <code>"oauth-app"</code> or <code>"github-app"</code>. Defaults to <code>"oauth-app"</code>.   </td></tr>
<tr>
<th><code>code</code>  </th><th><code>string</code>  </th><td><p class="starttd"></p>
<p class="intertd"><b>Required.</b> The authorization code which was passed as query parameter to the callback URL from <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#web-application-flow">GitHub's OAuth web application flow</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<th><code>state</code>  </th><th><code>string</code>  </th><td><p class="starttd"></p>
<p class="intertd">The unguessable random string you provided in <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#1-request-a-users-github-identity">Step 1 of GitHub's OAuth web application flow</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<th><code>redirectUrl</code>  </th><th><code>string</code>  </th><td><p class="starttd"></p>
<p class="intertd">The <code>redirect_uri</code> parameter you provided in <a href="https://docs.github.com/en/developers/apps/authorizing-oauth-apps#1-request-a-users-github-identity">Step 1 of GitHub's OAuth web application flow</a>.</p>
<p class="endtd"></p>
</td></tr>
<tr>
<th><code>request</code>  </th><th><code>function</code>  </th><td><p class="starttd">You can pass in your own <a href="https://github.com/octokit/request.js"><code>@octokit/request</code></a> instance. For usage with enterprise, set <code>baseUrl</code> to the API root endpoint. Example:</p>
<div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
<div class="line">createOAuthAppAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  request: request.defaults({</div>
<div class="line">    baseUrl: &quot;https://ghe.my-company.com/api/v3&quot;,</div>
<div class="line">  }),</div>
<div class="line">});</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5183"></a>
When using GitHub's OAuth device flow</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client ID of your GitHub/OAuth App. Find it on your app's settings page.   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client Secret for your GitHub/OAuth App. The <code>clientSecret</code> is not needed for the OAuth device flow itself, but it is required for resetting, refreshing, and invalidating a token. Find the Client Secret on your app's settings page.   </td></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td>Either <code>"oauth-app"</code> or <code>"github-app"</code>. Defaults to <code>"oauth-app"</code>.   </td></tr>
<tr>
<th><code>onVerification</code>  </th><th><code>function</code>  </th><td><p class="starttd"></p>
<p class="intertd"><b>Required</b>. A function that is called once the device and user codes were retrieved</p>
<p class="intertd">The <code>onVerification()</code> callback can be used to pause until the user completes step 2, which might result in a better user experience.</p>
<div class="fragment"><div class="line">const auth = createOAuthUserAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  onVerification(verification) {</div>
<div class="line">    console.log(&quot;Open %s&quot;, verification.verification_uri);</div>
<div class="line">    console.log(&quot;Enter code: %s&quot;, verification.user_code);</div>
<div class="line"> </div>
<div class="line">    await prompt(&quot;press enter when you are ready to continue&quot;);</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
<tr>
<th><code>request</code>  </th><th><code>function</code>  </th><td><p class="starttd">You can pass in your own <a href="https://github.com/octokit/request.js"><code>@octokit/request</code></a> instance. For usage with enterprise, set <code>baseUrl</code> to the API root endpoint. Example:</p>
<div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
<div class="line">createOAuthAppAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  onVerification(verification) {</div>
<div class="line">    console.log(&quot;Open %s&quot;, verification.verification_uri);</div>
<div class="line">    console.log(&quot;Enter code: %s&quot;, verification.user_code);</div>
<div class="line"> </div>
<div class="line">    await prompt(&quot;press enter when you are ready to continue&quot;);</div>
<div class="line">  },</div>
<div class="line">  request: request.defaults({</div>
<div class="line">    baseUrl: &quot;https://ghe.my-company.com/api/v3&quot;,</div>
<div class="line">  }),</div>
<div class="line">});</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5184"></a>
When passing an existing authentication object</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Either <code>"oauth-app"</code> or <code>"github"</code>.   </td></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client ID of your GitHub/OAuth App. Find it on your app's settings page.   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td><b>Required</b>. Client Secret for your GitHub/OAuth App. Create one on your app's settings page.   </td></tr>
<tr>
<th><code>token</code>  </th><th><code>string</code>  </th><td><b>Required</b>. The user access token   </td></tr>
<tr>
<th><code>scopes</code>  </th><th><code>array of strings</code>  </th><td><b>Required if <code>clientType</code> is set to <code>"oauth-app"</code></b>. Array of OAuth scope names the token was granted   </td></tr>
<tr>
<th><code>refreshToken</code>  </th><th><code>string</code>  </th><td>Only relevant if <code>clientType</code> is set to <code>"github-app"</code> and token expiration is enabled.   </td></tr>
<tr>
<th><code>expiresAt</code>  </th><th><code>string</code>  </th><td>Only relevant if <code>clientType</code> is set to <code>"github-app"</code> and token expiration is enabled. Date timestamp in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">ISO 8601</a> standard. Example: <code>2022-01-01T08:00:0.000Z</code>    </td></tr>
<tr>
<th><code>refreshTokenExpiresAt</code>  </th><th><code>string</code>  </th><td>Only relevant if <code>clientType</code> is set to <code>"github-app"</code> and token expiration is enabled. Date timestamp in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">ISO 8601</a> standard. Example: <code>2021-07-01T00:00:0.000Z</code>   </td></tr>
<tr>
<th><code>request</code>  </th><th><code>function</code>  </th><td><p class="starttd">You can pass in your own <a href="https://github.com/octokit/request.js"><code>@octokit/request</code></a> instance. For usage with enterprise, set <code>baseUrl</code> to the API root endpoint. Example:</p>
<div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
<div class="line">createOAuthAppAuth({</div>
<div class="line">  clientId: &quot;1234567890abcdef1234&quot;,</div>
<div class="line">  clientSecret: &quot;1234567890abcdef1234567890abcdef12345678&quot;,</div>
<div class="line">  request: request.defaults({</div>
<div class="line">    baseUrl: &quot;https://ghe.my-company.com/api/v3&quot;,</div>
<div class="line">  }),</div>
<div class="line">});</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<dl class="section important"><dt>Important</dt><dd>As we use <a href="https://nodejs.org/api/packages.html#conditional-exports">conditional exports</a>, you will need to adapt your <code>tsconfig.json</code> by setting <code>"moduleResolution": "node16", "module": "node16"</code>. <br  />
<br  />
 See the TypeScript docs on <a href="https://www.typescriptlang.org/docs/handbook/modules/reference.html#packagejson-exports">package.json "exports"</a>.<br  />
 See this <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">helpful guide on transitioning to ESM</a> from <a href="https://github.com/sindresorhus">@sindresorhus</a></dd></dl>
<h1><a class="anchor" id="autotoc_md5185"></a>
<code>auth(options)</code> or <code>octokit.auth(options)</code></h1>
<p>The async <code>auth()</code> method is returned by <code>createOAuthUserAuth(options)</code> or set on the <code>octokit</code> instance when the <code>Octokit</code> constructor was called with <code>authStrategy: createOAuthUserAuth</code>.</p>
<p>Once <code>auth()</code> receives a valid authentication object it caches it in memory and uses it for subsequent calls. It also caches if the token is invalid and no longer tries to send any requests. If the authentication is using a refresh token, a new token will be requested as needed. Calling <code>auth({ type: "reset" })</code> will replace the internally cached authentication.</p>
<p>Resolves with an authentication object.</p>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>type</code>  </th><th><code>string</code>  </th><td><p class="starttd"></p>
<p class="intertd">Without setting <code>type</code> auth will return the current authentication object, or exchange the <code>code</code> from the strategy options on first call. If the current authentication token is expired, the tokens will be refreshed.</p>
<p class="intertd">Possible values for <code>type</code> are</p>
<ul>
<li><code>"get"</code>: returns the token from internal state and creates it if none was created yet</li>
<li><code>"check"</code>: sends request to verify the validity of the current token</li>
<li><code>"reset"</code>: invalidates current token and replaces it with a new one</li>
<li><code>"refresh"</code>: GitHub Apps only, and only if expiring user tokens are enabled.</li>
<li><code>"delete"</code>: invalidates current token</li>
<li><code>"deleteAuthorization"</code>: revokes OAuth access for application. All tokens for the current user created by the same app are invalidated. The user will be prompted to grant access again during the next OAuth web flow.</li>
</ul>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="autotoc_md5186"></a>
Authentication object</h1>
<p>There are three possible results</p>
<ol type="1">
<li>OAuth APP authentication token</li>
</ol>
<ol type="1">
<li>GitHub APP user authentication token with expiring disabled</li>
</ol>
<ol type="1">
<li>GitHub APP user authentication token with expiring enabled</li>
</ol>
<p>The differences are</p>
<ol type="1">
<li><code>scopes</code> is only present for OAuth Apps</li>
<li><code>refreshToken</code>, <code>expiresAt</code>, <code>refreshTokenExpiresAt</code> are only present for GitHub Apps, and only if token expiration is enabled</li>
</ol>
<h2><a class="anchor" id="autotoc_md5187"></a>
OAuth APP authentication token</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>type</code>  </th><th><code>string</code>  </th><td><code>"token"</code>   </td></tr>
<tr>
<th><code>tokenType</code>  </th><th><code>string</code>  </th><td><code>"oauth"</code>   </td></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td><code>"oauth-app"</code>   </td></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td>The <code>clientId</code> from the strategy options   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td>The <code>clientSecret</code> from the strategy options   </td></tr>
<tr>
<th><code>token</code>  </th><th><code>string</code>  </th><td>The user access token   </td></tr>
<tr>
<th><code>scopes</code>  </th><th><code>array of strings</code>  </th><td>array of scope names enabled for the token   </td></tr>
<tr>
<th><code>onTokenCreated</code>  </th><th><code>function</code>  </th><td>callback invoked when a token is "reset" or "refreshed"   </td></tr>
<tr>
<th><code>invalid</code>  </th><th><code>boolean</code>  </th><td><p class="starttd"></p>
<p class="intertd">Either <code>undefined</code> or <code>true</code>. Will be set to <code>true</code> if the token was invalided explicitly or found to be invalid</p>
<p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5188"></a>
GitHub APP user authentication token with expiring disabled</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>type</code>  </th><th><code>string</code>  </th><td><code>"token"</code>   </td></tr>
<tr>
<th><code>tokenType</code>  </th><th><code>string</code>  </th><td><code>"oauth"</code>   </td></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td><code>"github-app"</code>   </td></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td>The <code>clientId</code> from the strategy options   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td>The <code>clientSecret</code> from the strategy options   </td></tr>
<tr>
<th><code>token</code>  </th><th><code>string</code>  </th><td>The user access token   </td></tr>
<tr>
<th><code>onTokenCreated</code>  </th><th><code>function</code>  </th><td>callback invoked when a token is "reset" or "refreshed"   </td></tr>
<tr>
<th><code>invalid</code>  </th><th><code>boolean</code>  </th><td><p class="starttd"></p>
<p class="intertd">Either <code>undefined</code> or <code>true</code>. Will be set to <code>true</code> if the token was invalided explicitly or found to be invalid</p>
<p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5189"></a>
GitHub APP user authentication token with expiring enabled</h2>
<table width="100%">
<tr>
<th width="150">name  </th><th width="70">type  </th><th>description     </th></tr>
<tr>
<th><code>type</code>  </th><th><code>string</code>  </th><td><code>"token"</code>   </td></tr>
<tr>
<th><code>tokenType</code>  </th><th><code>string</code>  </th><td><code>"oauth"</code>   </td></tr>
<tr>
<th><code>clientType</code>  </th><th><code>string</code>  </th><td><code>"github-app"</code>   </td></tr>
<tr>
<th><code>clientId</code>  </th><th><code>string</code>  </th><td>The <code>clientId</code> from the strategy options   </td></tr>
<tr>
<th><code>clientSecret</code>  </th><th><code>string</code>  </th><td>The <code>clientSecret</code> from the strategy options   </td></tr>
<tr>
<th><code>token</code>  </th><th><code>string</code>  </th><td>The user access token   </td></tr>
<tr>
<th><code>refreshToken</code>  </th><th><code>string</code>  </th><td>The refresh token   </td></tr>
<tr>
<th><code>expiresAt</code>  </th><th><code>string</code>  </th><td>Date timestamp in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">ISO 8601</a> standard. Example: <code>2022-01-01T08:00:0.000Z</code>   </td></tr>
<tr>
<th><code>refreshTokenExpiresAt</code>  </th><th><code>string</code>  </th><td>Date timestamp in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString">ISO 8601</a> standard. Example: <code>2021-07-01T00:00:0.000Z</code>   </td></tr>
<tr>
<th><code>invalid</code>  </th><th><code>boolean</code>  </th><td><p class="starttd"></p>
<p class="intertd">Either <code>undefined</code> or <code>true</code>. Will be set to <code>true</code> if the token was invalided explicitly or found to be invalid</p>
<p class="endtd"></p>
</td></tr>
</table>
<h1><a class="anchor" id="autotoc_md5190"></a>
<code>auth.hook(request, route, parameters)</code> or <code>auth.hook(request, options)</code></h1>
<p><code>auth.hook()</code> hooks directly into the request life cycle. It amends the request to authenticate correctly based on the request URL.</p>
<p>The <code>request</code> option is an instance of <a href="https://github.com/octokit/request.js#readme"><code>@octokit/request</code></a>. The <code>route</code>/<code>options</code> parameters are the same as for the <a href="https://github.com/octokit/request.js#request"><code>request()</code> method</a>.</p>
<p><code>auth.hook()</code> can be called directly to send an authenticated request</p>
<div class="fragment"><div class="line">const { data: user } = await auth.hook(request, &quot;GET /user&quot;);</div>
</div><!-- fragment --><p>Or it can be passed as option to <a href="https://github.com/octokit/request.js#request"><code>request()</code></a>.</p>
<div class="fragment"><div class="line">const requestWithAuth = request.defaults({</div>
<div class="line">  request: {</div>
<div class="line">    hook: auth.hook,</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">const { data: user } = await requestWithAuth(&quot;GET /user&quot;);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5191"></a>
Types</h1>
<div class="fragment"><div class="line">import {</div>
<div class="line">  GitHubAppAuthentication,</div>
<div class="line">  GitHubAppAuthenticationWithExpiration,</div>
<div class="line">  GitHubAppAuthOptions,</div>
<div class="line">  GitHubAppStrategyOptions,</div>
<div class="line">  GitHubAppStrategyOptionsDeviceFlow,</div>
<div class="line">  GitHubAppStrategyOptionsExistingAuthentication,</div>
<div class="line">  GitHubAppStrategyOptionsExistingAuthenticationWithExpiration,</div>
<div class="line">  GitHubAppStrategyOptionsWebFlow,</div>
<div class="line">  OAuthAppAuthentication,</div>
<div class="line">  OAuthAppAuthOptions,</div>
<div class="line">  OAuthAppStrategyOptions,</div>
<div class="line">  OAuthAppStrategyOptionsDeviceFlow,</div>
<div class="line">  OAuthAppStrategyOptionsExistingAuthentication,</div>
<div class="line">  OAuthAppStrategyOptionsWebFlow,</div>
<div class="line">} from &quot;@octokit/auth-oauth-user&quot;;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5192"></a>
Contributing</h1>
<p>See <a class="el" href="zod-to-json-schema_2_c_o_n_t_r_i_b_u_t_i_n_g_8md.html">CONTRIBUTING.md</a></p>
<h1><a class="anchor" id="autotoc_md5193"></a>
License</h1>
<p>[MIT](LICENSE) </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_e733d42223b3eabc0ae30c8e1a011656.html">@octokit</a></li><li class="navelem"><a class="el" href="dir_0980a7b08fcb7981bc189b26b8dc67f5.html">auth-oauth-user</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
