<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/micromark-extension-mdx-expression Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_c42ae798421301340c64cffceb66c446.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">micromark-extension-mdx-expression Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://github.com/micromark/micromark-extension-mdx-expression/actions"><img src="https://github.com/micromark/micromark-extension-mdx-expression/workflows/main/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/github/micromark/micromark-extension-mdx-expression"><img src="https://img.shields.io/codecov/c/github/micromark/micromark-extension-mdx-expression.svg" alt="Coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.com/package/micromark-extension-mdx-expression"><img src="https://img.shields.io/npm/dm/micromark-extension-mdx-expression.svg" alt="Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://bundlejs.com/?q=micromark-extension-mdx-expression"><img src="https://img.shields.io/badge/dynamic/json?label=minzipped%20size&amp;query=$.size.compressedSize&amp;url=https://deno.bundlejs.com/?q=micromark-extension-mdx-expression" alt="Size" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors" style="pointer-events: none;" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/micromark/micromark/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/micromark/micromark">micromark</a> extension to support <a href="https://mdxjs.com">MDX</a> expressions (<code>{Math.PI}</code>).</p>
<h1><a class="anchor" id="autotoc_md23355"></a>
Contents</h1>
<ul>
<li>What is this?</li>
<li>When to use this</li>
<li>Install</li>
<li>Use</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#api">API</a><ul>
<li>`mdxExpression(options?)`</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">Options</a></li>
</ul>
</li>
<li>Authoring</li>
<li>Syntax</li>
<li>Errors<ul>
<li>Unexpected end of file in expression, expected a corresponding closing brace for `{`</li>
<li>Unexpected lazy line in expression in container, expected line to be prefixed…</li>
<li>Unexpected `$type` in code: expected an object spread (`{...spread}`)</li>
<li>Unexpected extra content in spread: only a single spread is supported</li>
<li>Could not parse expression with acorn</li>
</ul>
</li>
<li>Tokens</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#types">Types</a></li>
<li>Compatibility</li>
<li>Security</li>
<li>Related</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#contribute">Contribute</a></li>
<li><a class="el" href="/Users/vivi/astro/node_modules/bl/README.md#license">License</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md23356"></a>
What is this?</h1>
<p>This package contains an extension that adds support for the expression syntax enabled by <a href="https://mdxjs.com">MDX</a> to <a href="https://github.com/micromark/micromark"><code>micromark</code></a>. These extensions are used inside MDX.</p>
<p>This package can be made aware or unaware of JavaScript syntax. When unaware, expressions could include Rust or variables or whatnot.</p>
<h1><a class="anchor" id="autotoc_md23357"></a>
When to use this</h1>
<p>This project is useful when you want to support expressions in markdown.</p>
<p>You can use this extension when you are working with <a href="https://github.com/micromark/micromark"><code>micromark</code></a>. To support all MDX features, use <a href="https://github.com/micromark/micromark-extension-mdxjs"><code>micromark-extension-mdxjs</code></a> instead.</p>
<p>When you need a syntax tree, combine this package with <a href="https://github.com/syntax-tree/mdast-util-mdx-expression"><code>mdast-util-mdx-expression</code></a>.</p>
<p>All these packages are used in <a href="https://mdxjs.com/packages/remark-mdx/"><code>remark-mdx</code></a>, which focusses on making it easier to transform content by abstracting these internals away.</p>
<p>When you are using <a href="https://mdxjs.com"><code>mdx-js/mdx</code></a>, all of this is already included.</p>
<h1><a class="anchor" id="autotoc_md23358"></a>
Install</h1>
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>. In Node.js (version 16+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<div class="fragment"><div class="line">npm install micromark-extension-mdx-expression</div>
</div><!-- fragment --><p>In Deno with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">import {mdxExpression} from &#39;https://esm.sh/micromark-extension-mdx-expression@2&#39;</div>
</div><!-- fragment --><p>In browsers with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import {mdxExpression} from &#39;https://esm.sh/micromark-extension-mdx-expression@2?bundle&#39;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23359"></a>
Use</h1>
<div class="fragment"><div class="line">import {Parser} from &#39;acorn&#39;</div>
<div class="line">import acornJsx from &#39;acorn-jsx&#39;</div>
<div class="line">import {micromark} from &#39;micromark&#39;</div>
<div class="line">import {mdxExpression} from &#39;micromark-extension-mdx-expression&#39;</div>
<div class="line"> </div>
<div class="line">// Unaware of JavaScript (“agnostic”) (balanced braces):</div>
<div class="line">const output = micromark(&#39;a {1 + 1} b&#39;, {extensions: [mdxExpression()]})</div>
<div class="line"> </div>
<div class="line">console.log(output)</div>
<div class="line"> </div>
<div class="line">// Aware of JavaScript:</div>
<div class="line">micromark(&#39;a {!} b&#39;, {extensions: [mdxExpression({acorn: Parser.extend(acornJsx())})]})</div>
</div><!-- fragment --><p>Yields:</p>
<div class="fragment"><div class="line">&lt;p&gt;a  b&lt;/p&gt;</div>
</div><!-- fragment --><div class="fragment"><div class="line">[1:5: Could not parse expression with acorn] {</div>
<div class="line">  ancestors: undefined,</div>
<div class="line">  cause: SyntaxError: Unexpected token</div>
<div class="line">      at pp$4.raise (file:///Users/tilde/Projects/oss/micromark-extension-mdx-expression/node_modules/acorn/dist/acorn.mjs:3547:13)</div>
<div class="line">      at pp$9.unexpected (file:///Users/tilde/Projects/oss/micromark-extension-mdx-expression/node_modules/acorn/dist/acorn.mjs:758:8)</div>
<div class="line">      …</div>
<div class="line">    pos: 4,</div>
<div class="line">    loc: { line: 1, column: 4 },</div>
<div class="line">    raisedAt: 1</div>
<div class="line">  },</div>
<div class="line">  column: 5,</div>
<div class="line">  fatal: undefined,</div>
<div class="line">  line: 1,</div>
<div class="line">  place: { line: 1, column: 5, offset: 4 },</div>
<div class="line">  reason: &#39;Could not parse expression with acorn&#39;,</div>
<div class="line">  ruleId: &#39;acorn&#39;,</div>
<div class="line">  source: &#39;micromark-extension-mdx-expression&#39;,</div>
<div class="line">  url: &#39;https://github.com/micromark/micromark-extension-mdx-expression/tree/main/packages/micromark-extension-mdx-expression#could-not-parse-expression-with-acorn&#39;</div>
<div class="line">}</div>
</div><!-- fragment --><p>…which is useless: go to a syntax tree with <a href="https://github.com/syntax-tree/mdast-util-from-markdown"><code>mdast-util-from-markdown</code></a> and <a href="https://github.com/syntax-tree/mdast-util-mdx-expression"><code>mdast-util-mdx-expression</code></a> instead.</p>
<h1><a class="anchor" id="autotoc_md23360"></a>
API</h1>
<p>This package exports the identifier `mdxExpression`. There is no default export.</p>
<p>The export map supports the <a href="https://nodejs.org/api/packages.html#packages_resolving_user_conditions"><code>development</code> condition</a>. Run <code>node --conditions development module.js</code> to get instrumented dev code. Without this condition, production code is loaded.</p>
<h2><a class="anchor" id="autotoc_md23361"></a>
<code>mdxExpression(options?)</code></h2>
<p>Create an extension for <code>micromark</code> to enable MDX expression syntax.</p>
<h5><a class="anchor" id="autotoc_md23362"></a>
Parameters</h5>
<ul>
<li><code>options</code> (<a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">`Options`</a>, optional) — configuration</li>
</ul>
<h5><a class="anchor" id="autotoc_md23363"></a>
Returns</h5>
<p>Extension for <code>micromark</code> that can be passed in <code>extensions</code> to enable MDX expression syntax (<a href="https://github.com/micromark/micromark#syntaxextension"><code>Extension</code></a>).</p>
<h2><a class="anchor" id="autotoc_md23364"></a>
Options</h2>
<p>Configuration (TypeScript type).</p>
<h5><a class="anchor" id="autotoc_md23365"></a>
Fields</h5>
<ul>
<li><code>acorn</code> (<a href="https://github.com/acornjs/acorn"><code>Acorn</code></a>, optional) — acorn parser to use</li>
<li><code>acornOptions</code> (<a href="https://github.com/acornjs/acorn/blob/96c721dbf89d0ccc3a8c7f39e69ef2a6a3c04dfa/acorn/dist/acorn.d.ts#L16"><code>AcornOptions</code></a>, default: &lsquo;{ecmaVersion: 2024, locations: true, sourceType: 'module&rsquo;}<code>) — configuration for acorn; all fields except</code>locations<code>can be set *</code>addResult<code>(</code>boolean<code>, default:</code>false<code>) — whether to add</code>estree` fields to tokens with results from acorn</li>
</ul>
<h1><a class="anchor" id="autotoc_md23366"></a>
Authoring</h1>
<p>When authoring markdown with JavaScript, keep in mind that MDX is a whitespace sensitive and line-based language, while JavaScript is insensitive to whitespace. This affects how markdown and JavaScript interleave with eachother in MDX. For more info on how it works, see <a href="https://mdxjs.com/docs/what-is-mdx/#interleaving">§ Interleaving</a> on the MDX site.</p>
<h1><a class="anchor" id="autotoc_md23367"></a>
Syntax</h1>
<p>This extension supports MDX both aware and unaware to JavaScript (respectively gnostic and agnostic). Depending on whether acorn is passed, either valid JavaScript must be used in expressions, or arbitrary text (such as Rust code or so) can be used.</p>
<p>There are two types of expressions: in text (inline, span) or in flow (block). They start with <code>{</code>.</p>
<p>Depending on whether <code>acorn</code> is passed, expressions are either parsed in several tries until whole JavaScript is found (as in, nested curly braces depend on JS expression nesting), or they are counted and must be balanced.</p>
<p>Expressions end with <code>}</code>.</p>
<p>For flow (block) expressions, optionally markdown spaces ( or <code>\t</code>) can occur after the closing brace, and finally a markdown line ending (<code>\r</code>, <code>\n</code>) or the end of the file must follow.</p>
<p>While markdown typically knows no errors, for MDX it is decided to instead throw on invalid syntax.</p>
<div class="fragment"><div class="line">Here is an expression in a heading:</div>
<div class="line"> </div>
<div class="line">## Hello, {1 + 1}!</div>
<div class="line"> </div>
<div class="line">In agnostic mode, balanced braces can occur: {a + {b} + c}.</div>
<div class="line"> </div>
<div class="line">In gnostic mode, the value of the expression must be JavaScript, so</div>
<div class="line">this would fail: {!}.</div>
<div class="line">But, in gnostic mode, braces can be in comments, strings, or in other</div>
<div class="line">places: {1 /* { */ + 2}.</div>
<div class="line"> </div>
<div class="line">The previous examples were text (inline, span) expressions, they can</div>
<div class="line">also be flow (block):</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">  1 + 1</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">This is incorrect, because there are further characters:</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">  1 + 1</div>
<div class="line">}!</div>
</div><!-- fragment --><div class="fragment"><div class="line"> -invalid</div>
<div class="line">Blank lines cannot occur in text, because markdown has already split them in</div>
<div class="line">separate constructs, so this is incorrect: {1 +</div>
<div class="line"> </div>
<div class="line">1}</div>
</div><!-- fragment --><div class="fragment"><div class="line">In flow, you can have blank lines:</div>
<div class="line"> </div>
<div class="line">{</div>
<div class="line">  1 +</div>
<div class="line"> </div>
<div class="line">  2</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23368"></a>
Errors</h1>
<h2><a class="anchor" id="autotoc_md23369"></a>
Unexpected end of file in expression, expected a corresponding closing brace for <code>{</code></h2>
<p>This error occurs if a <code>{</code> was seen without a <code>}</code> (source: <code>micromark-extension-mdx-expression</code>, rule id: <code>unexpected-eof</code>). For example:</p>
<div class="fragment"><div class="line"> -invalid</div>
<div class="line">a { b</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23370"></a>
Unexpected lazy line in expression in container, expected line to be prefixed…</h2>
<p>This error occurs if a <code>{</code> was seen in a container which then has lazy content (source: <code>micromark-extension-mdx-expression</code>, rule id: <code>unexpected-lazy</code>). For example:</p>
<div class="fragment"><div class="line"> -invalid</div>
<div class="line">&gt; {a</div>
<div class="line">b}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23371"></a>
Unexpected <code>$type</code> in code: expected an object spread (<code>{...spread}</code>)</h2>
<p>This error occurs if a spread was expected but something else was found (source: <code>micromark-extension-mdx-expression</code>, rule id: <code>non-spread</code>). For example:</p>
<div class="fragment"><div class="line"> -invalid</div>
<div class="line">&lt;a {b=c}={} d&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23372"></a>
Unexpected extra content in spread: only a single spread is supported</h2>
<p>This error occurs if a spread was expected but more was found after it (source: <code>micromark-extension-mdx-expression</code>, rule id: <code>spread-extra</code>). For example:</p>
<div class="fragment"><div class="line"> -invalid</div>
<div class="line">&lt;a {...b,c} d&gt;</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23373"></a>
Could not parse expression with acorn</h2>
<p>This error occurs if acorn crashes or when there is more content after a JS expression (source: <code>micromark-extension-mdx-expression</code>, rule id: <code>acorn</code>). For example:</p>
<div class="fragment"><div class="line"> -invalid</div>
<div class="line">a {&quot;b&quot; &quot;c&quot;} d</div>
</div><!-- fragment --><div class="fragment"><div class="line"> -invalid</div>
<div class="line">a {var b = &quot;c&quot;} d</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23374"></a>
Tokens</h1>
<p>Two tokens are used, <code>mdxFlowExpression</code> and <code>mdxTextExpression</code>, to reflect flow and text expressions.</p>
<p>They include:</p>
<ul>
<li><code>lineEnding</code> for the markdown line endings <code>\r</code>, <code>\n</code>, and <code>\r\n</code></li>
<li><code>mdxFlowExpressionMarker</code> and <code>mdxTextExpressionMarker</code> for the braces</li>
<li><code>whitespace</code> for markdown spaces and tabs in blank lines</li>
<li><code>mdxFlowExpressionChunk</code> and <code>mdxTextExpressionChunk</code> for chunks of expression content</li>
</ul>
<h1><a class="anchor" id="autotoc_md23375"></a>
Types</h1>
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>. It exports the additional type <a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">`Options`</a>.</p>
<h1><a class="anchor" id="autotoc_md23376"></a>
Compatibility</h1>
<p>Projects maintained by the unified collective are compatible with maintained versions of Node.js.</p>
<p>When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, <code>micromark-extension-mdx-expression@^2</code>, compatible with Node.js 16.</p>
<p>This package works with <code>micromark</code> version <code>3</code> and later.</p>
<h1><a class="anchor" id="autotoc_md23377"></a>
Security</h1>
<p>This package is safe.</p>
<h1><a class="anchor" id="autotoc_md23378"></a>
Related</h1>
<ul>
<li><a href="https://github.com/micromark/micromark-extension-mdxjs"><code>micromark-extension-mdxjs</code></a> — support all MDX syntax</li>
<li><a href="https://github.com/syntax-tree/mdast-util-mdx-expression"><code>mdast-util-mdx-expression</code></a> — support MDX expressions in mdast</li>
<li><a href="https://mdxjs.com/packages/remark-mdx/"><code>remark-mdx</code></a> — support all MDX syntax in remark</li>
</ul>
<h1><a class="anchor" id="autotoc_md23379"></a>
Contribute</h1>
<p>See <a href="https://github.com/micromark/.github/blob/main/contributing.md"><code>contributing.md</code> in <code>micromark/.github</code></a> for ways to get started. See <a href="https://github.com/micromark/.github/blob/main/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/micromark/.github/blob/main/code-of-conduct.md">code of conduct</a>. By interacting with this repository, organization, or community you agree to abide by its terms.</p>
<h1><a class="anchor" id="autotoc_md23380"></a>
License</h1>
<p><a href="https://github.com/micromark/micromark-extension-mdx-expression/blob/main/license">MIT</a> © <a href="https://wooorm.com">Titus Wormer</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_c42ae798421301340c64cffceb66c446.html">micromark-extension-mdx-expression</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
