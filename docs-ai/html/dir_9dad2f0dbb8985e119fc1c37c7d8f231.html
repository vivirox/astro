<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/@octokit/request Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_9dad2f0dbb8985e119fc1c37c7d8f231.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">request Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<blockquote class="doxtable">
<p>Send parameterized requests to GitHub‚Äôs APIs with sensible defaults in browsers and Node </p>
</blockquote>
<p><a href="https://www.npmjs.com/package/@octokit/request"><img src="https://img.shields.io/npm/v/@octokit/request.svg" alt="@latest" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/octokit/request.js/actions?query=workflow%3ATest+branch%3Amain"><img src="https://github.com/octokit/request.js/workflows/Test/badge.svg" alt="Build Status" style="pointer-events: none;" class="inline"/></a></p>
<p><code>@octokit/request</code> is a request library for browsers &amp; node that makes it easier to interact with <a href="https://developer.github.com/v3/">GitHub‚Äôs REST API</a> and <a href="https://developer.github.com/v4/guides/forming-calls/#the-graphql-endpoint">GitHub‚Äôs GraphQL API</a>.</p>
<p>It uses <a href="https://github.com/octokit/endpoint.js"><code>@octokit/endpoint</code></a> to parse the passed options and sends the request using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a>. You can pass a custom <code>fetch</code> function using the <code>options.request.fetch</code> option, see below.</p>
<ul>
<li>request.js<ul>
<li><a class="el" href="md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g.html#features">Features</a></li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#usage">Usage</a><ul>
<li>REST API example</li>
<li>GraphQL example</li>
<li>Alternative: pass `method` &amp; `url` as part of options</li>
</ul>
</li>
<li>Authentication</li>
<li>request()</li>
<li>`request.defaults()`</li>
<li>`request.endpoint`</li>
<li>Special cases<ul>
<li>The `data` parameter ‚Äì set request body directly</li>
<li>Set parameters for both the URL/query and the request body</li>
<li>Set a custom Agent to your requests</li>
</ul>
</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/bl/README.md#license">LICENSE</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md5355"></a>
Features</h1>
<p>ü§© 1:1 mapping of REST API endpoint documentation, e.g. <a href="https://developer.github.com/v3/issues/labels/#add-labels-to-an-issue">Add labels to an issue</a> becomes</p>
<div class="fragment"><div class="line">request(&quot;POST /repos/{owner}/{repo}/issues/{number}/labels&quot;, {</div>
<div class="line">  mediaType: {</div>
<div class="line">    previews: [&quot;symmetra&quot;],</div>
<div class="line">  },</div>
<div class="line">  owner: &quot;octokit&quot;,</div>
<div class="line">  repo: &quot;request.js&quot;,</div>
<div class="line">  number: 1,</div>
<div class="line">  labels: [&quot;üêõ bug&quot;],</div>
<div class="line">});</div>
</div><!-- fragment --><p>üë∂ <a href="https://bundlephobia.com/result?p=@octokit/request@5.0.3">Small bundle size</a> (&lt;4kb minified + gzipped)</p>
<p>üòé Authenticate with any of <a href="https://github.com/octokit/auth.js">GitHubs Authentication Strategies</a>.</p>
<p>üëç Sensible defaults</p>
<ul>
<li><code>baseUrl</code>: <code><a href="https://api.github.com">https://api.github.com</a></code></li>
<li><code>headers.accept</code>: <code>application/vnd.github.v3+json</code></li>
<li>&lsquo;headers['user-agent&rsquo;]<code>:</code>octokit-request.js/&lt;current version&gt; &lt;OS information&gt;<code>, e.g.</code>octokit-request.js/1.2.3 Node.js/10.15.0 (macOS Mojave; x64)`</li>
</ul>
<p>üëå Simple to test: mock requests by passing a custom fetch method.</p>
<p>üßê Simple to debug: Sets <code>error.request</code> to request options causing the error (with redacted credentials).</p>
<h1><a class="anchor" id="autotoc_md5356"></a>
Usage</h1>
<table class="doxtable">
<tr>
<th>Browsers </th><td width="100%"><p class="starttd">Load <code>@octokit/request</code> directly from <a href="https://esm.sh">esm.sh</a></p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import { request } from &quot;https://esm.sh/@octokit/request&quot;;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
<tr>
<th>Node </th><td><p class="starttd"></p>
<p class="intertd">Install with <code>npm install @octokit/request</code></p>
<div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
</div><!-- fragment --><p class="endtd"></p>
</td></tr>
</table>
<h2><a class="anchor" id="autotoc_md5357"></a>
REST API example</h2>
<div class="fragment"><div class="line">// Following GitHub docs formatting:</div>
<div class="line">// https://developer.github.com/v3/repos/#list-organization-repositories</div>
<div class="line">const result = await request(&quot;GET /orgs/{org}/repos&quot;, {</div>
<div class="line">  headers: {</div>
<div class="line">    authorization: &quot;token 0000000000000000000000000000000000000001&quot;,</div>
<div class="line">  },</div>
<div class="line">  org: &quot;octokit&quot;,</div>
<div class="line">  type: &quot;private&quot;,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">console.log(`${result.data.length} repos found.`);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5358"></a>
GraphQL example</h2>
<p>For GraphQL request we recommend using <a href="https://github.com/octokit/graphql.js#readme"><code>@octokit/graphql</code></a></p>
<div class="fragment"><div class="line">const result = await request(&quot;POST /graphql&quot;, {</div>
<div class="line">  headers: {</div>
<div class="line">    authorization: &quot;token 0000000000000000000000000000000000000001&quot;,</div>
<div class="line">  },</div>
<div class="line">  query: `query ($login: String!) {</div>
<div class="line">    organization(login: $login) {</div>
<div class="line">      repositories(privacy: PRIVATE) {</div>
<div class="line">        totalCount</div>
<div class="line">      }</div>
<div class="line">    }</div>
<div class="line">  }`,</div>
<div class="line">  variables: {</div>
<div class="line">    login: &quot;octokit&quot;,</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md5359"></a>
Alternative: pass <code>method</code> &amp; <code>url</code> as part of options</h2>
<p>Alternatively, pass in a method and a url</p>
<div class="fragment"><div class="line">const result = await request({</div>
<div class="line">  method: &quot;GET&quot;,</div>
<div class="line">  url: &quot;/orgs/{org}/repos&quot;,</div>
<div class="line">  headers: {</div>
<div class="line">    authorization: &quot;token 0000000000000000000000000000000000000001&quot;,</div>
<div class="line">  },</div>
<div class="line">  org: &quot;octokit&quot;,</div>
<div class="line">  type: &quot;private&quot;,</div>
<div class="line">});</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5360"></a>
Authentication</h1>
<p>The simplest way to authenticate a request is to set the <code>Authorization</code> header directly, e.g. to a <a href="https://github.com/settings/tokens/">personal access token</a>.</p>
<div class="fragment"><div class="line">const requestWithAuth = request.defaults({</div>
<div class="line">  headers: {</div>
<div class="line">    authorization: &quot;token 0000000000000000000000000000000000000001&quot;,</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line">const result = await requestWithAuth(&quot;GET /user&quot;);</div>
</div><!-- fragment --><p>For more complex authentication strategies such as GitHub Apps or Basic, we recommend the according authentication library exported by <a href="https://github.com/octokit/auth.js"><code>@octokit/auth</code></a>.</p>
<div class="fragment"><div class="line">import { createAppAuth } from &quot;@octokit/auth-app&quot;;</div>
<div class="line">const auth = createAppAuth({</div>
<div class="line">  appId: process.env.APP_ID,</div>
<div class="line">  privateKey: process.env.PRIVATE_KEY,</div>
<div class="line">  installationId: 123,</div>
<div class="line">});</div>
<div class="line">const requestWithAuth = request.defaults({</div>
<div class="line">  request: {</div>
<div class="line">    hook: auth.hook,</div>
<div class="line">  },</div>
<div class="line">  mediaType: {</div>
<div class="line">    previews: [&quot;machine-man&quot;],</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">const { data: app } = await requestWithAuth(&quot;GET /app&quot;);</div>
<div class="line">const { data: app } = await requestWithAuth(</div>
<div class="line">  &quot;POST /repos/{owner}/{repo}/issues&quot;,</div>
<div class="line">  {</div>
<div class="line">    owner: &quot;octocat&quot;,</div>
<div class="line">    repo: &quot;hello-world&quot;,</div>
<div class="line">    title: &quot;Hello from the engine room&quot;,</div>
<div class="line">  },</div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md5361"></a>
request()</h1>
<p><code>request(route, options)</code> or <code>request(options)</code>.</p>
<p><b>Options</b></p>
<table class="doxtable">
<tr>
<th align="left">name  </th><th align="left">type  </th><th align="left">description    </th></tr>
<tr>
<th align="left"><code>route</code>  </th><td>String  </td><td><b>Required</b>. If <code>route</code> is set it has to be a string consisting of the request method and URL, e.g. <code>GET /orgs/{org}</code>   </td></tr>
<tr>
<th align="left"><code>options.baseUrl</code>  </th><td>String  </td><td>The base URL that <code>route</code> or <code>url</code> will be prefixed with, if they use relative paths. <em>Defaults to <code><a href="https://api.github.com">https://api.github.com</a></code></em>.   </td><th align="left"><code>options.headers</code>  </th><td>Object  </td><td>Custom headers. Passed headers are merged with defaults:<br  />
 <em><code>headers['user-agent']</code> defaults to <code>octokit-rest.js/1.2.3</code> (where <code>1.2.3</code> is the released version)</em>.<br  />
 <em><code>headers['accept']</code> defaults to <code>application/vnd.github.v3+json</code>.<br  />
 Use <code>options.mediaType.{format,previews}</code> to request API previews and custom media types.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.method</code>  </em></th><td><em> String  </em></td><td><em> Any supported <a href="https://developer.github.com/v3/#http-verbs">http verb</a>, case-insensitive. <em>Defaults to <code>Get</code></em>.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.mediaType.format</code>  </em></th><td><em> String  </em></td><td><em> Media type param, such as <code>raw</code>, <code>html</code>, or <code>full</code>. See <a href="https://developer.github.com/v3/media/">Media Types</a>.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.mediaType.previews</code>  </em></th><td><em> Array of strings  </em></td><td><em> Name of previews, such as <code>mercy</code>, <code>symmetra</code>, or <code>scarlet-witch</code>. See <a href="https://docs.github.com/graphql/overview/schema-previews">GraphQL Schema Previews</a>. Note that these only apply to GraphQL requests and have no effect on REST routes.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.url</code>  </em></th><td><em> String  </em></td><td><em> <b>Required</b>. A path or full URL which may contain <code>:variable</code> or <code>{variable}</code> placeholders, e.g. <code>/orgs/{org}/repos</code>. The <code>url</code> is parsed using <a href="https://github.com/bramstein/url-template">url-template</a>.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.data</code>  </em></th><td><em> Any  </em></td><td><p class="starttd"><em> Set request body directly instead of setting it to JSON based on additional parameters. See <a href="#data-parameter">"The `data` parameter"</a> below.  </em></p>
<p class="endtd"><em> </em></p>
</td></tr>
<tr>
<th align="left"><em> <code>options.request.fetch</code>  </em></th><td><em> Function  </em></td><td><em> Custom replacement for <a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API">fetch</a>. Useful for testing or request hooks.   </em></td></tr>
<tr>
<th align="left"><em> <code>options.request.hook</code>  </em></th><td><em> Function  </em></td><td><em> Function with the signature <code>hook(request, endpointOptions)</code>, where <code>endpointOptions</code> are the parsed options as returned by <a href="https://github.com/octokit/endpoint.js#endpointmergeroute-options-or-endpointmergeoptions"><code>endpoint.merge()</code></a>, and <code>request</code> is <a href="https://github.com/octokit/request.js#request"><code>request()</code></a>. This option works great in conjunction with <a href="https://github.com/gr2m/before-after-hook">before-after-hook</a>.   </em></td></tr>
<tr>
<th align="left"><em> <a class="anchor" id="options-request-signal"></a><code>options.request.signal</code>  </em></th><td><em> <a href="https://github.com/bitinn/node-fetch/tree/e996bdab73baf996cf2dbf25643c8fe2698c3249#request-cancellation-with-abortsignal">new AbortController().signal</a>  </em></td><td><em> Use an <code>AbortController</code> instance to cancel a request. In node you can only cancel streamed requests.   </em></td><th align="left"><em> <code>options.request.log</code>  </em></th><td><em> <code>object</code>  </em></td><td><em> Used for internal logging. Defaults to <a href="https://developer.mozilla.org/en-US/docs/Web/API/console"><code>console</code></a>.    </em></td><th align="left"><em> <code>options.request.parseSuccessResponseBody</code>  </em></th><td><em> <code>boolean</code>  </em></td><td><em> If set to <code>false</code> the returned <code>response</code> will be passed through from <code>fetch</code>. This is useful to stream response.body when downloading files from the GitHub API.   </em></td></tr>
</table>
<p><em>All other options except <code>options.request.*</code> will be passed depending on the <code>method</code> and <code>url</code> options.</em></p>
<p><em></p><ol type="1">
<li>If the option key is a placeholder in the <code>url</code>, it will be used as replacement. For example, if the passed options are &lsquo;{url: &rsquo;/orgs/{org}/repos', org: 'foo'}<code>the returned</code>options.url<code>is</code><a href="https://api.github.com/orgs/foo/repos">https://api.github.com/orgs/foo/repos</a><code></code></li>
<li><code>If the</code>method<code>is</code>GET<code>or</code>HEAD`, the option is passed as query parameter</li>
<li>Otherwise the parameter is passed in the request body as JSON key.</li>
</ol>
<p></em></p>
<p><em><b>Result</b></em></p>
<p><em><code>request</code> returns a promise. If the request was successful, the promise resolves with an object containing 4 keys:</em></p>
<p><em></p><table class="doxtable">
<tr>
<th align="left">key  </th><th align="left">type  </th><th align="left">description    </th></tr>
<tr>
<th align="left"><code>status</code> </th><td>Integer </td><td>Response status status  </td></tr>
<tr>
<th align="left"><code>url</code> </th><td>String </td><td>URL of response. If a request results in redirects, this is the final URL. You can send a <code>HEAD</code> request to retrieve it without loading the full response body.  </td></tr>
<tr>
<th align="left"><code>headers</code> </th><td>Object </td><td>All response headers  </td></tr>
<tr>
<th align="left"><code>data</code> </th><td>Any </td><td>The response body as returned from server. If the response is JSON then it will be parsed into an object  </td></tr>
</table>
<p></em></p>
<p><em>If an error occurs, the promise is rejected with an <code>error</code> object containing 3 keys to help with debugging:</em></p>
<p><em></p><ul>
<li><code>error.status</code> The http response status code</li>
<li><code>error.request</code> The request options such as <code>method</code>, <code>url</code> and <code>data</code></li>
<li><code>error.response</code> The http response object with <code>url</code>, <code>headers</code>, and <code>data</code></li>
</ul>
<p></em></p>
<p><em>If the error is due to an <code>AbortSignal</code> being used, the resulting <code>AbortError</code> is bubbled up to the caller.</em></p>
<p><em></em></p>
<h1><a class="anchor" id="autotoc_md5362"></a>
<em><code>request.defaults()</code></em></h1>
<p><em></em></p>
<p><em>Override or set default options. Example:</em></p>
<p><em></p><div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
<div class="line">const myrequest = request.defaults({</div>
<div class="line">  baseUrl: &quot;https://github-enterprise.acme-inc.com/api/v3&quot;,</div>
<div class="line">  headers: {</div>
<div class="line">    &quot;user-agent&quot;: &quot;myApp/1.2.3&quot;,</div>
<div class="line">    authorization: `token 0000000000000000000000000000000000000001`,</div>
<div class="line">  },</div>
<div class="line">  org: &quot;my-project&quot;,</div>
<div class="line">  per_page: 100,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">myrequest(`GET /orgs/{org}/repos`);</div>
</div><!-- fragment --><p></em></p>
<p><em>You can call <code>.defaults()</code> again on the returned method, the defaults will cascade.</em></p>
<p><em></p><div class="fragment"><div class="line">const myProjectRequest = request.defaults({</div>
<div class="line">  baseUrl: &quot;https://github-enterprise.acme-inc.com/api/v3&quot;,</div>
<div class="line">  headers: {</div>
<div class="line">    &quot;user-agent&quot;: &quot;myApp/1.2.3&quot;,</div>
<div class="line">  },</div>
<div class="line">  org: &quot;my-project&quot;,</div>
<div class="line">});</div>
<div class="line">const myProjectRequestWithAuth = myProjectRequest.defaults({</div>
<div class="line">  headers: {</div>
<div class="line">    authorization: `token 0000000000000000000000000000000000000001`,</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p></em></p>
<p><em><code>myProjectRequest</code> now defaults the <code>baseUrl</code>, &lsquo;headers['user-agent&rsquo;]<code>, </code>org<code>and</code>headers['authorization']<code>on top of</code>headers['accept']` that is set by the global default.</em></p>
<p><em></em></p>
<h1><a class="anchor" id="autotoc_md5363"></a>
<em><code>request.endpoint</code></em></h1>
<p><em></em></p>
<p><em>See <a href="https://github.com/octokit/endpoint.js">https://github.com/octokit/endpoint.js</a>. Example</em></p>
<p><em></p><div class="fragment"><div class="line">const options = request.endpoint(&quot;GET /orgs/{org}/repos&quot;, {</div>
<div class="line">  org: &quot;my-project&quot;,</div>
<div class="line">  type: &quot;private&quot;,</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// {</div>
<div class="line">//   method: &#39;GET&#39;,</div>
<div class="line">//   url: &#39;https://api.github.com/orgs/my-project/repos?type=private&#39;,</div>
<div class="line">//   headers: {</div>
<div class="line">//     accept: &#39;application/vnd.github.v3+json&#39;,</div>
<div class="line">//     authorization: &#39;token 0000000000000000000000000000000000000001&#39;,</div>
<div class="line">//     &#39;user-agent&#39;: &#39;octokit/endpoint.js v1.2.3&#39;</div>
<div class="line">//   }</div>
<div class="line">// }</div>
</div><!-- fragment --><p></em></p>
<p><em>All of the <a href="https://github.com/octokit/endpoint.js"><code>@octokit/endpoint</code></a> API can be used:</em></p>
<p><em></p><ul>
<li>`octokitRequest.endpoint()`</li>
<li>`octokitRequest.endpoint.defaults()`</li>
<li>`octokitRequest.endpoint.merge()`</li>
<li>`octokitRequest.endpoint.parse()`</li>
</ul>
<p></em></p>
<p><em></em></p>
<h1><a class="anchor" id="autotoc_md5364"></a>
<em>Special cases</em></h1>
<p><em></em></p>
<p><em><a class="anchor" id="data-parameter"></a></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md5365"></a>
<em>The <code>data</code> parameter ‚Äì set request body directly</em></h2>
<p><em></em></p>
<p><em>Some endpoints such as <a href="https://developer.github.com/v3/markdown/#render-a-markdown-document-in-raw-mode">Render a Markdown document in raw mode</a> don‚Äôt have parameters that are sent as request body keys, instead the request body needs to be set directly. In these cases, set the <code>data</code> parameter.</em></p>
<p><em></p><div class="fragment"><div class="line">const response = await request(&quot;POST /markdown/raw&quot;, {</div>
<div class="line">  data: &quot;Hello world github/linguist#1 **cool**, and #1!&quot;,</div>
<div class="line">  headers: {</div>
<div class="line">    accept: &quot;text/html;charset=utf-8&quot;,</div>
<div class="line">    &quot;content-type&quot;: &quot;text/plain&quot;,</div>
<div class="line">  },</div>
<div class="line">});</div>
<div class="line"> </div>
<div class="line">// Request is sent as</div>
<div class="line">//</div>
<div class="line">//     {</div>
<div class="line">//       method: &#39;post&#39;,</div>
<div class="line">//       url: &#39;https://api.github.com/markdown/raw&#39;,</div>
<div class="line">//       headers: {</div>
<div class="line">//         accept: &#39;text/html;charset=utf-8&#39;,</div>
<div class="line">//         &#39;content-type&#39;: &#39;text/plain&#39;,</div>
<div class="line">//         &#39;user-agent&#39;: userAgent</div>
<div class="line">//       },</div>
<div class="line">//       body: &#39;Hello world github/linguist#1 **cool**, and #1!&#39;</div>
<div class="line">//     }</div>
<div class="line">//</div>
<div class="line">// not as</div>
<div class="line">//</div>
<div class="line">//     {</div>
<div class="line">//       ...</div>
<div class="line">//       body: &#39;{&quot;data&quot;: &quot;Hello world github/linguist#1 **cool**, and #1!&quot;}&#39;</div>
<div class="line">//     }</div>
</div><!-- fragment --><p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md5366"></a>
<em>Set parameters for both the URL/query and the request body</em></h2>
<p><em></em></p>
<p><em>There are API endpoints that accept both query parameters as well as a body. In that case you need to add the query parameters as templates to <code>options.url</code>, as defined in the <a href="https://tools.ietf.org/html/rfc6570">RFC 6570 URI Template specification</a>.</em></p>
<p><em>Example</em></p>
<p><em></p><div class="fragment"><div class="line">request(</div>
<div class="line">  &quot;POST https://uploads.github.com/repos/octocat/Hello-World/releases/1/assets{?name,label}&quot;,</div>
<div class="line">  {</div>
<div class="line">    name: &quot;example.zip&quot;,</div>
<div class="line">    label: &quot;short description&quot;,</div>
<div class="line">    headers: {</div>
<div class="line">      &quot;content-type&quot;: &quot;text/plain&quot;,</div>
<div class="line">      &quot;content-length&quot;: 14,</div>
<div class="line">      authorization: `token 0000000000000000000000000000000000000001`,</div>
<div class="line">    },</div>
<div class="line">    data: &quot;Hello, world!&quot;,</div>
<div class="line">  },</div>
<div class="line">);</div>
</div><!-- fragment --><p></em></p>
<p><em></em></p>
<h2><a class="anchor" id="autotoc_md5367"></a>
<em>Set a custom Agent to your requests</em></h2>
<p><em></em></p>
<p><em>The way to pass a custom <code>Agent</code> to requests is by creating a custom <code>fetch</code> function and pass it as <code>options.request.fetch</code>. A good example can be <a href="https://undici.nodejs.org/#/?id=undicifetchinput-init-promise">undici's <code>fetch</code> implementation</a>.</em></p>
<p><em>Example (<a href="https://codesandbox.io/p/sandbox/nifty-stitch-wdlwlf">See example in CodeSandbox</a>)</em></p>
<p><em></p><div class="fragment"><div class="line">import { request } from &quot;@octokit/request&quot;;</div>
<div class="line">import { fetch as undiciFetch, Agent } from &quot;undici&quot;;</div>
<div class="line"> </div>
<div class="line">/** @type {typeof import(&quot;undici&quot;).fetch} */</div>
<div class="line">const myFetch = (url, options) =&gt; {</div>
<div class="line">  return undiciFetch(url, {</div>
<div class="line">    ...options,</div>
<div class="line">    dispatcher: new Agent({</div>
<div class="line">      keepAliveTimeout: 10,</div>
<div class="line">      keepAliveMaxTimeout: 10,</div>
<div class="line">    }),</div>
<div class="line">  });</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">const { data } = await request(&quot;GET /users/{username}&quot;, {</div>
<div class="line">  username: &quot;octocat&quot;,</div>
<div class="line">  headers: {</div>
<div class="line">    &quot;X-GitHub-Api-Version&quot;: &quot;2022-11-28&quot;,</div>
<div class="line">  },</div>
<div class="line">  options: {</div>
<div class="line">    request: {</div>
<div class="line">      fetch: myFetch,</div>
<div class="line">    },</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --><p></em></p>
<p><em></em></p>
<h1><a class="anchor" id="autotoc_md5368"></a>
<em>LICENSE</em></h1>
<p><em></em></p>
<p><em>[MIT](LICENSE) </em></p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_e733d42223b3eabc0ae30c8e1a011656.html">@octokit</a></li><li class="navelem"><a class="el" href="dir_9dad2f0dbb8985e119fc1c37c7d8f231.html">request</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
