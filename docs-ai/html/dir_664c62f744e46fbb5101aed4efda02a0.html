<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/micromark-extension-gfm-footnote Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_664c62f744e46fbb5101aed4efda02a0.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">micromark-extension-gfm-footnote Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://github.com/micromark/micromark-extension-gfm-footnote/actions"><img src="https://github.com/micromark/micromark-extension-gfm-footnote/workflows/main/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/github/micromark/micromark-extension-gfm-footnote"><img src="https://img.shields.io/codecov/c/github/micromark/micromark-extension-gfm-footnote.svg" alt="Coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.com/package/micromark-extension-gfm-footnote"><img src="https://img.shields.io/npm/dm/micromark-extension-gfm-footnote.svg" alt="Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://bundlejs.com/?q=micromark-extension-gfm-footnote"><img src="https://img.shields.io/badge/dynamic/json?label=minzipped%20size&amp;query=$.size.compressedSize&amp;url=https://deno.bundlejs.com/?q=micromark-extension-gfm-footnote" alt="Size" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors" style="pointer-events: none;" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/micromark/micromark/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat" style="pointer-events: none;" class="inline"/></a></p>
<p><a href="https://github.com/micromark/micromark">micromark</a> extensions to support GFM <a href="https://github.blog/changelog/2021-09-30-footnotes-now-supported-in-markdown-fields/">footnotes</a>.</p>
<h1><a class="anchor" id="autotoc_md23181"></a>
Contents</h1>
<ul>
<li>What is this?</li>
<li>When to use this</li>
<li>Install</li>
<li>Use</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#api">API</a><ul>
<li>`defaultBackLabel(referenceIndex, rereferenceIndex)`</li>
<li>`gfmFootnote()`</li>
<li>`gfmFootnoteHtml(options?)`</li>
<li>`BackLabelTemplate`</li>
<li>`HtmlOptions`</li>
</ul>
</li>
<li><a class="el" href="md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g.html#bugs">Bugs</a></li>
<li>Authoring</li>
<li>HTML</li>
<li>CSS</li>
<li>Syntax</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#types">Types</a></li>
<li>Compatibility</li>
<li>Security</li>
<li>Related</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#contribute">Contribute</a></li>
<li><a class="el" href="/Users/vivi/astro/node_modules/bl/README.md#license">License</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md23182"></a>
What is this?</h1>
<p>This package contains extensions that add support for footnotes as enabled by GFM to <a href="https://github.com/micromark/micromark"><code>micromark</code></a>.</p>
<p>GitHub announced footnotes <a href="https://github.blog/changelog/2021-09-30-footnotes-now-supported-in-markdown-fields/">on September 30, 2021</a> but did not specify them in their GFM spec. As they are implemented in their parser and supported in all places where other GFM features work, they can be considered part of GFM. GitHub employs several other features (such as mentions or frontmatter) that are either not in their parser, or not in all places where GFM features work, which should not be considered GFM.</p>
<p>The implementation of footnotes on github.com is currently buggy. The bugs have been reported on <a href="https://github.com/github/cmark-gfm"><code>cmark-gfm</code></a>. This micromark extension matches github.com except for its bugs.</p>
<h1><a class="anchor" id="autotoc_md23183"></a>
When to use this</h1>
<p>This project is useful when you want to support footnotes in markdown.</p>
<p>You can use these extensions when you are working with <a href="https://github.com/micromark/micromark"><code>micromark</code></a>. To support all GFM features, use <a href="https://github.com/micromark/micromark-extension-gfm"><code>micromark-extension-gfm</code></a> instead.</p>
<p>When you need a syntax tree, combine this package with <a href="https://github.com/syntax-tree/mdast-util-gfm-footnote"><code>mdast-util-gfm-footnote</code></a>.</p>
<p>All these packages are used in <a href="https://github.com/remarkjs/remark-gfm"><code>remark-gfm</code></a>, which focusses on making it easier to transform content by abstracting these internals away.</p>
<h1><a class="anchor" id="autotoc_md23184"></a>
Install</h1>
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>. In Node.js (version 16+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<div class="fragment"><div class="line">npm install micromark-extension-gfm-footnote</div>
</div><!-- fragment --><p>In Deno with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">import {gfmFootnote, gfmFootnoteHtml} from &#39;https://esm.sh/micromark-extension-gfm-footnote@2&#39;</div>
</div><!-- fragment --><p>In browsers with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import {gfmFootnote, gfmFootnoteHtml} from &#39;https://esm.sh/micromark-extension-gfm-footnote@2?bundle&#39;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23185"></a>
Use</h1>
<p>Say our document <code>example.md</code> contains:</p>
<div class="fragment"><div class="line">Using footnotes is fun![^1] They let you reference relevant information without disrupting the flow of what you’re trying to say.[^bignote]</div>
<div class="line"> </div>
<div class="line">[^1]: This is the first footnote.</div>
<div class="line">[^bignote]: Here’s one with multiple paragraphs and code.</div>
<div class="line"> </div>
<div class="line">    Indent paragraphs to include them in the footnote.</div>
<div class="line"> </div>
<div class="line">    ```</div>
<div class="line">    my code</div>
<div class="line">    ```</div>
<div class="line"> </div>
<div class="line">    Add as many paragraphs as you like.</div>
<div class="line"> </div>
<div class="line">Text here and here and here.</div>
<div class="line">[Learn more about markdown and footnotes in markdown](https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax#footnotes)</div>
</div><!-- fragment --><p>…and our module <code>example.js</code> looks as follows:</p>
<div class="fragment"><div class="line">import fs from &#39;node:fs/promises&#39;</div>
<div class="line">import {micromark} from &#39;micromark&#39;</div>
<div class="line">import {gfmFootnote, gfmFootnoteHtml} from &#39;micromark-extension-gfm-footnote&#39;</div>
<div class="line"> </div>
<div class="line">const output = micromark(await fs.readFile(&#39;example.md&#39;), {</div>
<div class="line">  extensions: [gfmFootnote()],</div>
<div class="line">  htmlExtensions: [gfmFootnoteHtml()]</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">console.log(output)</div>
</div><!-- fragment --><p>…now running <code>node example.js</code> yields:</p>
<div class="fragment"><div class="line">&lt;p&gt;Using footnotes is fun!&lt;sup&gt;&lt;a href=&quot;#user-content-fn-1&quot; id=&quot;user-content-fnref-1&quot; data-footnote-ref=&quot;&quot; aria-describedby=&quot;footnote-label&quot;&gt;1&lt;/a&gt;&lt;/sup&gt; They let you reference relevant information without disrupting the flow of what you’re trying to say.&lt;sup&gt;&lt;a href=&quot;#user-content-fn-bignote&quot; id=&quot;user-content-fnref-bignote&quot; data-footnote-ref=&quot;&quot; aria-describedby=&quot;footnote-label&quot;&gt;2&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;</div>
<div class="line">&lt;p&gt;Text here and here and here.</div>
<div class="line">&lt;a href=&quot;https://docs.github.com/en/github/writing-on-github/getting-started-with-writing-and-formatting-on-github/basic-writing-and-formatting-syntax#footnotes&quot;&gt;Learn more about markdown and footnotes in markdown&lt;/a&gt;&lt;/p&gt;</div>
<div class="line">&lt;section data-footnotes=&quot;&quot; class=&quot;footnotes&quot;&gt;&lt;h2 id=&quot;footnote-label&quot; class=&quot;sr-only&quot;&gt;Footnotes&lt;/h2&gt;</div>
<div class="line">&lt;ol&gt;</div>
<div class="line">&lt;li id=&quot;user-content-fn-1&quot;&gt;</div>
<div class="line">&lt;p&gt;This is the first footnote. &lt;a href=&quot;#user-content-fnref-1&quot; data-footnote-backref=&quot;&quot; class=&quot;data-footnote-backref&quot; aria-label=&quot;Back to content&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;</div>
<div class="line">&lt;/li&gt;</div>
<div class="line">&lt;li id=&quot;user-content-fn-bignote&quot;&gt;</div>
<div class="line">&lt;p&gt;Here’s one with multiple paragraphs and code.&lt;/p&gt;</div>
<div class="line">&lt;p&gt;Indent paragraphs to include them in the footnote.&lt;/p&gt;</div>
<div class="line">&lt;pre&gt;&lt;code&gt;my code</div>
<div class="line">&lt;/code&gt;&lt;/pre&gt;</div>
<div class="line">&lt;p&gt;Add as many paragraphs as you like. &lt;a href=&quot;#user-content-fnref-bignote&quot; data-footnote-backref=&quot;&quot; class=&quot;data-footnote-backref&quot; aria-label=&quot;Back to content&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;</div>
<div class="line">&lt;/li&gt;</div>
<div class="line">&lt;/ol&gt;</div>
<div class="line">&lt;/section&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23186"></a>
API</h1>
<p>This package exports the identifiers `defaultBackLabel`, `gfmFootnote`, and `gfmFootnoteHtml`. There is no default export.</p>
<p>The export map supports the <a href="https://nodejs.org/api/packages.html#packages_resolving_user_conditions"><code>development</code> condition</a>. Run <code>node --conditions development module.js</code> to get instrumented dev code. Without this condition, production code is loaded.</p>
<h2><a class="anchor" id="autotoc_md23187"></a>
<code>defaultBackLabel(referenceIndex, rereferenceIndex)</code></h2>
<p>Generate the default label that GitHub uses on backreferences (`BackLabelTemplate`).</p>
<h2><a class="anchor" id="autotoc_md23188"></a>
<code>gfmFootnote()</code></h2>
<p>Create an extension for <code>micromark</code> to enable GFM footnote syntax.</p>
<h5><a class="anchor" id="autotoc_md23189"></a>
Returns</h5>
<p>Extension for <code>micromark</code> that can be passed in <code>extensions</code> to enable GFM footnote syntax (<a href="https://github.com/micromark/micromark#syntaxextension"><code>Extension</code></a>).</p>
<h2><a class="anchor" id="autotoc_md23190"></a>
<code>gfmFootnoteHtml(options?)</code></h2>
<p>Create an extension for <code>micromark</code> to support GFM footnotes when serializing to HTML.</p>
<h5><a class="anchor" id="autotoc_md23191"></a>
Parameters</h5>
<ul>
<li><code>options</code> (`HtmlOptions`, optional) — configuration</li>
</ul>
<h5><a class="anchor" id="autotoc_md23192"></a>
Returns</h5>
<p>Extension for <code>micromark</code> that can be passed in <code>htmlExtensions</code> to support GFM footnotes when serializing to HTML (<a href="https://github.com/micromark/micromark#htmlextension"><code>HtmlExtension</code></a>).</p>
<h2><a class="anchor" id="autotoc_md23193"></a>
<code>BackLabelTemplate</code></h2>
<p>Generate a back label dynamically (TypeScript type).</p>
<p>For the following markdown:</p>
<div class="fragment"><div class="line">Alpha[^micromark], bravo[^micromark], and charlie[^remark].</div>
<div class="line"> </div>
<div class="line">[^remark]: things about remark</div>
<div class="line">[^micromark]: things about micromark</div>
</div><!-- fragment --><p>This function will be called with:</p>
<ul>
<li><code>0</code> and <code>0</code> for the backreference from <code>things about micromark</code> to <code>alpha</code>, as it is the first used definition, and the first call to it</li>
<li><code>0</code> and <code>1</code> for the backreference from <code>things about micromark</code> to <code>bravo</code>, as it is the first used definition, and the second call to it</li>
<li><code>1</code> and <code>0</code> for the backreference from <code>things about remark</code> to <code>charlie</code>, as it is the second used definition</li>
</ul>
<h5><a class="anchor" id="autotoc_md23194"></a>
Parameters</h5>
<ul>
<li><code>referenceIndex</code> (<code>number</code>) — index of the definition in the order that they are first referenced, 0-indexed</li>
<li><code>rereferenceIndex</code> (<code>number</code>) — index of calls to the same definition, 0-indexed</li>
</ul>
<h5><a class="anchor" id="autotoc_md23195"></a>
Returns</h5>
<p>Back label to use when linking back from definitions to their reference (<code>string</code>).</p>
<h2><a class="anchor" id="autotoc_md23196"></a>
<code>HtmlOptions</code></h2>
<p>Configuration (TypeScript type).</p>
<h4><a class="anchor" id="autotoc_md23197"></a>
Fields</h4>
<h5><a class="anchor" id="autotoc_md23198"></a>
<code>clobberPrefix</code></h5>
<p>Prefix to use before the <code>id</code> attribute on footnotes to prevent them from <em>clobbering</em> (<code>string</code>, default: &lsquo;'user-content-&rsquo;`).</p>
<p>Pass &lsquo;&rsquo;'` for trusted markdown and when you are careful with polyfilling. You could pass a different prefix.</p>
<p>DOM clobbering is this:</p>
<div class="fragment"><div class="line">&lt;p id=&quot;x&quot;&gt;&lt;/p&gt;</div>
<div class="line">&lt;script&gt;alert(x) // `x` now refers to the `p#x` DOM element&lt;/script&gt;</div>
</div><!-- fragment --><p>The above example shows that elements are made available by browsers, by their ID, on the <code>window</code> object. This is a security risk because you might be expecting some other variable at that place. It can also break polyfills. Using a prefix solves these problems.</p>
<h5><a class="anchor" id="autotoc_md23199"></a>
<code>label</code></h5>
<p>Textual label to use for the footnotes section (<code>string</code>, default: &lsquo;'Footnotes&rsquo;`).</p>
<p>Change it when the markdown is not in English.</p>
<p>This label is typically hidden visually (assuming a <code>sr-only</code> CSS class is defined that does that) and so affects screen readers only.</p>
<h5><a class="anchor" id="autotoc_md23200"></a>
<code>labelAttributes</code></h5>
<p>Attributes to use on the footnote label (<code>string</code>, default: &lsquo;'class="sr-only"&rsquo;`).</p>
<p>Change it to show the label and add other attributes.</p>
<p>This label is typically hidden visually (assuming an <code>sr-only</code> CSS class is defined that does that) and so affects screen readers only. If you do have such a class, but want to show this section to everyone, pass an empty string. You can also add different attributes.</p>
<blockquote class="doxtable">
<p>👉 <b>Note</b>: <code>id="footnote-label"</code> is always added, because footnote calls use it with <code>aria-describedby</code> to provide an accessible label. </p>
</blockquote>
<h5><a class="anchor" id="autotoc_md23201"></a>
<code>labelTagName</code></h5>
<p>HTML tag name to use for the footnote label element (<code>string</code>, default: &lsquo;'h2&rsquo;`).</p>
<p>Change it to match your document structure.</p>
<p>This label is typically hidden visually (assuming a <code>sr-only</code> CSS class is defined that does that) and so affects screen readers only.</p>
<h5><a class="anchor" id="autotoc_md23202"></a>
<code>backLabel</code></h5>
<p>Textual label to describe the backreference back to footnote calls (`BackLabelTemplate` or <code>string</code>, default: `defaultBackLabel`).</p>
<p>Change it when the markdown is not in English.</p>
<p>This label is used in the <a href="https://w3c.github.io/aria/#aria-label"><code>aria-label</code></a> attribute on each backreference (the <code>↩</code> links). It affects users of assistive technology.</p>
<h1><a class="anchor" id="autotoc_md23203"></a>
Bugs</h1>
<p>GitHub’s own algorithm to parse footnote definitions contains several bugs. These are not present in this project. The issues relating to footnote definitions are:</p>
<ul>
<li><a href="https://github.com/github/cmark-gfm/issues/237">Footnote reference call identifiers are trimmed, but definition identifiers aren’t</a>\ — initial and final whitespace in labels causes them not to match</li>
<li><a href="https://github.com/github/cmark-gfm/issues/239">Footnotes are matched case-insensitive, but links keep their casing, breaking them</a>\ — using uppercase (or any character that will be percent encoded) in identifiers breaks links</li>
<li><a href="https://github.com/github/cmark-gfm/issues/250">Colons in footnotes generate links w/o <code>href</code></a>\ — colons in identifiers generate broken links</li>
<li>[Character escape of <code>]</code> does not work in footnote identifiers](<a href="https://github.com/github/cmark-gfm/issues/240">https://github.com/github/cmark-gfm/issues/240</a>)\ — some character escapes don’t work</li>
<li><a href="https://github.com/github/cmark-gfm/issues/249">Footnotes in links are broken</a>\ — while <code>CommonMark</code> prevents links in links, GitHub does not prevent footnotes (which turn into links) in links</li>
<li><a href="https://github.com/github/cmark-gfm/issues/275">Footnote-like brackets around image, break that image</a>\ — images can’t be used in what looks like a footnote call</li>
<li><a href="https://github.com/github/cmark-gfm/issues/282">GFM footnotes: line ending in footnote definition label causes text to disappear</a>\ — line endings in footnote definitions cause text to disappear</li>
</ul>
<h1><a class="anchor" id="autotoc_md23204"></a>
Authoring</h1>
<p>When authoring markdown with footnotes it’s recommended to use words instead of numbers (or letters or anything with an order) as identifiers. That makes it easier to reuse and reorder footnotes.</p>
<p>It’s recommended to place footnotes definitions at the bottom of the document.</p>
<h1><a class="anchor" id="autotoc_md23205"></a>
HTML</h1>
<p>GFM footnotes do not, on their own, relate to anything in HTML. When a footnote reference matches with a definition, they each relate to several elements in HTML.</p>
<p>The reference relates to <code>&lt;sup&gt;</code> and <code>&lt;a&gt;</code> elements in HTML:</p>
<div class="fragment"><div class="line">&lt;sup&gt;&lt;a href=&quot;#user-content-fn-x&quot; id=&quot;user-content-fnref-x&quot; data-footnote-ref=&quot;&quot; aria-describedby=&quot;footnote-label&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;</div>
</div><!-- fragment --><p>…where <code>x</code> is the identifier used in the markdown source and <code>1</code> the number of corresponding, listed, definition.</p>
<p>See <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-sub-and-sup-elements"><em>§ 4.5.19 The <code>sub</code> and <code>sup</code> elements</em></a>, <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"><em>§ 4.5.1 The <code>a</code> element</em></a>, and <a href="https://html.spec.whatwg.org/multipage/dom.html#embedding-custom-non-visible-data-with-the-data-*-attributes"><em>§ 3.2.6.6 Embedding custom non-visible data with the `data-</em>` attributes*</a> in the HTML spec, and <a href="https://w3c.github.io/aria/#aria-describedby"><em>§ 6.8 <code>aria-describedby</code> property</em></a> in WAI-ARIA, for more info.</p>
<p>When one or more definitions are referenced, a footnote section is generated at the end of the document, using <code>&lt;section&gt;</code>, <code>&lt;h2&gt;</code>, and <code>&lt;ol&gt;</code> elements:</p>
<div class="fragment"><div class="line">&lt;section data-footnotes=&quot;&quot; class=&quot;footnotes&quot;&gt;&lt;h2 id=&quot;footnote-label&quot; class=&quot;sr-only&quot;&gt;Footnotes&lt;/h2&gt;</div>
<div class="line">&lt;ol&gt;…&lt;/ol&gt;</div>
<div class="line">&lt;/section&gt;</div>
</div><!-- fragment --><p>Each definition is generated as a <code>&lt;li&gt;</code> in the <code>&lt;ol&gt;</code> in the order they were first referenced:</p>
<div class="fragment"><div class="line">&lt;li id=&quot;user-content-fn-1&quot;&gt;…&lt;/li&gt;</div>
</div><!-- fragment --><p>Backreferences are injected at the end of the first paragraph, or, when there is no paragraph, at the end of the definition. When a definition is referenced multiple times, multiple backreferences are generated. Further backreferences use an extra counter in the <code>href</code> attribute and visually in a <code>&lt;span&gt;</code> after <code>↩</code>.</p>
<div class="fragment"><div class="line">&lt;a href=&quot;#user-content-fnref-1&quot; data-footnote-backref=&quot;&quot; class=&quot;data-footnote-backref&quot; aria-label=&quot;Back to content&quot;&gt;↩&lt;/a&gt; &lt;a href=&quot;#user-content-fnref-1-2&quot; data-footnote-backref=&quot;&quot; class=&quot;data-footnote-backref&quot; aria-label=&quot;Back to content&quot;&gt;↩&lt;sup&gt;2&lt;/sup&gt;&lt;/a&gt;</div>
</div><!-- fragment --><p>See <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element"><em>§ 4.5.1 The <code>a</code> element</em></a>, <a href="https://html.spec.whatwg.org/multipage/sections.html#the-h1,-h2,-h3,-h4,-h5,-and-h6-elements"><em>§ 4.3.6 The <code>h1</code>, <code>h2</code>, <code>h3</code>, <code>h4</code>, <code>h5</code>, and <code>h6</code> elements</em></a>, <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-li-element"><em>§ 4.4.8 The <code>li</code> element</em></a>, <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-ol-element"><em>§ 4.4.5 The <code>ol</code> element</em></a>, <a href="https://html.spec.whatwg.org/multipage/grouping-content.html#the-p-element"><em>§ 4.4.1 The <code>p</code> element</em></a>, <a href="https://html.spec.whatwg.org/multipage/sections.html#the-section-element"><em>§ 4.3.3 The <code>section</code> element</em></a>, and <a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-sub-and-sup-elements"><em>§ 4.5.19 The <code>sub</code> and <code>sup</code> elements</em></a> in the HTML spec, and <a href="https://w3c.github.io/aria/#aria-label"><em>§ 6.8 <code>aria-label</code> property</em></a> in WAI-ARIA, for more info.</p>
<h1><a class="anchor" id="autotoc_md23206"></a>
CSS</h1>
<p>The following CSS is needed to make footnotes look a bit like GitHub (and fixes a bug). For the complete actual CSS see <a href="https://github.com/sindresorhus/github-markdown-css"><code>sindresorhus/github-markdown-css</code></a>.</p>
<div class="fragment"><div class="line">/* Style the footnotes section. */</div>
<div class="line">.footnotes {</div>
<div class="line">  font-size: smaller;</div>
<div class="line">  color: #8b949e;</div>
<div class="line">  border-top: 1px solid #30363d;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* Hide the section label for visual users. */</div>
<div class="line">.sr-only {</div>
<div class="line">  position: absolute;</div>
<div class="line">  width: 1px;</div>
<div class="line">  height: 1px;</div>
<div class="line">  padding: 0;</div>
<div class="line">  overflow: hidden;</div>
<div class="line">  clip: rect(0, 0, 0, 0);</div>
<div class="line">  word-wrap: normal;</div>
<div class="line">  border: 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* Place `[` and `]` around footnote references. */</div>
<div class="line">[data-footnote-ref]::before {</div>
<div class="line">  content: &#39;[&#39;;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[data-footnote-ref]::after {</div>
<div class="line">  content: &#39;]&#39;;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md23207"></a>
Syntax</h1>
<p>Footnotes form with, roughly, the following BNF:</p>
<div class="fragment"><div class="line">gfm_footnote_reference ::= gfm_footnote_label</div>
<div class="line"> </div>
<div class="line">gfm_footnote_definition_start ::= gfm_footnote_label &#39;:&#39; *space_or_tab</div>
<div class="line">; Restriction: blank line allowed.</div>
<div class="line">gfm_footnote_definition_cont ::= 4(space_or_tab)</div>
<div class="line"> </div>
<div class="line">; Restriction: maximum `999` codes between `^` and `]`.</div>
<div class="line">gfm_footnote_label ::= &#39;[&#39; &#39;^&#39; 1*(gfm_footnote_label_byte | gfm_footnote_label_escape) &#39;]&#39;</div>
<div class="line">gfm_footnote_label_byte ::= text - &#39;[&#39; - &#39;\\&#39; - &#39;]&#39;</div>
<div class="line">gfm_footnote_label_escape ::= &#39;\\&#39; [&#39;[&#39; | &#39;\\&#39; | &#39;]&#39;]</div>
<div class="line"> </div>
<div class="line">; Any byte (u8)</div>
<div class="line">byte ::= 0x00..=0xFFFF</div>
<div class="line">space_or_tab ::= &#39;\t&#39; | &#39; &#39;</div>
<div class="line">eol ::= &#39;\n&#39; | &#39;\r&#39; | &#39;\r\n&#39;</div>
<div class="line">line ::= byte - eol</div>
<div class="line">text ::= line - space_or_tab</div>
</div><!-- fragment --><p>Further lines after <code>gfm_footnote_definition_start</code> that are not prefixed with <code>gfm_footnote_definition_cont</code> cause the footnote definition to be exited, except when those lines are lazy continuation or blank. Like so many things in markdown, footnote definition too are complex. See <a href="https://spec.commonmark.org/0.30/#phase-1-block-structure"><em>§ Phase 1: block structure</em> in <code>CommonMark</code></a> for more on parsing details.</p>
<p>The identifiers in the <code>label</code> parts are interpreted as the <a href="https://github.com/micromark/micromark#content-types">string</a> content type. That means that character escapes and character references are allowed.</p>
<p>Definitions match to references through identifiers. To match, both labels must be equal after normalizing with <a href="https://github.com/micromark/micromark/tree/main/packages/micromark-util-normalize-identifier"><code>normalizeIdentifier</code></a>. One definition can match to multiple calls. Multiple definitions with the same, normalized, identifier are ignored: the first definition is preferred. To illustrate, the definition with the content of <code>x</code> wins:</p>
<div class="fragment"><div class="line">[^a]: x</div>
<div class="line">[^a]: y</div>
<div class="line"> </div>
<div class="line">[^a]</div>
</div><!-- fragment --><p>Importantly, while labels <em>can</em> include <a href="https://github.com/micromark/micromark#content-types">string</a> content (character escapes and character references), these are not considered when matching. To illustrate, neither definition matches the reference:</p>
<div class="fragment"><div class="line">[^a&amp;amp;b]: x</div>
<div class="line">[^a\&amp;b]: y</div>
<div class="line"> </div>
<div class="line">[^a&amp;b]</div>
</div><!-- fragment --><p>Because footnote definitions are containers (like block quotes and list items), they can contain more footnote definitions. They can even include references to themselves.</p>
<h1><a class="anchor" id="autotoc_md23208"></a>
Types</h1>
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>. It exports the additional types `BackLabelTemplate` and `HtmlOptions`.</p>
<h1><a class="anchor" id="autotoc_md23209"></a>
Compatibility</h1>
<p>Projects maintained by the unified collective are compatible with maintained versions of Node.js.</p>
<p>When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, <code>micromark-extension-gfm-footnote@^2</code>, compatible with Node.js 16.</p>
<p>This package works with <code>micromark</code> version <code>3</code> and later.</p>
<h1><a class="anchor" id="autotoc_md23210"></a>
Security</h1>
<p>This package is safe. Setting &lsquo;clobberPrefix = &rsquo;'<code>is dangerous, it opens you up to DOM clobbering. The</code>labelTagName<code>and</code>labelAttributes` options are unsafe when used with user content, they allow defining arbitrary HTML.</p>
<h1><a class="anchor" id="autotoc_md23211"></a>
Related</h1>
<ul>
<li><a href="https://github.com/micromark/micromark-extension-gfm"><code>micromark-extension-gfm</code></a> — support all of GFM</li>
<li><a href="https://github.com/syntax-tree/mdast-util-gfm-footnote"><code>mdast-util-gfm-footnote</code></a> — support all of GFM in mdast</li>
<li><a href="https://github.com/syntax-tree/mdast-util-gfm"><code>mdast-util-gfm</code></a> — support all of GFM in mdast</li>
<li><a href="https://github.com/remarkjs/remark-gfm"><code>remark-gfm</code></a> — support all of GFM in remark</li>
</ul>
<h1><a class="anchor" id="autotoc_md23212"></a>
Contribute</h1>
<p>See <a href="https://github.com/micromark/.github/blob/main/contributing.md"><code>contributing.md</code> in <code>micromark/.github</code></a> for ways to get started. See <a href="https://github.com/micromark/.github/blob/main/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/micromark/.github/blob/main/code-of-conduct.md">code of conduct</a>. By interacting with this repository, organization, or community you agree to abide by its terms.</p>
<h1><a class="anchor" id="autotoc_md23213"></a>
License</h1>
<p>[MIT][license] © <a href="https://wooorm.com">Titus Wormer</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_664c62f744e46fbb5101aed4efda02a0.html">micromark-extension-gfm-footnote</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
