<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/remark-rehype Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_7f2b626f1e9937fc3badcbe8b77c55e1.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">remark-rehype Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://github.com/remarkjs/remark-rehype/actions"><img src="https://github.com/remarkjs/remark-rehype/workflows/main/badge.svg" alt="Build" style="pointer-events: none;" class="inline"/></a> <a href="https://codecov.io/github/remarkjs/remark-rehype"><img src="https://img.shields.io/codecov/c/github/remarkjs/remark-rehype.svg" alt="Coverage" style="pointer-events: none;" class="inline"/></a> <a href="https://www.npmjs.com/package/remark-rehype"><img src="https://img.shields.io/npm/dm/remark-rehype.svg" alt="Downloads" style="pointer-events: none;" class="inline"/></a> <a href="https://bundlejs.com/?q=remark-rehype"><img src="https://img.shields.io/bundlejs/size/remark-rehype" alt="Size" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/sponsors/badge.svg" alt="Sponsors" style="pointer-events: none;" class="inline"/></a> <a href="https://opencollective.com/unified"><img src="https://opencollective.com/unified/backers/badge.svg" alt="Backers" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/remarkjs/remark/discussions"><img src="https://img.shields.io/badge/chat-discussions-success.svg" alt="Chat" style="pointer-events: none;" class="inline"/></a></p>
<p><b><a href="https://github.com/remarkjs/remark">remark</a></b> plugin that turns markdown into HTML to support <b><a href="https://github.com/rehypejs/rehype">rehype</a></b>.</p>
<h1><a class="anchor" id="autotoc_md29222"></a>
Contents</h1>
<ul>
<li>What is this?</li>
<li>When should I use this?</li>
<li>Install</li>
<li>Use</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#api">API</a><ul>
<li>`defaultFootnoteBackContent(referenceIndex, rereferenceIndex)`</li>
<li>`defaultFootnoteBackLabel(referenceIndex, rereferenceIndex)`</li>
<li>`defaultHandlers`</li>
<li>`unified().use(remarkRehype[, destination][, options])`</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">`Options`</a></li>
</ul>
</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/inquirer/README.md#examples">Examples</a><ul>
<li>Example: supporting HTML in markdown naïvely</li>
<li>Example: supporting HTML in markdown properly</li>
<li>Example: footnotes in languages other than English</li>
</ul>
</li>
<li>HTML</li>
<li>CSS</li>
<li>Syntax tree</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#types">Types</a></li>
<li>Compatibility</li>
<li>Security</li>
<li>Related</li>
<li><a class="el" href="/Users/vivi/astro/node_modules/@sinclair/typebox/readme.md#contribute">Contribute</a></li>
<li><a class="el" href="/Users/vivi/astro/node_modules/bl/README.md#license">License</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md29223"></a>
What is this?</h1>
<p>This package is a <a href="https://github.com/unifiedjs/unified">unified</a> (<a href="https://github.com/remarkjs/remark">remark</a>) plugin that switches from remark (the markdown ecosystem) to rehype (the HTML ecosystem). It does this by transforming the current markdown (mdast) syntax tree into an HTML (hast) syntax tree. remark plugins deal with mdast and rehype plugins deal with hast, so plugins used after <code>remark-rehype</code> have to be rehype plugins.</p>
<p>The reason that there are different ecosystems for markdown and HTML is that turning markdown into HTML is, while frequently needed, not the only purpose of markdown. Checking (linting) and formatting markdown are also common use cases for remark and markdown. There are several aspects of markdown that do not translate 1-to-1 to HTML. In some cases markdown contains more information than HTML: for example, there are several ways to add a link in markdown (as in, autolinks: <code>&lt;<a href="https://url">https://url</a>&gt;</code>, resource links: <code>[label](url)</code>, and reference links with definitions: <code>[label][id]</code> and <code>[id]: url</code>). In other cases HTML contains more information than markdown: there are many tags, which add new meaning (semantics), available in HTML that aren’t available in markdown. If there was just one AST, it would be quite hard to perform the tasks that several remark and rehype plugins currently do.</p>
<h1><a class="anchor" id="autotoc_md29224"></a>
When should I use this?</h1>
<p>This project is useful when you want to turn markdown to HTML. It opens up a whole new ecosystem with tons of plugins to do all kinds of things. You can <a href="https://github.com/rehypejs/rehype-minify">minify HTML</a>, <a href="https://github.com/rehypejs/rehype-format">format HTML</a>, <a href="https://github.com/rehypejs/rehype-sanitize">make sure it’s safe</a>, <a href="https://github.com/rehypejs/rehype-highlight">highlight code</a>, <a href="https://github.com/rehypejs/rehype-meta">add metadata</a>, and a lot more.</p>
<p>A different plugin, <a href="https://github.com/rehypejs/rehype-raw"><code>rehype-raw</code></a>, adds support for raw HTML written inside markdown. This is a separate plugin because supporting HTML inside markdown is a heavy task (performance and bundle size) and not always needed. To use both together, you also have to configure <code>remark-rehype</code> with <code>allowDangerousHtml: true</code> and then use <code>rehype-raw</code>.</p>
<p>The rehype plugin <a href="https://github.com/rehypejs/rehype-remark"><code>rehype-remark</code></a> does the inverse of this plugin. It turns HTML into markdown.</p>
<p>If you don’t use plugins and want to access syntax trees, you can use <a href="https://github.com/syntax-tree/mdast-util-to-hast"><code>mdast-util-to-hast</code></a>.</p>
<h1><a class="anchor" id="autotoc_md29225"></a>
Install</h1>
<p>This package is <a href="https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c">ESM only</a>. In Node.js (version 16+), install with <a href="https://docs.npmjs.com/cli/install">npm</a>:</p>
<div class="fragment"><div class="line">npm install remark-rehype</div>
</div><!-- fragment --><p>In Deno with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">import remarkRehype from &#39;https://esm.sh/remark-rehype@11&#39;</div>
</div><!-- fragment --><p>In browsers with <a href="https://esm.sh"><code>esm.sh</code></a>:</p>
<div class="fragment"><div class="line">&lt;script type=&quot;module&quot;&gt;</div>
<div class="line">  import remarkRehype from &#39;https://esm.sh/remark-rehype@11?bundle&#39;</div>
<div class="line">&lt;/script&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md29226"></a>
Use</h1>
<p>Say our document <code>example.md</code> contains:</p>
<div class="fragment"><div class="line"># Pluto</div>
<div class="line"> </div>
<div class="line">**Pluto** (minor-planet designation: **134340 Pluto**) is a</div>
<div class="line">[dwarf planet](https://en.wikipedia.org/wiki/Dwarf_planet) in the</div>
<div class="line">[Kuiper belt](https://en.wikipedia.org/wiki/Kuiper_belt).</div>
</div><!-- fragment --><p>…and our module <code>example.js</code> contains:</p>
<div class="fragment"><div class="line">import rehypeDocument from &#39;rehype-document&#39;</div>
<div class="line">import rehypeFormat from &#39;rehype-format&#39;</div>
<div class="line">import rehypeStringify from &#39;rehype-stringify&#39;</div>
<div class="line">import remarkParse from &#39;remark-parse&#39;</div>
<div class="line">import remarkRehype from &#39;remark-rehype&#39;</div>
<div class="line">import {read} from &#39;to-vfile&#39;</div>
<div class="line">import {unified} from &#39;unified&#39;</div>
<div class="line">import {reporter} from &#39;vfile-reporter&#39;</div>
<div class="line"> </div>
<div class="line">const file = await unified()</div>
<div class="line">  .use(remarkParse)</div>
<div class="line">  .use(remarkRehype)</div>
<div class="line">  .use(rehypeDocument)</div>
<div class="line">  .use(rehypeFormat)</div>
<div class="line">  .use(rehypeStringify)</div>
<div class="line">  .process(await read(&#39;example.md&#39;))</div>
<div class="line"> </div>
<div class="line">console.error(reporter(file))</div>
<div class="line">console.log(String(file))</div>
</div><!-- fragment --><p>…then running <code>node example.js</code> yields:</p>
<div class="fragment"><div class="line">example.md: no issues found</div>
</div><!-- fragment --><div class="fragment"><div class="line">&lt;!doctype html&gt;</div>
<div class="line">&lt;html lang=&quot;en&quot;&gt;</div>
<div class="line">  &lt;head&gt;</div>
<div class="line">    &lt;meta charset=&quot;utf-8&quot;&gt;</div>
<div class="line">    &lt;title&gt;example&lt;/title&gt;</div>
<div class="line">    &lt;meta content=&quot;width=device-width, initial-scale=1&quot; name=&quot;viewport&quot;&gt;</div>
<div class="line">  &lt;/head&gt;</div>
<div class="line">  &lt;body&gt;</div>
<div class="line">    &lt;h1&gt;Pluto&lt;/h1&gt;</div>
<div class="line">    &lt;p&gt;</div>
<div class="line">      &lt;strong&gt;Pluto&lt;/strong&gt; (minor-planet designation: &lt;strong&gt;134340 Pluto&lt;/strong&gt;) is a</div>
<div class="line">      &lt;a href=&quot;https://en.wikipedia.org/wiki/Dwarf_planet&quot;&gt;dwarf planet&lt;/a&gt; in the</div>
<div class="line">      &lt;a href=&quot;https://en.wikipedia.org/wiki/Kuiper_belt&quot;&gt;Kuiper belt&lt;/a&gt;.</div>
<div class="line">    &lt;/p&gt;</div>
<div class="line">  &lt;/body&gt;</div>
<div class="line">&lt;/html&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md29227"></a>
API</h1>
<p>This package exports the identifiers `defaultFootnoteBackContent`, `defaultFootnoteBackLabel`, and `defaultHandlers`. The default export is `remarkRehype`.</p>
<h2><a class="anchor" id="autotoc_md29228"></a>
<code>defaultFootnoteBackContent(referenceIndex, rereferenceIndex)</code></h2>
<p>See <a href="https://github.com/syntax-tree/mdast-util-to-hast#defaultfootnotebackcontentreferenceindex-rereferenceindex"><code>defaultFootnoteBackContent</code> from <code>mdast-util-to-hast</code></a></p>
<h2><a class="anchor" id="autotoc_md29229"></a>
<code>defaultFootnoteBackLabel(referenceIndex, rereferenceIndex)</code></h2>
<p>See <a href="https://github.com/syntax-tree/mdast-util-to-hast#defaultfootnotebacklabelreferenceindex-rereferenceindex"><code>defaultFootnoteBackLabel</code> from <code>mdast-util-to-hast</code></a></p>
<h2><a class="anchor" id="autotoc_md29230"></a>
<code>defaultHandlers</code></h2>
<p>See <a href="https://github.com/syntax-tree/mdast-util-to-hast#defaulthandlers"><code>defaultHandlers</code> from <code>mdast-util-to-hast</code></a></p>
<h2><a class="anchor" id="autotoc_md29231"></a>
<code>unified().use(remarkRehype[, destination][, options])</code></h2>
<p>Turn markdown into HTML.</p>
<h5><a class="anchor" id="autotoc_md29232"></a>
Parameters</h5>
<ul>
<li><code>destination</code> (<a href="https://github.com/unifiedjs/unified#processor"><code>Processor</code></a>, optional) — processor</li>
<li><code>options</code> (<a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">`Options`</a>, optional) — configuration</li>
</ul>
<h5><a class="anchor" id="autotoc_md29233"></a>
Returns</h5>
<p>Transform (<a href="https://github.com/unifiedjs/unified#transformer"><code>Transformer</code></a>).</p>
<h4><a class="anchor" id="autotoc_md29234"></a>
Notes</h4>
<h5><a class="anchor" id="autotoc_md29235"></a>
Signature</h5>
<ul>
<li>if a <a href="https://github.com/unifiedjs/unified#processor">processor</a> is given, runs the (rehype) plugins used on it with a hast tree, then discards the result (<a href="https://github.com/unifiedjs/unified#transforming-between-ecosystems"><em>bridge mode</em></a>)</li>
<li>otherwise, returns a hast tree, the plugins used after <code>remarkRehype</code> are rehype plugins (<a href="https://github.com/unifiedjs/unified#transforming-between-ecosystems"><em>mutate mode</em></a>)</li>
</ul>
<blockquote class="doxtable">
<p>👉 <b>Note</b>: It’s highly unlikely that you want to pass a <code>processor</code>. </p>
</blockquote>
<h5><a class="anchor" id="autotoc_md29236"></a>
HTML</h5>
<p>Raw HTML is available in mdast as <a href="https://github.com/syntax-tree/mdast#html"><code>html</code></a> nodes and can be embedded in hast as semistandard <code>raw</code> nodes. Most plugins ignore <code>raw</code> nodes but two notable ones don’t:</p>
<ul>
<li><a href="https://github.com/rehypejs/rehype/tree/main/packages/rehype-stringify"><code>rehype-stringify</code></a> also has an option <code>allowDangerousHtml</code> which will output the raw HTML. This is typically discouraged as noted by the option name but is useful if you completely trust authors</li>
<li><a href="https://github.com/rehypejs/rehype-raw"><code>rehype-raw</code></a> can handle the raw embedded HTML strings by parsing them into standard hast nodes (<code>element</code>, <code>text</code>, etc). This is a heavy task as it needs a full HTML parser, but it is the only way to support untrusted content</li>
</ul>
<h5><a class="anchor" id="autotoc_md29237"></a>
Footnotes</h5>
<p>Many options supported here relate to footnotes. Footnotes are not specified by CommonMark, which we follow by default. They are supported by GitHub, so footnotes can be enabled in markdown with <a href="https://github.com/remarkjs/remark-gfm"><code>remark-gfm</code></a>.</p>
<p>The options <code>footnoteBackLabel</code> and <code>footnoteLabel</code> define natural language that explains footnotes, which is hidden for sighted users but shown to assistive technology. When your page is not in English, you must define translated values.</p>
<p>Back references use ARIA attributes, but the section label itself uses a heading that is hidden with an <code>sr-only</code> class. To show it to sighted users, define different attributes in <code>footnoteLabelProperties</code>.</p>
<h5><a class="anchor" id="autotoc_md29238"></a>
Clobbering</h5>
<p>Footnotes introduces a problem, as it links footnote calls to footnote definitions on the page through <code>id</code> attributes generated from user content, which results in DOM clobbering.</p>
<p>DOM clobbering is this:</p>
<div class="fragment"><div class="line">&lt;p id=x&gt;&lt;/p&gt;</div>
<div class="line">&lt;script&gt;alert(x) // `x` now refers to the DOM `p#x` element&lt;/script&gt;</div>
</div><!-- fragment --><p>Elements by their ID are made available by browsers on the <code>window</code> object, which is a security risk. Using a prefix solves this problem.</p>
<p>More information on how to handle clobbering and the prefix is explained in <a href="https://github.com/rehypejs/rehype-sanitize#example-headings-dom-clobbering"><em>Example: headings (DOM clobbering)</em> in <code>rehype-sanitize</code></a>.</p>
<h5><a class="anchor" id="autotoc_md29239"></a>
Unknown nodes</h5>
<p>Unknown nodes are nodes with a type that isn’t in <code>handlers</code> or <code>passThrough</code>. The default behavior for unknown nodes is:</p>
<ul>
<li>when the node has a <code>value</code> (and doesn’t have <code>data.hName</code>, <code>data.hProperties</code>, or <code>data.hChildren</code>, see later), create a hast <code>text</code> node</li>
<li>otherwise, create a <code>&lt;div&gt;</code> element (which could be changed with <code>data.hName</code>), with its children mapped from mdast to hast as well</li>
</ul>
<p>This behavior can be changed by passing an <code>unknownHandler</code>.</p>
<h2><a class="anchor" id="autotoc_md29240"></a>
<code>Options</code></h2>
<p>Configuration (TypeScript type).</p>
<h5><a class="anchor" id="autotoc_md29241"></a>
Fields</h5>
<ul>
<li><code>allowDangerousHtml</code> (<code>boolean</code>, default: <code>false</code>) — whether to persist raw HTML in markdown in the hast tree</li>
<li><code>clobberPrefix</code> (<code>string</code>, default: &lsquo;'user-content-&rsquo;<code>) — prefix to use before the</code>id<code>property on footnotes to prevent them from *clobbering* *</code>footnoteBackContent<code> ([</code>FootnoteBackContentTemplate<code>from </code>mdast-util-to-hast<code>][mdast-util-to-hast-footnote-back-content-template] or</code>string<code>, default: [</code>defaultFootnoteBackContent<code>from </code>mdast-util-to-hast<code>][mdast-util-to-hast-default-footnote-back-content]) — content of the backreference back to references *</code>footnoteBackLabel<code> ([</code>FootnoteBackLabelTemplate<code>from </code>mdast-util-to-hast<code>][mdast-util-to-hast-footnote-back-label-template] or</code>string<code>, default: [</code>defaultFootnoteBackLabel<code>from </code>mdast-util-to-hast<code>][mdast-util-to-hast-default-footnote-back-label]) — label to describe the backreference back to references *</code>footnoteLabel<code>(</code>string<code>, default:</code>'Footnotes'<code>) — label to use for the footnotes section (affects screen readers) *</code>footnoteLabelProperties<code> ([</code>Properties<code>from</code>@types/hast<code>][hast-properties], default: </code>{className: ['sr-only']}<code>) — properties to use on the footnote label (note that</code>id: 'footnote-label'<code>is always added as footnote calls use it with</code>aria-describedby<code>to provide an accessible label) *</code>footnoteLabelTagName<code>(</code>string<code>, default:</code>h2<code>) — tag name to use for the footnote label *</code>handlers<code>([</code>Handlers<code>from </code>mdast-util-to-hast<code>][mdast-util-to-hast-handlers], optional) — extra handlers for nodes *</code>passThrough<code>(</code>Array&lt;Nodes['type']&gt;<code>, optional) — list of custom mdast node types to pass through (keep) in hast (note that the node itself is passed, but eventual children are transformed) *</code>unknownHandler<code>([</code>Handler<code>from </code>mdast-util-to-hast`]<a href="https://github.com/syntax-tree/mdast-util-to-hast#handler">mdast-util-to-hast-handler</a>, optional) — handle all unknown nodes</li>
</ul>
<h1><a class="anchor" id="autotoc_md29242"></a>
Examples</h1>
<h2><a class="anchor" id="autotoc_md29243"></a>
Example: supporting HTML in markdown naïvely</h2>
<p>If you completely trust the authors of the input markdown and want to allow them to write HTML inside markdown, you can pass <code>allowDangerousHtml</code> to <code>remark-rehype</code> and <code>rehype-stringify</code>:</p>
<div class="fragment"><div class="line">import rehypeStringify from &#39;rehype-stringify&#39;</div>
<div class="line">import remarkParse from &#39;remark-parse&#39;</div>
<div class="line">import remarkRehype from &#39;remark-rehype&#39;</div>
<div class="line">import {unified} from &#39;unified&#39;</div>
<div class="line"> </div>
<div class="line">const file = await unified()</div>
<div class="line">  .use(remarkParse)</div>
<div class="line">  .use(remarkRehype, {allowDangerousHtml: true})</div>
<div class="line">  .use(rehypeStringify, {allowDangerousHtml: true})</div>
<div class="line">  .process(&#39;&lt;a href=&quot;/wiki/Dysnomia_(moon)&quot; onclick=&quot;alert(1)&quot;&gt;Dysnomia&lt;/a&gt;&#39;)</div>
<div class="line"> </div>
<div class="line">console.log(String(file))</div>
</div><!-- fragment --><p>Yields:</p>
<div class="fragment"><div class="line">&lt;p&gt;&lt;a href=&quot;/wiki/Dysnomia_(moon)&quot; onclick=&quot;alert(1)&quot;&gt;Dysnomia&lt;/a&gt;&lt;/p&gt;</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>⚠️ <b>Danger</b>: observe that the XSS attack through <code>onclick</code> is present. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md29244"></a>
Example: supporting HTML in markdown properly</h2>
<p>If you do not trust the authors of the input markdown, or if you want to make sure that rehype plugins can see HTML embedded in markdown, use <a href="https://github.com/rehypejs/rehype-raw"><code>rehype-raw</code></a>. The following example passes <code>allowDangerousHtml</code> to <code>remark-rehype</code>, then turns the raw embedded HTML into proper HTML nodes with <code>rehype-raw</code>, and finally sanitizes the HTML by only allowing safe things with <code>rehype-sanitize</code>:</p>
<div class="fragment"><div class="line">import rehypeSanitize from &#39;rehype-sanitize&#39;</div>
<div class="line">import rehypeStringify from &#39;rehype-stringify&#39;</div>
<div class="line">import rehypeRaw from &#39;rehype-raw&#39;</div>
<div class="line">import remarkParse from &#39;remark-parse&#39;</div>
<div class="line">import remarkRehype from &#39;remark-rehype&#39;</div>
<div class="line">import {unified} from &#39;unified&#39;</div>
<div class="line"> </div>
<div class="line">const file = await unified()</div>
<div class="line">  .use(remarkParse)</div>
<div class="line">  .use(remarkRehype, {allowDangerousHtml: true})</div>
<div class="line">  .use(rehypeRaw)</div>
<div class="line">  .use(rehypeSanitize)</div>
<div class="line">  .use(rehypeStringify)</div>
<div class="line">  .process(&#39;&lt;a href=&quot;/wiki/Dysnomia_(moon)&quot; onclick=&quot;alert(1)&quot;&gt;Dysnomia&lt;/a&gt;&#39;)</div>
<div class="line"> </div>
<div class="line">console.log(String(file))</div>
</div><!-- fragment --><p>Running that code yields:</p>
<div class="fragment"><div class="line">&lt;p&gt;&lt;a href=&quot;/wiki/Dysnomia_(moon)&quot;&gt;Dysnomia&lt;/a&gt;&lt;/p&gt;</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>⚠️ <b>Danger</b>: observe that the XSS attack through <code>onclick</code> is <b>not</b> present. </p>
</blockquote>
<h2><a class="anchor" id="autotoc_md29245"></a>
Example: footnotes in languages other than English</h2>
<p>If you know that the markdown is authored in a language other than English, and you’re using <code>remark-gfm</code> to match how GitHub renders markdown, and you know that footnotes are (or can?) be used, you should translate the labels associated with them.</p>
<p>Let’s first set the stage:</p>
<div class="fragment"><div class="line">import {unified} from &#39;unified&#39;</div>
<div class="line">import remarkParse from &#39;remark-parse&#39;</div>
<div class="line">import remarkGfm from &#39;remark-gfm&#39;</div>
<div class="line">import remarkRehype from &#39;remark-rehype&#39;</div>
<div class="line">import rehypeStringify from &#39;rehype-stringify&#39;</div>
<div class="line"> </div>
<div class="line">const doc = `</div>
<div class="line">Ceres ist nach der römischen Göttin des Ackerbaus benannt;</div>
<div class="line">ihr astronomisches Symbol ist daher eine stilisierte Sichel: ⚳.[^nasa-2015]</div>
<div class="line"> </div>
<div class="line">[^nasa-2015]: JPL/NASA:</div>
<div class="line">    [*What is a Dwarf Planet?*](https://www.jpl.nasa.gov/infographics/what-is-a-dwarf-planet)</div>
<div class="line">    In: Jet Propulsion Laboratory.</div>
<div class="line">    22. April 2015,</div>
<div class="line">    abgerufen am 19. Januar 2022 (englisch).</div>
<div class="line">`</div>
<div class="line"> </div>
<div class="line">const file = await unified()</div>
<div class="line">  .use(remarkParse)</div>
<div class="line">  .use(remarkGfm)</div>
<div class="line">  .use(remarkRehype)</div>
<div class="line">  .use(rehypeStringify)</div>
<div class="line">  .process(doc)</div>
<div class="line"> </div>
<div class="line">console.log(String(file))</div>
</div><!-- fragment --><p>Yields:</p>
<div class="fragment"><div class="line">&lt;p&gt;Ceres ist nach der römischen Göttin des Ackerbaus benannt;</div>
<div class="line">ihr astronomisches Symbol ist daher eine stilisierte Sichel: ⚳.&lt;sup&gt;&lt;a href=&quot;#user-content-fn-nasa-2015&quot; id=&quot;user-content-fnref-nasa-2015&quot; data-footnote-ref aria-describedby=&quot;footnote-label&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;</div>
<div class="line">&lt;section data-footnotes class=&quot;footnotes&quot;&gt;&lt;h2 class=&quot;sr-only&quot; id=&quot;footnote-label&quot;&gt;Footnotes&lt;/h2&gt;</div>
<div class="line">&lt;ol&gt;</div>
<div class="line">&lt;li id=&quot;user-content-fn-nasa-2015&quot;&gt;</div>
<div class="line">&lt;p&gt;JPL/NASA:</div>
<div class="line">&lt;a href=&quot;https://www.jpl.nasa.gov/infographics/what-is-a-dwarf-planet&quot;&gt;&lt;em&gt;What is a Dwarf Planet?&lt;/em&gt;&lt;/a&gt;</div>
<div class="line">In: Jet Propulsion Laboratory.</div>
<div class="line">22. April 2015,</div>
<div class="line">abgerufen am 19. Januar 2022 (englisch). &lt;a href=&quot;#user-content-fnref-nasa-2015&quot; data-footnote-backref=&quot;&quot; aria-label=&quot;Back to reference 1&quot; class=&quot;data-footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;</div>
<div class="line">&lt;/li&gt;</div>
<div class="line">&lt;/ol&gt;</div>
<div class="line">&lt;/section&gt;</div>
</div><!-- fragment --><p>This is a mix of English and German that isn’t very accessible, such as that screen readers can’t handle it nicely. Let’s say our program <em>does</em> know that the markdown is in German. In that case, it’s important to translate and define the labels relating to footnotes so that screen reader users can properly pronounce the page:</p>
<div class="fragment"><div class="line">@@ -18,7 +18,16 @@ ihr astronomisches Symbol ist daher eine stilisierte Sichel: ⚳.[^nasa-2015]</div>
<div class="line"> const file = await unified()</div>
<div class="line">   .use(remarkParse)</div>
<div class="line">   .use(remarkGfm)</div>
<div class="line">-  .use(remarkRehype)</div>
<div class="line">+  .use(remarkRehype, {</div>
<div class="line">+    footnoteBackLabel(referenceIndex, rereferenceIndex) {</div>
<div class="line">+      return (</div>
<div class="line">+        &#39;Hochspringen nach: &#39; +</div>
<div class="line">+        (referenceIndex + 1) +</div>
<div class="line">+        (rereferenceIndex &gt; 1 ? &#39;-&#39; + rereferenceIndex : &#39;&#39;)</div>
<div class="line">+      )</div>
<div class="line">+    },</div>
<div class="line">+    footnoteLabel: &#39;Fußnoten&#39;</div>
<div class="line">+  })</div>
<div class="line">   .use(rehypeStringify)</div>
<div class="line">   .process(doc)</div>
</div><!-- fragment --><p>Running the code with the above patch applied, yields:</p>
<div class="fragment"><div class="line">@@ -1,13 +1,13 @@</div>
<div class="line"> &lt;p&gt;Ceres ist nach der römischen Göttin des Ackerbaus benannt;</div>
<div class="line"> ihr astronomisches Symbol ist daher eine stilisierte Sichel: ⚳.&lt;sup&gt;&lt;a href=&quot;#user-content-fn-nasa-2015&quot; id=&quot;user-content-fnref-nasa-2015&quot; data-footnote-ref aria-describedby=&quot;footnote-label&quot;&gt;1&lt;/a&gt;&lt;/sup&gt;&lt;/p&gt;</div>
<div class="line">-&lt;section data-footnotes class=&quot;footnotes&quot;&gt;&lt;h2 class=&quot;sr-only&quot; id=&quot;footnote-label&quot;&gt;Footnotes&lt;/h2&gt;</div>
<div class="line">+&lt;section data-footnotes class=&quot;footnotes&quot;&gt;&lt;h2 class=&quot;sr-only&quot; id=&quot;footnote-label&quot;&gt;Fußnoten&lt;/h2&gt;</div>
<div class="line"> &lt;ol&gt;</div>
<div class="line"> &lt;li id=&quot;user-content-fn-nasa-2015&quot;&gt;</div>
<div class="line"> &lt;p&gt;JPL/NASA:</div>
<div class="line"> &lt;a href=&quot;https://www.jpl.nasa.gov/infographics/what-is-a-dwarf-planet&quot;&gt;&lt;em&gt;What is a Dwarf Planet?&lt;/em&gt;&lt;/a&gt;</div>
<div class="line"> In: Jet Propulsion Laboratory.</div>
<div class="line"> 22. April 2015,</div>
<div class="line">-abgerufen am 19. Januar 2022 (englisch). &lt;a href=&quot;#user-content-fnref-nasa-2015&quot; data-footnote-backref=&quot;&quot; aria-label=&quot;Back to reference 1&quot; class=&quot;data-footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;</div>
<div class="line">+abgerufen am 19. Januar 2022 (englisch). &lt;a href=&quot;#user-content-fnref-nasa-2015&quot; data-footnote-backref=&quot;&quot; aria-label=&quot;Hochspringen nach: 1&quot; class=&quot;data-footnote-backref&quot;&gt;↩&lt;/a&gt;&lt;/p&gt;</div>
<div class="line"> &lt;/li&gt;</div>
<div class="line"> &lt;/ol&gt;</div>
<div class="line"> &lt;/section&gt;</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md29246"></a>
HTML</h1>
<p>See <a href="https://github.com/syntax-tree/mdast-util-to-hast#algorithm"><em>Algorithm</em> in <code>mdast-util-to-hast</code></a> for info on how mdast (markdown) nodes are transformed to hast (HTML).</p>
<h1><a class="anchor" id="autotoc_md29247"></a>
CSS</h1>
<p>Assuming you know how to use (semantic) HTML and CSS, then it should generally be straightforward to style the HTML produced by this plugin. With CSS, you can get creative and style the results as you please.</p>
<p>Some semistandard features, notably GFMs tasklists and footnotes, generate HTML that be unintuitive, as it matches exactly what GitHub produces for their website. There is a project, <a href="https://github.com/sindresorhus/github-markdown-css"><code>sindresorhus/github-markdown-css</code></a>, that exposes the stylesheet that GitHub uses for rendered markdown, which might either be inspirational for more complex features, or can be used as-is to exactly match how GitHub styles rendered markdown.</p>
<p>The following CSS is needed to make footnotes look a bit like GitHub:</p>
<div class="fragment"><div class="line">/* Style the footnotes section. */</div>
<div class="line">.footnotes {</div>
<div class="line">  font-size: smaller;</div>
<div class="line">  color: #8b949e;</div>
<div class="line">  border-top: 1px solid #30363d;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* Hide the section label for visual users. */</div>
<div class="line">.sr-only {</div>
<div class="line">  position: absolute;</div>
<div class="line">  width: 1px;</div>
<div class="line">  height: 1px;</div>
<div class="line">  padding: 0;</div>
<div class="line">  overflow: hidden;</div>
<div class="line">  clip: rect(0, 0, 0, 0);</div>
<div class="line">  word-wrap: normal;</div>
<div class="line">  border: 0;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">/* Place `[` and `]` around footnote calls. */</div>
<div class="line">[data-footnote-ref]::before {</div>
<div class="line">  content: &#39;[&#39;;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">[data-footnote-ref]::after {</div>
<div class="line">  content: &#39;]&#39;;</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md29248"></a>
Syntax tree</h1>
<p>This projects turns <a href="https://github.com/syntax-tree/mdast">mdast</a> (markdown) into <a href="https://github.com/syntax-tree/hast">hast</a> (HTML).</p>
<p>It extends mdast by supporting <code>data</code> fields on mdast nodes to specify how they should be transformed. See <a href="https://github.com/syntax-tree/mdast-util-to-hast#fields-on-nodes"><em>Fields on nodes</em> in <code>mdast-util-to-hast</code></a> for info on how these fields work.</p>
<p>It extends hast by using a semistandard raw nodes for raw HTML. See the *HTML* note above for more info.</p>
<h1><a class="anchor" id="autotoc_md29249"></a>
Types</h1>
<p>This package is fully typed with <a href="https://www.typescriptlang.org">TypeScript</a>. It exports the types <a class="el" href="/Users/vivi/astro/node_modules/flexsearch/README.md#options">`Options`</a>.</p>
<p>The types of <code>mdast-util-to-hast</code> can be referenced to register data fields with <code>@types/mdast</code> and <code>Raw</code> nodes with <code>@types/hast</code>.</p>
<div class="fragment"><div class="line">/**</div>
<div class="line"> * @import {Root as HastRoot} from &#39;hast&#39;</div>
<div class="line"> * @import {Root as MdastRoot} from &#39;mdast&#39;</div>
<div class="line"> * @import {} from &#39;mdast-util-to-hast&#39;</div>
<div class="line"> */</div>
<div class="line"> </div>
<div class="line">import {visit} from &#39;unist-util-visit&#39;</div>
<div class="line"> </div>
<div class="line">const mdastNode = /** @type {MdastRoot} */ ({/* … */})</div>
<div class="line">console.log(mdastNode.data?.hName) // Typed as `string | undefined`.</div>
<div class="line"> </div>
<div class="line">const hastNode = /** @type {HastRoot} */ ({/* … */})</div>
<div class="line"> </div>
<div class="line">visit(hastNode, function (node) {</div>
<div class="line">  // `node` can now be `raw`.</div>
<div class="line">})</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md29250"></a>
Compatibility</h1>
<p>Projects maintained by the unified collective are compatible with maintained versions of Node.js.</p>
<p>When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, <code>remark-rehype@^11</code>, compatible with Node.js 16.</p>
<p>This plugin works with <code>unified</code> version 6+, <code>remark-parse</code> version 3+ (used in <code>remark</code> version 7), and <code>rehype-stringify</code> version 3+ (used in <code>rehype</code> version 5).</p>
<h1><a class="anchor" id="autotoc_md29251"></a>
Security</h1>
<p>Use of <code>remark-rehype</code> can open you up to a <a href="https://en.wikipedia.org/wiki/Cross-site_scripting">cross-site scripting (XSS)</a> attack. Embedded <b><a href="https://github.com/syntax-tree/hast">hast</a></b> properties (<code>hName</code>, <code>hProperties</code>, <code>hChildren</code>) in <a href="https://github.com/syntax-tree/mdast">mdast</a>, custom handlers, and the <code>allowDangerousHtml</code> option all provide openings. Use <a href="https://github.com/rehypejs/rehype-sanitize"><code>rehype-sanitize</code></a> to make the tree safe.</p>
<h1><a class="anchor" id="autotoc_md29252"></a>
Related</h1>
<ul>
<li><a href="https://github.com/rehypejs/rehype-raw"><code>rehype-raw</code></a> — rehype plugin to parse the tree again and support <code>raw</code> nodes</li>
<li><a href="https://github.com/rehypejs/rehype-sanitize"><code>rehype-sanitize</code></a> — rehype plugin to sanitize HTML</li>
<li><a href="https://github.com/rehypejs/rehype-remark"><code>rehype-remark</code></a> — rehype plugin to turn HTML into markdown</li>
<li><a href="https://github.com/rehypejs/rehype-retext"><code>rehype-retext</code></a> — rehype plugin to support retext</li>
<li><a href="https://github.com/remarkjs/remark-retext"><code>remark-retext</code></a> — remark plugin to support retext</li>
</ul>
<h1><a class="anchor" id="autotoc_md29253"></a>
Contribute</h1>
<p>See <a href="https://github.com/remarkjs/.github/blob/main/contributing.md"><code>contributing.md</code></a> in <a href="https://github.com/remarkjs/.github"><code>remarkjs/.github</code></a> for ways to get started. See <a href="https://github.com/remarkjs/.github/blob/main/support.md"><code>support.md</code></a> for ways to get help.</p>
<p>This project has a <a href="https://github.com/remarkjs/.github/blob/main/code-of-conduct.md">code of conduct</a>. By interacting with this repository, organization, or community you agree to abide by its terms.</p>
<h1><a class="anchor" id="autotoc_md29254"></a>
License</h1>
<p>[MIT][license] © <a href="https://wooorm.com">Titus Wormer</a> </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_7f2b626f1e9937fc3badcbe8b77c55e1.html">remark-rehype</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
