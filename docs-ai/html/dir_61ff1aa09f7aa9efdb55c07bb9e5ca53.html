<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/lint-staged/node_modules/execa Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_61ff1aa09f7aa9efdb55c07bb9e5ca53.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">execa Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>&lt;picture&gt; &lt;source media="(prefers-color-scheme: dark)" srcset="media/logo_dark.svg"&gt; <img src="media/logo.svg" alt="execa logo" width="400" style="pointer-events: none;" class="inline"/> &lt;/picture&gt; <br  />
</p>
<p><a href="https://codecov.io/gh/sindresorhus/execa"><img src="https://codecov.io/gh/sindresorhus/execa/branch/main/graph/badge.svg" alt="Coverage Status" style="pointer-events: none;" class="inline"/></a></p>
<blockquote class="doxtable">
<p>Process execution for humans </p>
</blockquote>
<p><br  />
</p>
<hr  />
<div align="center"> </div><div align="center"> </div><div align="center"> <sup> <a href="https://github.com/sponsors/sindresorhus">Sindre's open source work is supported by the community</a> </sup> </div><div align="center"> <sup>Special thanks to:</sup> <br  />
 <br  />
 <a href="https://transloadit.com?utm_source=sindresorhus&amp;utm_medium=referral&amp;utm_campaign=sponsorship&amp;utm_content=execa"><img src="https://sindresorhus.com/assets/thanks/transloadit-logo.svg" alt="Transloadit logo" width="360" style="pointer-events: none;" class="inline"/>  </a> <br  />
 <br  />
 </div><div align="center"> </div><hr  />
<p><br  />
</p>
<h2><a class="anchor" id="autotoc_md21659"></a>
Why</h2>
<p>This package improves <a href="https://nodejs.org/api/child_process.html"><code>child_process</code></a> methods with:</p>
<ul>
<li>Promise interface.</li>
<li>Scripts interface, like <code>zx</code>.</li>
<li>Improved <a href="https://github.com/IndigoUnited/node-cross-spawn#why">Windows support</a>, including <a href="https://en.wikipedia.org/wiki/Shebang_(Unix)">shebang</a> binaries.</li>
<li>Executes locally installed binaries without <code>npx</code>.</li>
<li>Cleans up child processes when the parent process ends.</li>
<li>Graceful termination.</li>
<li>Get interleaved output from <code>stdout</code> and <code>stderr</code> similar to what is printed on the terminal.</li>
<li>Strips the final newline from the output so you don't have to do <code>stdout.trim()</code>.</li>
<li>Convenience methods to pipe processes' input and output.</li>
<li>Can specify file and arguments as a single string without a shell.</li>
<li>Verbose mode for debugging.</li>
<li>More descriptive errors.</li>
<li>Higher max buffer: 100 MB instead of 1 MB.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21660"></a>
Install</h2>
<div class="fragment"><div class="line">npm install execa</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21661"></a>
Usage</h2>
<h3><a class="anchor" id="autotoc_md21662"></a>
Promise interface</h3>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const {stdout} = await execa(&#39;echo&#39;, [&#39;unicorns&#39;]);</div>
<div class="line">console.log(stdout);</div>
<div class="line">//=&gt; &#39;unicorns&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21663"></a>
Scripts interface</h3>
<p>For more information about Execa scripts, please see this page.</p>
<h4><a class="anchor" id="autotoc_md21664"></a>
Basic</h4>
<div class="fragment"><div class="line">import {$} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const branch = await $`git branch --show-current`;</div>
<div class="line">await $`dep deploy --branch=${branch}`;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21665"></a>
Multiple arguments</h4>
<div class="fragment"><div class="line">import {$} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const args = [&#39;unicorns&#39;, &#39;&amp;&#39;, &#39;rainbows!&#39;];</div>
<div class="line">const {stdout} = await $`echo ${args}`;</div>
<div class="line">console.log(stdout);</div>
<div class="line">//=&gt; &#39;unicorns &amp; rainbows!&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21666"></a>
With options</h4>
<div class="fragment"><div class="line">import {$} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">await $({stdio: &#39;inherit&#39;})`echo unicorns`;</div>
<div class="line">//=&gt; &#39;unicorns&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21667"></a>
Shared options</h4>
<div class="fragment"><div class="line">import {$} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const $$ = $({stdio: &#39;inherit&#39;});</div>
<div class="line"> </div>
<div class="line">await $$`echo unicorns`;</div>
<div class="line">//=&gt; &#39;unicorns&#39;</div>
<div class="line"> </div>
<div class="line">await $$`echo rainbows`;</div>
<div class="line">//=&gt; &#39;rainbows&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21668"></a>
Verbose mode</h4>
<div class="fragment"><div class="line">&gt; node file.js</div>
<div class="line">unicorns</div>
<div class="line">rainbows</div>
<div class="line"> </div>
<div class="line">&gt; NODE_DEBUG=execa node file.js</div>
<div class="line">[16:50:03.305] echo unicorns</div>
<div class="line">unicorns</div>
<div class="line">[16:50:03.308] echo rainbows</div>
<div class="line">rainbows</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21669"></a>
Input/output</h3>
<h4><a class="anchor" id="autotoc_md21670"></a>
Redirect output to a file</h4>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">// Similar to `echo unicorns &gt; stdout.txt` in Bash</div>
<div class="line">await execa(&#39;echo&#39;, [&#39;unicorns&#39;]).pipeStdout(&#39;stdout.txt&#39;);</div>
<div class="line"> </div>
<div class="line">// Similar to `echo unicorns 2&gt; stdout.txt` in Bash</div>
<div class="line">await execa(&#39;echo&#39;, [&#39;unicorns&#39;]).pipeStderr(&#39;stderr.txt&#39;);</div>
<div class="line"> </div>
<div class="line">// Similar to `echo unicorns &amp;&gt; stdout.txt` in Bash</div>
<div class="line">await execa(&#39;echo&#39;, [&#39;unicorns&#39;], {all: true}).pipeAll(&#39;all.txt&#39;);</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21671"></a>
Redirect input from a file</h4>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">// Similar to `cat &lt; stdin.txt` in Bash</div>
<div class="line">const {stdout} = await execa(&#39;cat&#39;, {inputFile: &#39;stdin.txt&#39;});</div>
<div class="line">console.log(stdout);</div>
<div class="line">//=&gt; &#39;unicorns&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21672"></a>
Save and pipe output from a child process</h4>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const {stdout} = await execa(&#39;echo&#39;, [&#39;unicorns&#39;]).pipeStdout(process.stdout);</div>
<div class="line">// Prints `unicorns`</div>
<div class="line">console.log(stdout);</div>
<div class="line">// Also returns &#39;unicorns&#39;</div>
</div><!-- fragment --><h4><a class="anchor" id="autotoc_md21673"></a>
Pipe multiple processes</h4>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">// Similar to `echo unicorns | cat` in Bash</div>
<div class="line">const {stdout} = await execa(&#39;echo&#39;, [&#39;unicorns&#39;]).pipeStdout(execa(&#39;cat&#39;));</div>
<div class="line">console.log(stdout);</div>
<div class="line">//=&gt; &#39;unicorns&#39;</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21674"></a>
Handling Errors</h3>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">// Catching an error</div>
<div class="line">try {</div>
<div class="line">    await execa(&#39;unknown&#39;, [&#39;command&#39;]);</div>
<div class="line">} catch (error) {</div>
<div class="line">    console.log(error);</div>
<div class="line">    /*</div>
<div class="line">    {</div>
<div class="line">        message: &#39;Command failed with ENOENT: unknown command spawn unknown ENOENT&#39;,</div>
<div class="line">        errno: -2,</div>
<div class="line">        code: &#39;ENOENT&#39;,</div>
<div class="line">        syscall: &#39;spawn unknown&#39;,</div>
<div class="line">        path: &#39;unknown&#39;,</div>
<div class="line">        spawnargs: [&#39;command&#39;],</div>
<div class="line">        originalMessage: &#39;spawn unknown ENOENT&#39;,</div>
<div class="line">        shortMessage: &#39;Command failed with ENOENT: unknown command spawn unknown ENOENT&#39;,</div>
<div class="line">        command: &#39;unknown command&#39;,</div>
<div class="line">        escapedCommand: &#39;unknown command&#39;,</div>
<div class="line">        stdout: &#39;&#39;,</div>
<div class="line">        stderr: &#39;&#39;,</div>
<div class="line">        failed: true,</div>
<div class="line">        timedOut: false,</div>
<div class="line">        isCanceled: false,</div>
<div class="line">        killed: false</div>
<div class="line">    }</div>
<div class="line">    */</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21675"></a>
Graceful termination</h3>
<p>Using SIGTERM, and after 2 seconds, kill it with SIGKILL.</p>
<div class="fragment"><div class="line">const subprocess = execa(&#39;node&#39;);</div>
<div class="line"> </div>
<div class="line">setTimeout(() =&gt; {</div>
<div class="line">    subprocess.kill(&#39;SIGTERM&#39;, {</div>
<div class="line">        forceKillAfterTimeout: 2000</div>
<div class="line">    });</div>
<div class="line">}, 1000);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md21676"></a>
API</h2>
<h3><a class="anchor" id="autotoc_md21677"></a>
Methods</h3>
<h4><a class="anchor" id="autotoc_md21678"></a>
execa(file, arguments?, options?)</h4>
<p>Executes a command using <code>file ...arguments</code>. <code>arguments</code> are specified as an array of strings. Returns a `childProcess`.</p>
<p>Arguments are automatically escaped. They can contain any character, including spaces.</p>
<p>This is the preferred method when executing single commands.</p>
<h4><a class="anchor" id="autotoc_md21679"></a>
execaNode(scriptPath, arguments?, options?)</h4>
<p>Executes a Node.js file using <code>node scriptPath ...arguments</code>. <code>arguments</code> are specified as an array of strings. Returns a `childProcess`.</p>
<p>Arguments are automatically escaped. They can contain any character, including spaces.</p>
<p>This is the preferred method when executing Node.js files.</p>
<p>Like <a href="https://nodejs.org/api/child_process.html#child_process_child_process_fork_modulepath_args_options"><code>child_process#fork()</code></a>:</p><ul>
<li>the current Node version and options are used. This can be overridden using the `nodePath` and `nodeOptions` options.</li>
<li>the `shell` option cannot be used</li>
<li>an extra channel <a href="https://nodejs.org/api/child_process.html#child_process_options_stdio"><code>ipc</code></a> is passed to `stdio`</li>
</ul>
<h4><a class="anchor" id="autotoc_md21680"></a>
$`command`</h4>
<p>Executes a command. The <code>command</code> string includes both the <code>file</code> and its <code>arguments</code>. Returns a `childProcess`.</p>
<p>Arguments are automatically escaped. They can contain any character, but spaces must use <code>${}</code> like <code>$`echo ${'has space'}`</code>.</p>
<p>This is the preferred method when executing multiple commands in a script file.</p>
<p>The <code>command</code> string can inject any <code>${value}</code> with the following types: string, number, `childProcess` or an array of those types. For example: <code>$`echo one ${'two'} ${3} ${['four', 'five']}`</code>. For <code>${childProcess}</code>, the process's <code>stdout</code> is used.</p>
<p>For more information, please see this section and this page.</p>
<h4><a class="anchor" id="autotoc_md21681"></a>
</h4>
<p>Returns a new instance of `$` but with different default <code>options</code>. Consecutive calls are merged to previous ones.</p>
<p>This can be used to either:</p><ul>
<li>Set options for a specific command: <code>$(options)`command`</code></li>
<li>Share options for multiple commands: <code>const $$ = $(options); $$`command`; $$`otherCommand`;</code></li>
</ul>
<h4><a class="anchor" id="autotoc_md21682"></a>
execaCommand(command, options?)</h4>
<p>Executes a command. The <code>command</code> string includes both the <code>file</code> and its <code>arguments</code>. Returns a `childProcess`.</p>
<p>Arguments are automatically escaped. They can contain any character, but spaces must be escaped with a backslash like &lsquo;execaCommand('echo has\ space&rsquo;)`.</p>
<p>This is the preferred method when executing a user-supplied <code>command</code> string, such as in a REPL.</p>
<h3><a class="anchor" id="autotoc_md21683"></a>
execaSync(file, arguments?, options?)</h3>
<p>Same as `execa()` but synchronous.</p>
<p>Returns or throws a `childProcessResult`.</p>
<h3><a class="anchor" id="autotoc_md21684"></a>
$.sync`command`</h3>
<p>Same as $\`command\` but synchronous.</p>
<p>Returns or throws a `childProcessResult`.</p>
<h3><a class="anchor" id="autotoc_md21685"></a>
execaCommandSync(command, options?)</h3>
<p>Same as `execaCommand()` but synchronous.</p>
<p>Returns or throws a `childProcessResult`.</p>
<h3><a class="anchor" id="autotoc_md21686"></a>
Shell syntax</h3>
<p>For all the <a class="el" href="/Users/vivi/astro/node_modules/inquirer/README.md#methods">methods above</a>, no shell interpreter (Bash, cmd.exe, etc.) is used unless the `shell` option is set. This means shell-specific characters and expressions (<code>$variable</code>, <code>&amp;&amp;</code>, <code>||</code>, <code>;</code>, <code>|</code>, etc.) have no special meaning and do not need to be escaped.</p>
<h3><a class="anchor" id="autotoc_md21687"></a>
childProcess</h3>
<p>The return value of all <a class="el" href="/Users/vivi/astro/node_modules/inquirer/README.md#methods">asynchronous methods</a> is both:</p><ul>
<li>a <code>Promise</code> resolving or rejecting with a `childProcessResult`.</li>
<li>a <a href="https://nodejs.org/api/child_process.html#child_process_class_childprocess"><code>child_process</code> instance</a> with the following additional methods and properties.</li>
</ul>
<h4><a class="anchor" id="autotoc_md21688"></a>
kill(signal?, options?)</h4>
<p>Same as the original <a href="https://nodejs.org/api/child_process.html#child_process_subprocess_kill_signal"><code>child_process#kill()</code></a> except: if <code>signal</code> is <code>SIGTERM</code> (the default value) and the child process is not terminated after 5 seconds, force it by sending <code>SIGKILL</code>.</p>
<p>Note that this graceful termination does not work on Windows, because Windows <a href="https://nodejs.org/api/process.html#process_signal_events">doesn't support signals</a> (<code>SIGKILL</code> and <code>SIGTERM</code> has the same effect of force-killing the process immediately.) If you want to achieve graceful termination on Windows, you have to use other means, such as <a href="https://github.com/sindresorhus/taskkill"><code>taskkill</code></a>.</p>
<h5><a class="anchor" id="autotoc_md21689"></a>
options.forceKillAfterTimeout</h5>
<p>Type: <code>number | false</code>\ Default: <code>5000</code></p>
<p>Milliseconds to wait for the child process to terminate before sending <code>SIGKILL</code>.</p>
<p>Can be disabled with <code>false</code>.</p>
<h4><a class="anchor" id="autotoc_md21690"></a>
all</h4>
<p>Type: <code>ReadableStream | undefined</code></p>
<p>Stream combining/interleaving <a href="https://nodejs.org/api/child_process.html#child_process_subprocess_stdout"><code>stdout</code></a> and <a href="https://nodejs.org/api/child_process.html#child_process_subprocess_stderr"><code>stderr</code></a>.</p>
<p>This is <code>undefined</code> if either:</p><ul>
<li>the `all` option is <code>false</code> (the default value)</li>
<li>both `stdout` and `stderr` options are set to <a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio">&lsquo;'inherit&rsquo;<code>,</code>'ipc'<code>,</code>Stream<code>or</code>integer`</a></li>
</ul>
<h4><a class="anchor" id="autotoc_md21691"></a>
pipeStdout(target)</h4>
<p><a href="https://nodejs.org/api/stream.html#readablepipedestination-options">Pipe</a> the child process's <code>stdout</code> to <code>target</code>, which can be:</p><ul>
<li>Another `execa()` return value</li>
<li>A writable stream</li>
<li>A file path string</li>
</ul>
<p>If the <code>target</code> is another `execa()` return value, it is returned. Otherwise, the original <code>execa()</code> return value is returned. This allows chaining <code>pipeStdout()</code> then <code>await</code>ing the final result.</p>
<p>The `stdout` option must be kept as <code>pipe</code>, its default value.</p>
<h4><a class="anchor" id="autotoc_md21692"></a>
pipeStderr(target)</h4>
<p>Like `pipeStdout()` but piping the child process's <code>stderr</code> instead.</p>
<p>The `stderr` option must be kept as <code>pipe</code>, its default value.</p>
<h4><a class="anchor" id="autotoc_md21693"></a>
pipeAll(target)</h4>
<p>Combines both `pipeStdout()` and `pipeStderr()`.</p>
<p>Either the `stdout` option or the `stderr` option must be kept as <code>pipe</code>, their default value. Also, the `all` option must be set to <code>true</code>.</p>
<h3><a class="anchor" id="autotoc_md21694"></a>
childProcessResult</h3>
<p>Type: <code>object</code></p>
<p>Result of a child process execution. On success this is a plain object. On failure this is also an <code>Error</code> instance.</p>
<p>The child process fails when:</p><ul>
<li>its exit code is not <code>0</code></li>
<li>it was killed with a signal</li>
<li>timing out</li>
<li>being canceled</li>
<li>there's not enough memory or there are already too many child processes</li>
</ul>
<h4><a class="anchor" id="autotoc_md21695"></a>
command</h4>
<p>Type: <code>string</code></p>
<p>The file and arguments that were run, for logging purposes.</p>
<p>This is not escaped and should not be executed directly as a process, including using `execa()` or `execaCommand()`.</p>
<h4><a class="anchor" id="autotoc_md21696"></a>
escapedCommand</h4>
<p>Type: <code>string</code></p>
<p>Same as `command` but escaped.</p>
<p>This is meant to be copy and pasted into a shell, for debugging purposes. Since the escaping is fairly basic, this should not be executed directly as a process, including using `execa()` or `execaCommand()`.</p>
<h4><a class="anchor" id="autotoc_md21697"></a>
exitCode</h4>
<p>Type: <code>number</code></p>
<p>The numeric exit code of the process that was run.</p>
<h4><a class="anchor" id="autotoc_md21698"></a>
stdout</h4>
<p>Type: <code>string | Buffer</code></p>
<p>The output of the process on stdout.</p>
<h4><a class="anchor" id="autotoc_md21699"></a>
stderr</h4>
<p>Type: <code>string | Buffer</code></p>
<p>The output of the process on stderr.</p>
<h4><a class="anchor" id="autotoc_md21700"></a>
all</h4>
<p>Type: <code>string | Buffer | undefined</code></p>
<p>The output of the process with <code>stdout</code> and <code>stderr</code> interleaved.</p>
<p>This is <code>undefined</code> if either:</p><ul>
<li>the `all` option is <code>false</code> (the default value)</li>
<li><code>execaSync()</code> was used</li>
</ul>
<h4><a class="anchor" id="autotoc_md21701"></a>
failed</h4>
<p>Type: <code>boolean</code></p>
<p>Whether the process failed to run.</p>
<h4><a class="anchor" id="autotoc_md21702"></a>
timedOut</h4>
<p>Type: <code>boolean</code></p>
<p>Whether the process timed out.</p>
<h4><a class="anchor" id="autotoc_md21703"></a>
isCanceled</h4>
<p>Type: <code>boolean</code></p>
<p>Whether the process was canceled.</p>
<p>You can cancel the spawned process using the `signal` option.</p>
<h4><a class="anchor" id="autotoc_md21704"></a>
killed</h4>
<p>Type: <code>boolean</code></p>
<p>Whether the process was killed.</p>
<h4><a class="anchor" id="autotoc_md21705"></a>
signal</h4>
<p>Type: <code>string | undefined</code></p>
<p>The name of the signal that was used to terminate the process. For example, <code>SIGFPE</code>.</p>
<p>If a signal terminated the process, this property is defined and included in the error message. Otherwise it is <code>undefined</code>.</p>
<h4><a class="anchor" id="autotoc_md21706"></a>
signalDescription</h4>
<p>Type: <code>string | undefined</code></p>
<p>A human-friendly description of the signal that was used to terminate the process. For example, <code>Floating point arithmetic error</code>.</p>
<p>If a signal terminated the process, this property is defined and included in the error message. Otherwise it is <code>undefined</code>. It is also <code>undefined</code> when the signal is very uncommon which should seldomly happen.</p>
<h4><a class="anchor" id="autotoc_md21707"></a>
cwd</h4>
<p>Type: <code>string</code></p>
<p>The <code>cwd</code> of the command if provided in the command options. Otherwise it is <code>process.cwd()</code>.</p>
<h4><a class="anchor" id="autotoc_md21708"></a>
message</h4>
<p>Type: <code>string</code></p>
<p>Error message when the child process failed to run. In addition to the underlying error message, it also contains some information related to why the child process errored.</p>
<p>The child process stderr then stdout are appended to the end, separated with newlines and not interleaved.</p>
<h4><a class="anchor" id="autotoc_md21709"></a>
shortMessage</h4>
<p>Type: <code>string</code></p>
<p>This is the same as the `message` property except it does not include the child process stdout/stderr.</p>
<h4><a class="anchor" id="autotoc_md21710"></a>
originalMessage</h4>
<p>Type: <code>string | undefined</code></p>
<p>Original error message. This is the same as the <code>message</code> property except it includes neither the child process stdout/stderr nor some additional information added by Execa.</p>
<p>This is <code>undefined</code> unless the child process exited due to an <code>error</code> event or a timeout.</p>
<h3><a class="anchor" id="autotoc_md21711"></a>
options</h3>
<p>Type: <code>object</code></p>
<h4><a class="anchor" id="autotoc_md21712"></a>
cleanup</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Kill the spawned process when the parent process exits unless either:</p><ul>
<li>the spawned process is <a href="https://nodejs.org/api/child_process.html#child_process_options_detached"><code>detached</code></a></li>
<li>the parent process is terminated abruptly, for example, with <code>SIGKILL</code> as opposed to <code>SIGTERM</code> or a normal exit</li>
</ul>
<h4><a class="anchor" id="autotoc_md21713"></a>
preferLocal</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code> with `$`, <code>false</code> otherwise</p>
<p>Prefer locally installed binaries when looking for a binary to execute.\ If you <code>$ npm install foo</code>, you can then &lsquo;execa('foo&rsquo;)`.</p>
<h4><a class="anchor" id="autotoc_md21714"></a>
localDir</h4>
<p>Type: <code>string | URL</code>\ Default: <code>process.cwd()</code></p>
<p>Preferred path to find locally installed binaries in (use with <code>preferLocal</code>).</p>
<h4><a class="anchor" id="autotoc_md21715"></a>
execPath</h4>
<p>Type: <code>string</code>\ Default: <code>process.execPath</code> (Current Node.js executable)</p>
<p>Path to the Node.js executable to use in child processes.</p>
<p>This can be either an absolute path or a path relative to the `cwd` option.</p>
<p>Requires `preferLocal` to be <code>true</code>.</p>
<p>For example, this can be used together with <a href="https://github.com/ehmicky/get-node"><code>get-node</code></a> to run a specific Node.js version in a child process.</p>
<h4><a class="anchor" id="autotoc_md21716"></a>
buffer</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Buffer the output from the spawned process. When set to <code>false</code>, you must read the output of `stdout` and `stderr` (or `all` if the `all` option is <code>true</code>). Otherwise the returned promise will not be resolved/rejected.</p>
<p>If the spawned process fails, `error.stdout`, `error.stderr`, and `error.all` will contain the buffered data.</p>
<h4><a class="anchor" id="autotoc_md21717"></a>
input</h4>
<p>Type: <code>string | Buffer | stream.Readable</code></p>
<p>Write some input to the <code>stdin</code> of your binary.\ Streams are not allowed when using the synchronous methods.</p>
<p>If the input is a file, use the `inputFile` option instead.</p>
<h4><a class="anchor" id="autotoc_md21718"></a>
inputFile</h4>
<p>Type: <code>string</code></p>
<p>Use a file as input to the the <code>stdin</code> of your binary.</p>
<p>If the input is not a file, use the `input` option instead.</p>
<h4><a class="anchor" id="autotoc_md21719"></a>
stdin</h4>
<p>Type: <code>string | number | Stream | undefined</code>\ Default: <code>inherit</code> with `$`, <code>pipe</code> otherwise</p>
<p>Same options as <a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio"><code>stdio</code></a>.</p>
<h4><a class="anchor" id="autotoc_md21720"></a>
stdout</h4>
<p>Type: <code>string | number | Stream | undefined</code>\ Default: <code>pipe</code></p>
<p>Same options as <a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio"><code>stdio</code></a>.</p>
<h4><a class="anchor" id="autotoc_md21721"></a>
stderr</h4>
<p>Type: <code>string | number | Stream | undefined</code>\ Default: <code>pipe</code></p>
<p>Same options as <a href="https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html#child_process_options_stdio"><code>stdio</code></a>.</p>
<h4><a class="anchor" id="autotoc_md21722"></a>
all</h4>
<p>Type: <code>boolean</code>\ Default: <code>false</code></p>
<p>Add an <code>.all</code> property on the promise and the resolved value. The property contains the output of the process with <code>stdout</code> and <code>stderr</code> interleaved.</p>
<h4><a class="anchor" id="autotoc_md21723"></a>
reject</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Setting this to <code>false</code> resolves the promise with the error instead of rejecting it.</p>
<h4><a class="anchor" id="autotoc_md21724"></a>
stripFinalNewline</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Strip the final <a href="https://en.wikipedia.org/wiki/Newline">newline character</a> from the output.</p>
<h4><a class="anchor" id="autotoc_md21725"></a>
extendEnv</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>Set to <code>false</code> if you don't want to extend the environment variables when providing the <code>env</code> property.</p>
<hr  />
<p>Execa also accepts the below options which are the same as the options for <a href="https://nodejs.org/api/child_process.html#child_process_child_process_spawn_command_args_options"><code>child_process#spawn()</code></a>/<a href="https://nodejs.org/api/child_process.html#child_process_child_process_exec_command_options_callback"><code>child_process#exec()</code></a></p>
<h4><a class="anchor" id="autotoc_md21727"></a>
cwd</h4>
<p>Type: <code>string | URL</code>\ Default: <code>process.cwd()</code></p>
<p>Current working directory of the child process.</p>
<h4><a class="anchor" id="autotoc_md21728"></a>
env</h4>
<p>Type: <code>object</code>\ Default: <code>process.env</code></p>
<p>Environment key-value pairs. Extends automatically from <code>process.env</code>. Set `extendEnv` to <code>false</code> if you don't want this.</p>
<h4><a class="anchor" id="autotoc_md21729"></a>
argv0</h4>
<p>Type: <code>string</code></p>
<p>Explicitly set the value of <code>argv[0]</code> sent to the child process. This will be set to <code>file</code> if not specified.</p>
<h4><a class="anchor" id="autotoc_md21730"></a>
stdio</h4>
<p>Type: <code>string | string[]</code>\ Default: <code>pipe</code></p>
<p>Child's <a href="https://nodejs.org/api/child_process.html#child_process_options_stdio">stdio</a> configuration.</p>
<h4><a class="anchor" id="autotoc_md21731"></a>
serialization</h4>
<p>Type: <code>string</code>\ Default: &lsquo;'json&rsquo;`</p>
<p>Specify the kind of serialization used for sending messages between processes when using the `stdio: 'ipc'` option or `execaNode()`:</p><ul>
<li><code>json</code>: Uses <code>JSON.stringify()</code> and <code>JSON.parse()</code>.</li>
<li><code>advanced</code>: Uses <a href="https://nodejs.org/api/v8.html#v8_v8_serialize_value"><code>v8.serialize()</code></a></li>
</ul>
<p><a href="https://nodejs.org/api/child_process.html#child_process_advanced_serialization">More info.</a></p>
<h4><a class="anchor" id="autotoc_md21732"></a>
detached</h4>
<p>Type: <code>boolean</code></p>
<p>Prepare child to run independently of its parent process. Specific behavior <a href="https://nodejs.org/api/child_process.html#child_process_options_detached">depends on the platform</a>.</p>
<h4><a class="anchor" id="autotoc_md21733"></a>
uid</h4>
<p>Type: <code>number</code></p>
<p>Sets the user identity of the process.</p>
<h4><a class="anchor" id="autotoc_md21734"></a>
gid</h4>
<p>Type: <code>number</code></p>
<p>Sets the group identity of the process.</p>
<h4><a class="anchor" id="autotoc_md21735"></a>
shell</h4>
<p>Type: <code>boolean | string</code>\ Default: <code>false</code></p>
<p>If <code>true</code>, runs <code>file</code> inside of a shell. Uses <code>/bin/sh</code> on UNIX and <code>cmd.exe</code> on Windows. A different shell can be specified as a string. The shell should understand the <code>-c</code> switch on UNIX or <code>/d /s /c</code> on Windows.</p>
<p>We recommend against using this option since it is:</p><ul>
<li>not cross-platform, encouraging shell-specific syntax.</li>
<li>slower, because of the additional shell interpretation.</li>
<li>unsafe, potentially allowing command injection.</li>
</ul>
<h4><a class="anchor" id="autotoc_md21736"></a>
encoding</h4>
<p>Type: <code>string | null</code>\ Default: <code>utf8</code></p>
<p>Specify the character encoding used to decode the <code>stdout</code> and <code>stderr</code> output. If set to &lsquo;'buffer&rsquo;<code>or</code>null<code>, then</code>stdout<code>and</code>stderr<code>will be a</code>Buffer` instead of a string.</p>
<h4><a class="anchor" id="autotoc_md21737"></a>
timeout</h4>
<p>Type: <code>number</code>\ Default: <code>0</code></p>
<p>If timeout is greater than <code>0</code>, the parent will send the signal identified by the <code>killSignal</code> property (the default is <code>SIGTERM</code>) if the child runs longer than timeout milliseconds.</p>
<h4><a class="anchor" id="autotoc_md21738"></a>
maxBuffer</h4>
<p>Type: <code>number</code>\ Default: <code>100_000_000</code> (100 MB)</p>
<p>Largest amount of data in bytes allowed on <code>stdout</code> or <code>stderr</code>.</p>
<h4><a class="anchor" id="autotoc_md21739"></a>
killSignal</h4>
<p>Type: <code>string | number</code>\ Default: <code>SIGTERM</code></p>
<p>Signal value to be used when the spawned process will be killed.</p>
<h4><a class="anchor" id="autotoc_md21740"></a>
signal</h4>
<p>Type: <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortSignal"><code>AbortSignal</code></a></p>
<p>You can abort the spawned process using <a href="https://developer.mozilla.org/en-US/docs/Web/API/AbortController"><code>AbortController</code></a>.</p>
<p>When <code>AbortController.abort()</code> is called, `.isCanceled` becomes <code>true</code>.</p>
<h4><a class="anchor" id="autotoc_md21741"></a>
windowsVerbatimArguments</h4>
<p>Type: <code>boolean</code>\ Default: <code>false</code></p>
<p>If <code>true</code>, no quoting or escaping of arguments is done on Windows. Ignored on other platforms. This is set to <code>true</code> automatically when the <code>shell</code> option is <code>true</code>.</p>
<h4><a class="anchor" id="autotoc_md21742"></a>
windowsHide</h4>
<p>Type: <code>boolean</code>\ Default: <code>true</code></p>
<p>On Windows, do not create a new console window. Please note this also prevents <code>CTRL-C</code> <a href="https://github.com/nodejs/node/issues/29837">from working</a> on Windows.</p>
<h4><a class="anchor" id="autotoc_md21743"></a>
verbose</h4>
<p>Type: <code>boolean</code>\ Default: <code>false</code></p>
<p>Print each command on <code>stderr</code> before executing it.</p>
<p>This can also be enabled by setting the <code>NODE_DEBUG=execa</code> environment variable in the current process.</p>
<h4><a class="anchor" id="autotoc_md21744"></a>
nodePath <em>(For <code>.node()</code> only)</em></h4>
<p>Type: <code>string</code>\ Default: <a href="https://nodejs.org/api/process.html#process_process_execpath"><code>process.execPath</code></a></p>
<p>Node.js executable used to create the child process.</p>
<h4><a class="anchor" id="autotoc_md21745"></a>
nodeOptions <em>(For <code>.node()</code> only)</em></h4>
<p>Type: <code>string[]</code>\ Default: <a href="https://nodejs.org/api/process.html#process_process_execargv"><code>process.execArgv</code></a></p>
<p>List of <a href="https://nodejs.org/api/cli.html#cli_options">CLI options</a> passed to the Node.js executable.</p>
<h2><a class="anchor" id="autotoc_md21746"></a>
Tips</h2>
<h3><a class="anchor" id="autotoc_md21747"></a>
Retry on error</h3>
<p>Gracefully handle failures by using automatic retries and exponential backoff with the <a href="https://github.com/sindresorhus/p-retry"><code>p-retry</code></a> package:</p>
<div class="fragment"><div class="line">import pRetry from &#39;p-retry&#39;;</div>
<div class="line"> </div>
<div class="line">const run = async () =&gt; {</div>
<div class="line">    const results = await execa(&#39;curl&#39;, [&#39;-sSL&#39;, &#39;https://sindresorhus.com/unicorn&#39;]);</div>
<div class="line">    return results;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line">console.log(await pRetry(run, {retries: 5}));</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21748"></a>
Cancelling a spawned process</h3>
<div class="fragment"><div class="line">import {execa} from &#39;execa&#39;;</div>
<div class="line"> </div>
<div class="line">const abortController = new AbortController();</div>
<div class="line">const subprocess = execa(&#39;node&#39;, [], {signal: abortController.signal});</div>
<div class="line"> </div>
<div class="line">setTimeout(() =&gt; {</div>
<div class="line">    abortController.abort();</div>
<div class="line">}, 1000);</div>
<div class="line"> </div>
<div class="line">try {</div>
<div class="line">    await subprocess;</div>
<div class="line">} catch (error) {</div>
<div class="line">    console.log(subprocess.killed); // true</div>
<div class="line">    console.log(error.isCanceled); // true</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="autotoc_md21749"></a>
Execute the current package's binary</h3>
<div class="fragment"><div class="line">import {getBinPath} from &#39;get-bin-path&#39;;</div>
<div class="line"> </div>
<div class="line">const binPath = await getBinPath();</div>
<div class="line">await execa(binPath);</div>
</div><!-- fragment --><p><code>execa</code> can be combined with <a href="https://github.com/ehmicky/get-bin-path"><code>get-bin-path</code></a> to test the current package's binary. As opposed to hard-coding the path to the binary, this validates that the <code>package.json</code> <code>bin</code> field is correctly set up.</p>
<h2><a class="anchor" id="autotoc_md21750"></a>
Related</h2>
<ul>
<li><a href="https://github.com/ehmicky/gulp-execa">gulp-execa</a> - Gulp plugin for <code>execa</code></li>
<li><a href="https://github.com/ehmicky/nvexeca">nvexeca</a> - Run <code>execa</code> using any Node.js version</li>
<li><a href="https://github.com/jorangreef/sudo-prompt">sudo-prompt</a> - Run commands with elevated privileges.</li>
</ul>
<h2><a class="anchor" id="autotoc_md21751"></a>
Maintainers</h2>
<ul>
<li><a href="https://github.com/sindresorhus">Sindre Sorhus</a></li>
<li><a href="https://github.com/ehmicky">@ehmicky</a></li>
</ul>
<hr  />
<div align="center"> <b> <a href="https://tidelift.com/subscription/pkg/npm-execa?utm_source=npm-execa&amp;utm_medium=referral&amp;utm_campaign=readme">Get professional support for this package with a Tidelift subscription</a> </b> <br  />
 <sub> Tidelift helps make open source sustainable for maintainers while giving companies<br  />
assurances about security, maintenance, and licensing for their dependencies. </sub> </div> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_cf014ded3f9bb028809e1122c54a5e0e.html">lint-staged</a></li><li class="navelem"><a class="el" href="dir_0b3ba90a23adfb726c9c5c3f0f858296.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_61ff1aa09f7aa9efdb55c07bb9e5ca53.html">execa</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
