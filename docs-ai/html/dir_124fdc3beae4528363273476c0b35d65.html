<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/node-fetch-native Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_124fdc3beae4528363273476c0b35d65.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">node-fetch-native Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><a href="https://npmjs.com/package/node-fetch-native"><img src="https://flat.badgen.net/npm/v/node-fetch-native" alt="" class="inline"/></a> <a href="https://github.com/unjs/node-fetch-native/actions?query=workflow%3Aci"><img src="https://flat.badgen.net/github/checks/unjs/node-fetch-native" alt="" class="inline"/></a> <a href="https://packagephobia.com/result?p=node-fetch-native"><img src="https://flat.badgen.net/packagephobia/install/node-fetch-native" alt="" class="inline"/></a> <a href="https://npmjs.com/package/node-fetch-native"><img src="https://flat.badgen.net/npm/dm/node-fetch-native" alt="npm downloads" class="inline"/></a></p>
<p>A redistribution of <a href="https://github.com/node-fetch/node-fetch">node-fetch v3</a> (+ more!) for better backward and forward compatibility.</p>
<p><b>Why this package?</b></p>
<ul>
<li>We can no longer &lsquo;require('node-fetch&rsquo;)<code>with the latest version. This stopped popular libraries from upgrading and dependency conflicts between</code>node-fetch@2<code>and</code>node-fetch@3<code>.</code></li>
<li><code>With upcoming versions of Node.js, native</code>fetch` is being supported. We are prepared for native fetch support using this package yet keep supporting older Node versions.</li>
<li>With the introduction of native fetch to Node.js via <a href="https://github.com/nodejs/undici">undici</a> there is no easy way to support http proxies!</li>
</ul>
<p><b>Features:</b></p>
<p>✅ Prefer to <b>native globals</b> when available (See Node.js <a href="https://nodejs.org/dist/latest-v17.x/docs/api/cli.html#--experimental-fetch">experimental fetch</a>).</p>
<p>✅ Compact build and less install size with <b>zero dependencies</b> <a href="https://packagephobia.com/result?p=node-fetch-native"><img src="https://flat.badgen.net/packagephobia/install/node-fetch-native?label=node-fetch-native&amp;scale=.9" alt="" class="inline"/></a> <sup>vs</sup> <a href="https://packagephobia.com/result?p=node-fetch"><img src="https://flat.badgen.net/packagephobia/install/node-fetch?label=node-fetch&amp;scale=.9" alt="" class="inline"/></a></p>
<p>✅ Support both <b>CommonJS</b> (<code>require</code>) and <b>ESM</b> (<code>import</code>) usage</p>
<p>✅ Use native version if imported without <code>node</code> condition using <a href="https://nodejs.org/api/packages.html#packages_conditional_exports">conditional exports</a> with <b>zero bundle overhead</b></p>
<p>✅ Polyfill support for Node.js</p>
<p>✅ Compact and simple proxy supporting both Node.js versions without native fetch using <a href="https://github.com/TooTallNate/proxy-agents/tree/main/packages/proxy-agent">HTTP Agent</a> and versions with native fetch using <a href="https://undici.nodejs.org/#/docs/api/ProxyAgent">Undici Proxy Agent</a></p>
<h1><a class="anchor" id="autotoc_md24574"></a>
Usage</h1>
<p>Install <code>node-fetch-native</code> dependency:</p>
<div class="fragment"><div class="line"># npm</div>
<div class="line">npm i node-fetch-native</div>
<div class="line"> </div>
<div class="line"># yarn</div>
<div class="line">yarn add node-fetch-native</div>
<div class="line"> </div>
<div class="line"># pnpm</div>
<div class="line">pnpm i node-fetch-native</div>
</div><!-- fragment --><p>You can now either import or require the dependency:</p>
<div class="fragment"><div class="line">// ESM</div>
<div class="line">import fetch from &quot;node-fetch-native&quot;;</div>
<div class="line"> </div>
<div class="line">// CommonJS</div>
<div class="line">const fetch = require(&quot;node-fetch-native&quot;);</div>
</div><!-- fragment --><p>More named exports:</p>
<div class="fragment"><div class="line">// ESM</div>
<div class="line">import {</div>
<div class="line">  fetch,</div>
<div class="line">  Blob,</div>
<div class="line">  FormData,</div>
<div class="line">  Headers,</div>
<div class="line">  Request,</div>
<div class="line">  Response,</div>
<div class="line">  AbortController,</div>
<div class="line">} from &quot;node-fetch-native&quot;;</div>
<div class="line"> </div>
<div class="line">// CommonJS</div>
<div class="line">const {</div>
<div class="line">  fetch,</div>
<div class="line">  Blob,</div>
<div class="line">  FormData,</div>
<div class="line">  Headers,</div>
<div class="line">  Request,</div>
<div class="line">  Response,</div>
<div class="line">  AbortController,</div>
<div class="line">} = require(&quot;node-fetch-native&quot;);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24575"></a>
Force using non-native version</h1>
<p>Sometimes you want to explicitly use none native (<code>node-fetch</code>) implementation of <code>fetch</code> in case of issues with the native/polyfill version of <code>globalThis.fetch</code> with Node.js or runtime environment.</p>
<p>You have two ways to do this:</p>
<ul>
<li>Set the <code>FORCE_NODE_FETCH</code> environment variable before starting the application.</li>
<li>Import from <code>node-fetch-native/node</code></li>
</ul>
<h1><a class="anchor" id="autotoc_md24576"></a>
Disable runtime check</h1>
<p>Once the <code>node-fetch-native/node</code> module is loaded, it pushes a log warning if the current runtime differs from the Node.js. Set the <code>DISABLE_NODE_FETCH_NATIVE_WARN</code> environment variable to turn this check off.</p>
<h1><a class="anchor" id="autotoc_md24577"></a>
Polyfill support</h1>
<p>Using the polyfill method, we can ensure global fetch is available in the environment and all files. Natives are always preferred.</p>
<p><b>Note:</b> I don't recommend this if you are authoring a library! Please prefer the explicit methods.</p>
<div class="fragment"><div class="line">// ESM</div>
<div class="line">import &quot;node-fetch-native/polyfill&quot;;</div>
<div class="line"> </div>
<div class="line">// CJS</div>
<div class="line">require(&quot;node-fetch-native/polyfill&quot;);</div>
<div class="line"> </div>
<div class="line">// You can now use fetch() without any import!</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24578"></a>
Proxy Support</h1>
<p>Node.js has no built-in support for HTTP Proxies for fetch (see <a href="https://github.com/nodejs/undici/issues/1650">nodejs/undici#1650</a> and <a href="https://github.com/nodejs/node/issues/8381">nodejs/node#8381</a>)</p>
<p>This package bundles a compact and simple proxy-supported solution for both Node.js versions without native fetch using <a href="https://github.com/TooTallNate/proxy-agents/tree/main/packages/proxy-agent">HTTP Agent</a> and versions with native fetch using <a href="https://undici.nodejs.org/#/docs/api/ProxyAgent">Undici Proxy Agent</a>.</p>
<p>By default, <code>https_proxy</code>, <code>http_proxy</code>, <code>HTTPS_PROXY</code>, and <code>HTTP_PROXY</code> environment variables will be checked and used (in order) for the proxy and if not any of them are set, the proxy will be disabled. You can override it using the <code>url</code> option passed to <code>createFetch</code> and <code>createProxy</code> utils.</p>
<p>By default, <code>no_proxy</code> and <code>NO_PROXY</code> environment variables will be checked and used for the (comma-separated) list of hosts to ignore the proxy for. You can override it using the <code>noProxy</code> option passed to <code>createFetch</code> and <code>createProxy</code> utils. The entries starting with a dot will be used to check the domain and also any subdomain.</p>
<dl class="section note"><dt>Note</dt><dd>Using export conditions, this utility adds proxy support for Node.js and for other runtimes, it will simply return native fetch.</dd></dl>
<h2><a class="anchor" id="autotoc_md24579"></a>
<code>fetch</code> with proxy support</h2>
<p>You can simply import <code>{ fetch }</code> from <code>node-fetch-native/proxy</code> with a preconfigured <code>fetch</code> function that has proxy support.</p>
<div class="fragment"><div class="line">import { fetch } from &quot;node-fetch-native/proxy&quot;;</div>
<div class="line"> </div>
<div class="line">console.log(await fetch(&quot;https://icanhazip.com&quot;).then((r) =&gt; r.text()));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24580"></a>
<code>createFetch</code> utility</h2>
<p>You can use the <code>createFetch</code> utility to instantiate a <code>fetch</code> instance with custom proxy options.</p>
<div class="fragment"><div class="line">import { createFetch } from &quot;node-fetch-native/proxy&quot;;</div>
<div class="line"> </div>
<div class="line">const fetch = createFetch({ url: &quot;http://localhost:9080&quot; });</div>
<div class="line"> </div>
<div class="line">console.log(await fetch(&quot;https://icanhazip.com&quot;).then((r) =&gt; r.text()));</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24581"></a>
<code>createProxy</code> utility</h2>
<p><code>createProxy</code> returns an object with <code>agent</code> and <code>dispatcher</code> keys that can be passed as fetch options.</p>
<div class="fragment"><div class="line">import { fetch } from &quot;node-fetch-native&quot;;</div>
<div class="line">import { createProxy } from &quot;node-fetch-native/proxy&quot;;</div>
<div class="line"> </div>
<div class="line">const proxy = createProxy();</div>
<div class="line">// const proxy = createProxy({ url: &quot;http://localhost:8080&quot; });</div>
<div class="line"> </div>
<div class="line">console.log(</div>
<div class="line">  await fetch(&quot;https://icanhazip.com&quot;, { ...proxy }).then((r) =&gt; r.text()),</div>
<div class="line">);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24582"></a>
Alias to <code>node-fetch</code></h1>
<p>Using this method, you can ensure all project dependencies and usages of <code>node-fetch</code> can benefit from improved <code>node-fetch-native</code> and won't conflict between <code>node-fetch@2</code> and <code>node-fetch@3</code>.</p>
<h2><a class="anchor" id="autotoc_md24583"></a>
npm</h2>
<p>Using npm <a href="https://docs.npmjs.com/cli/v8/configuring-npm/package-json#overrides">overrides</a>:</p>
<div class="fragment"><div class="line">// package.json</div>
<div class="line">{</div>
<div class="line">  &quot;overrides&quot;: {</div>
<div class="line">    &quot;node-fetch&quot;: &quot;npm:node-fetch-native@latest&quot;,</div>
<div class="line">  },</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24584"></a>
yarn</h2>
<p>Using yarn <a href="https://classic.yarnpkg.com/lang/en/docs/selective-version-resolutions/">selective dependency resolutions</a>:</p>
<div class="fragment"><div class="line">// package.json</div>
<div class="line">{</div>
<div class="line">  &quot;resolutions&quot;: {</div>
<div class="line">    &quot;node-fetch&quot;: &quot;npm:node-fetch-native@latest&quot;,</div>
<div class="line">  },</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24585"></a>
pnpm</h2>
<p>Using <a href="https://pnpm.io/package_json#pnpmoverrides">pnpm.overrides</a>:</p>
<div class="fragment"><div class="line">// package.json</div>
<div class="line">{</div>
<div class="line">  &quot;pnpm&quot;: {</div>
<div class="line">    &quot;overrides&quot;: {</div>
<div class="line">      &quot;node-fetch&quot;: &quot;npm:node-fetch-native@latest&quot;,</div>
<div class="line">    },</div>
<div class="line">  },</div>
<div class="line">}</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md24586"></a>
License</h1>
<p>Made with 💛 Published under the <a href="./LICENSE">MIT</a> license. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_124fdc3beae4528363273476c0b35d65.html">node-fetch-native</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
