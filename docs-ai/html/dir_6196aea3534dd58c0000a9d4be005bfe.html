<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/deterministic-object-hash Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_6196aea3534dd58c0000a9d4be005bfe.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">deterministic-object-hash Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>A deterministic object hashing algorithm for Node.js and web platform.</p>
<h1><a class="anchor" id="autotoc_md11864"></a>
The Problem</h1>
<p>Using <code>JSON.stringify</code> on two objects that are deeply equal does not lead to the same output string. Instead the keys are ordered in the same order that they were added. This leads to two objects that are deeply equal being hashed to different values.</p>
<div class="fragment"><div class="line">import { createHash } from &quot;crypto&quot;;</div>
<div class="line">import { isEqual } from &quot;lodash&quot;;</div>
<div class="line"> </div>
<div class="line">const obj1: Record&lt;string, string&gt; = {};</div>
<div class="line">obj1[&#39;a&#39;] = &#39;x&#39;;</div>
<div class="line">obj1[&#39;b&#39;] = &#39;y&#39;;</div>
<div class="line">obj1[&#39;c&#39;] = &#39;z&#39;;</div>
<div class="line"> </div>
<div class="line">const obj2: Record&lt;string, string&gt; = {};</div>
<div class="line">obj2[&#39;c&#39;] = &#39;z&#39;;</div>
<div class="line">obj2[&#39;b&#39;] = &#39;y&#39;;</div>
<div class="line">obj2[&#39;a&#39;] = &#39;x&#39;;</div>
<div class="line"> </div>
<div class="line">isEqual(obj1, obj2);</div>
<div class="line">// -&gt; true</div>
<div class="line"> </div>
<div class="line">const string1 = JSON.stringify(obj1);</div>
<div class="line">// -&gt; {&quot;a&quot;:&quot;x&quot;,&quot;b&quot;:&quot;y&quot;,&quot;c&quot;:&quot;z&quot;}</div>
<div class="line">const string2 = JSON.stringify(obj2);</div>
<div class="line">// -&gt; {&quot;c&quot;:&quot;z&quot;,&quot;b&quot;:&quot;y&quot;,&quot;a&quot;:&quot;x&quot;}</div>
<div class="line"> </div>
<div class="line">createHash(&#39;sha1&#39;).update(string1).digest(&#39;hex&#39;);</div>
<div class="line">// -&gt; ff75fe071d236ce309c15d5636ecaa86c0519ebc</div>
<div class="line">createHash(&#39;sha1&#39;).update(string2).digest(&#39;hex&#39;);</div>
<div class="line">// -&gt; 2e53bac865f7be77c8e10cd86d737fbbf259ed37</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11865"></a>
Usage</h1>
<p>Pass a value and receive a deterministic hash of the value.</p>
<div class="fragment"><div class="line">import deterministicHash from &#39;deterministic-object-hash&#39;;</div>
<div class="line"> </div>
<div class="line">const objA = { a: &#39;x&#39;, arr: [1,2,3,4], b: &#39;y&#39; };</div>
<div class="line">const objB = { b: &#39;y&#39;, a: &#39;x&#39;, arr: [1,2,3,4] };</div>
<div class="line"> </div>
<div class="line">await deterministicHash({</div>
<div class="line">    c: [ objA, objB ],</div>
<div class="line">    b: objA,</div>
<div class="line">    e: objB,</div>
<div class="line">    f: ()=&gt;{ Math.random(); },</div>
<div class="line">    g: Symbol(&#39;Unique identity&#39;),</div>
<div class="line">    h: new Error(&#39;AHHH&#39;)</div>
<div class="line">});</div>
<div class="line">// -&gt; 4c57bcb76498dca7b98ef9747c8f1e7f10c30388</div>
<div class="line"> </div>
<div class="line">await deterministicHash({</div>
<div class="line">    h: new Error(&#39;AHHH&#39;),</div>
<div class="line">    e: objB,</div>
<div class="line">    g: Symbol(&#39;Unique identity&#39;),</div>
<div class="line">    b: objA,</div>
<div class="line">    f: ()=&gt;{ Math.random(); },</div>
<div class="line">    c: [ objA, objB ]</div>
<div class="line">});</div>
<div class="line">// -&gt; 4c57bcb76498dca7b98ef9747c8f1e7f10c30388</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11866"></a>
Settings</h1>
<p>A hash algorithm can be passed as the second argument. This takes any value that is valid for <code>webcrypto.subtle.digest</code>. The default is <code>SHA-1</code>. \ A digest format can be passed as the third argument. This takes any value that is valid for <code>Hash.digest</code>. The default is <code>hex</code>.</p>
<div class="fragment"><div class="line">await deterministicHash(&#39;value&#39;, &#39;SHA-1&#39;);</div>
<div class="line">// -&gt; efede6000ad4e1ff258a38866c71aa351d3c01f6</div>
<div class="line">await deterministicHash(&#39;value&#39;, &#39;SHA-256&#39;, &#39;hex&#39;);</div>
<div class="line">// -&gt; a0b7821a11db531982044ca5ca2e788e2d749d6b696cd3aa4172342f584f2ee1</div>
<div class="line">await deterministicHash(&#39;value&#39;, &#39;SHA-512&#39;, &#39;base64&#39;);</div>
<div class="line">// -&gt; 514CuHw/31qqUH2waqaqhKSMvLYH/YdZeRI4QqDBwhKbUk0/3mxhv4NUubXIl5Dm2k0VpU6ZZkmunEb10RngfQ==</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md11867"></a>
Supported Values</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">String   </td><td class="markdownTableBodyNone">Number    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Boolean   </td><td class="markdownTableBodyNone">Function    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Plain Objects   </td><td class="markdownTableBodyNone">Symbol    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">undefined   </td><td class="markdownTableBodyNone">null    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Infinity   </td><td class="markdownTableBodyNone">NaN    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BigInt   </td><td class="markdownTableBodyNone">Array    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Classes/Inheritance   </td><td class="markdownTableBodyNone">Errors    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Date   </td><td class="markdownTableBodyNone">RegExp    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Map   </td><td class="markdownTableBodyNone">Set    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Int8Array   </td><td class="markdownTableBodyNone">Uint8Array    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Int16Array   </td><td class="markdownTableBodyNone">Uint16Array    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Int32Array   </td><td class="markdownTableBodyNone">Uint32Array    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Float32Array   </td><td class="markdownTableBodyNone">Float64Array    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">BigInt64Array   </td><td class="markdownTableBodyNone">BigUint64Array    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Uint8ClampedArray   </td><td class="markdownTableBodyNone">globalThis    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ArrayBuffer   </td><td class="markdownTableBodyNone">SharedArrayBuffer   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md11868"></a>
Unsupported Values</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone"></th><th class="markdownTableHeadNone"></th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">WeakMap   </td><td class="markdownTableBodyNone">WeakSet    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Atomics   </td><td class="markdownTableBodyNone">DataView    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">Promises   </td><td class="markdownTableBodyNone">Reflect    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">Proxy   </td><td class="markdownTableBodyNone"></td></tr>
</table>
<p>Due to their nature, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakSet#description">WeakSet</a> and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/WeakMap#why_weakmap">WeakMap</a> are not enumerable. As a result there is no way to know what is in a WeakSet/WeakMap unless we are told.</p>
<h1><a class="anchor" id="autotoc_md11869"></a>
Support</h1>
<p>Currently this has only been tested on Node.js <code>18.x.x</code>. More tests are to come and this section will be updated as I test them.</p>
<h1><a class="anchor" id="autotoc_md11870"></a>
Contributors</h1>
<p>Contributions are welcome. Feel free to create a PR and tag <a href="https://github.com/zbauman3">zbauman3</a>.</p>
<h2><a class="anchor" id="autotoc_md11871"></a>
Past contributors:</h2>
<ul>
<li><a href="https://github.com/zbauman3">zbauman3</a></li>
<li><a href="https://github.com/RodrigoTomeES">RodrigoTomeES</a> </li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_6196aea3534dd58c0000a9d4be005bfe.html">deterministic-object-hash</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
