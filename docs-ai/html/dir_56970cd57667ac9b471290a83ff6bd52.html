<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/glob Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_56970cd57667ac9b471290a83ff6bd52.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">glob Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="subdirs" name="subdirs"></a>
Directories</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top"><span class="iconfclosed"></span>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dir_dcc7dc2cd0de2ab462091cfa47f66030.html">node_modules</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Match files using the patterns the shell uses.</p>
<p>The most correct and second fastest glob implementation in JavaScript. (See <b>Comparison to Other JavaScript Glob Implementations</b> at the bottom of this readme.)</p>
<p><img src="https://github.com/isaacs/node-glob/raw/main/logo/glob.png" alt="a fun cartoon logo made of glob characters" class="inline"/></p>
<h1><a class="anchor" id="autotoc_md16203"></a>
Usage</h1>
<p>Install with npm</p>
<div class="fragment"><div class="line">npm i glob</div>
</div><!-- fragment --><p><b>Note</b> the npm package name is <em>not</em> <code>node-glob</code> that's a different thing that was abandoned years ago. Just <code>glob</code>.</p>
<div class="fragment"><div class="line">// load using import</div>
<div class="line">import { glob, globSync, globStream, globStreamSync, Glob } from &#39;glob&#39;</div>
<div class="line">// or using commonjs, that&#39;s fine, too</div>
<div class="line">const {</div>
<div class="line">  glob,</div>
<div class="line">  globSync,</div>
<div class="line">  globStream,</div>
<div class="line">  globStreamSync,</div>
<div class="line">  Glob,</div>
<div class="line">} = require(&#39;glob&#39;)</div>
<div class="line"> </div>
<div class="line">// the main glob() and globSync() resolve/return array of filenames</div>
<div class="line"> </div>
<div class="line">// all js files, but don&#39;t look in node_modules</div>
<div class="line">const jsfiles = await glob(&#39;**/*.js&#39;, { ignore: &#39;node_modules/**&#39; })</div>
<div class="line"> </div>
<div class="line">// pass in a signal to cancel the glob walk</div>
<div class="line">const stopAfter100ms = await glob(&#39;**/*.css&#39;, {</div>
<div class="line">  signal: AbortSignal.timeout(100),</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// multiple patterns supported as well</div>
<div class="line">const images = await glob([&#39;css/*.{png,jpeg}&#39;, &#39;public/*.{png,jpeg}&#39;])</div>
<div class="line"> </div>
<div class="line">// but of course you can do that with the glob pattern also</div>
<div class="line">// the sync function is the same, just returns a string[] instead</div>
<div class="line">// of Promise&lt;string[]&gt;</div>
<div class="line">const imagesAlt = globSync(&#39;{css,public}/*.{png,jpeg}&#39;)</div>
<div class="line"> </div>
<div class="line">// you can also stream them, this is a Minipass stream</div>
<div class="line">const filesStream = globStream([&#39;**/*.dat&#39;, &#39;logs/**/*.log&#39;])</div>
<div class="line"> </div>
<div class="line">// construct a Glob object if you wanna do it that way, which</div>
<div class="line">// allows for much faster walks if you have to look in the same</div>
<div class="line">// folder multiple times.</div>
<div class="line">const g = new Glob(&#39;**/foo&#39;, {})</div>
<div class="line">// glob objects are async iterators, can also do globIterate() or</div>
<div class="line">// g.iterate(), same deal</div>
<div class="line">for await (const file of g) {</div>
<div class="line">  console.log(&#39;found a foo file:&#39;, file)</div>
<div class="line">}</div>
<div class="line">// pass a glob as the glob options to reuse its settings and caches</div>
<div class="line">const g2 = new Glob(&#39;**/bar&#39;, g)</div>
<div class="line">// sync iteration works as well</div>
<div class="line">for (const file of g2) {</div>
<div class="line">  console.log(&#39;found a bar file:&#39;, file)</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// you can also pass withFileTypes: true to get Path objects</div>
<div class="line">// these are like a Dirent, but with some more added powers</div>
<div class="line">// check out http://npm.im/path-scurry for more info on their API</div>
<div class="line">const g3 = new Glob(&#39;**/baz/**&#39;, { withFileTypes: true })</div>
<div class="line">g3.stream().on(&#39;data&#39;, path =&gt; {</div>
<div class="line">  console.log(</div>
<div class="line">    &#39;got a path object&#39;,</div>
<div class="line">    path.fullpath(),</div>
<div class="line">    path.isDirectory(),</div>
<div class="line">    path.readdirSync().map(e =&gt; e.name),</div>
<div class="line">  )</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// if you use stat:true and withFileTypes, you can sort results</div>
<div class="line">// by things like modified time, filter by permission mode, etc.</div>
<div class="line">// All Stats fields will be available in that case. Slightly</div>
<div class="line">// slower, though.</div>
<div class="line">// For example:</div>
<div class="line">const results = await glob(&#39;**&#39;, { stat: true, withFileTypes: true })</div>
<div class="line"> </div>
<div class="line">const timeSortedFiles = results</div>
<div class="line">  .sort((a, b) =&gt; a.mtimeMs - b.mtimeMs)</div>
<div class="line">  .map(path =&gt; path.fullpath())</div>
<div class="line"> </div>
<div class="line">const groupReadableFiles = results</div>
<div class="line">  .filter(path =&gt; path.mode &amp; 0o040)</div>
<div class="line">  .map(path =&gt; path.fullpath())</div>
<div class="line"> </div>
<div class="line">// custom ignores can be done like this, for example by saying</div>
<div class="line">// you&#39;ll ignore all markdown files, and all folders named &#39;docs&#39;</div>
<div class="line">const customIgnoreResults = await glob(&#39;**&#39;, {</div>
<div class="line">  ignore: {</div>
<div class="line">    ignored: p =&gt; /\.md$/.test(p.name),</div>
<div class="line">    childrenIgnored: p =&gt; p.isNamed(&#39;docs&#39;),</div>
<div class="line">  },</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// another fun use case, only return files with the same name as</div>
<div class="line">// their parent folder, plus either `.ts` or `.js`</div>
<div class="line">const folderNamedModules = await glob(&#39;**/*.{ts,js}&#39;, {</div>
<div class="line">  ignore: {</div>
<div class="line">    ignored: p =&gt; {</div>
<div class="line">      const pp = p.parent</div>
<div class="line">      return !(p.isNamed(pp.name + &#39;.ts&#39;) || p.isNamed(pp.name + &#39;.js&#39;))</div>
<div class="line">    },</div>
<div class="line">  },</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">// find all files edited in the last hour, to do this, we ignore</div>
<div class="line">// all of them that are more than an hour old</div>
<div class="line">const newFiles = await glob(&#39;**&#39;, {</div>
<div class="line">  // need stat so we have mtime</div>
<div class="line">  stat: true,</div>
<div class="line">  // only want the files, not the dirs</div>
<div class="line">  nodir: true,</div>
<div class="line">  ignore: {</div>
<div class="line">    ignored: p =&gt; {</div>
<div class="line">      return new Date() - p.mtime &gt; 60 * 60 * 1000</div>
<div class="line">    },</div>
<div class="line">    // could add similar childrenIgnored here as well, but</div>
<div class="line">    // directory mtime is inconsistent across platforms, so</div>
<div class="line">    // probably better not to, unless you know the system</div>
<div class="line">    // tracks this reliably.</div>
<div class="line">  },</div>
<div class="line">})</div>
</div><!-- fragment --><p><b>Note</b> Glob patterns should always use <code>/</code> as a path separator, even on Windows systems, as <code>\</code> is used to escape glob characters. If you wish to use <code>\</code> as a path separator <em>instead of</em> using it as an escape character on Windows platforms, you may set <code>windowsPathsNoEscape:true</code> in the options. In this mode, special glob characters cannot be escaped, making it impossible to match a literal <code>*</code> <code>?</code> and so on in filenames.</p>
<h1><a class="anchor" id="autotoc_md16204"></a>
Command Line Interface</h1>
<div class="fragment"><div class="line">$ glob -h</div>
<div class="line"> </div>
<div class="line">Usage:</div>
<div class="line">  glob [options] [&lt;pattern&gt; [&lt;pattern&gt; ...]]</div>
<div class="line"> </div>
<div class="line">Expand the positional glob expression arguments into any matching file system</div>
<div class="line">paths found.</div>
<div class="line"> </div>
<div class="line">  -c&lt;command&gt; --cmd=&lt;command&gt;</div>
<div class="line">                         Run the command provided, passing the glob expression</div>
<div class="line">                         matches as arguments.</div>
<div class="line"> </div>
<div class="line">  -A --all               By default, the glob cli command will not expand any</div>
<div class="line">                         arguments that are an exact match to a file on disk.</div>
<div class="line"> </div>
<div class="line">                         This prevents double-expanding, in case the shell</div>
<div class="line">                         expands an argument whose filename is a glob</div>
<div class="line">                         expression.</div>
<div class="line"> </div>
<div class="line">                         For example, if &#39;app/*.ts&#39; would match &#39;app/[id].ts&#39;,</div>
<div class="line">                         then on Windows powershell or cmd.exe, &#39;glob app/*.ts&#39;</div>
<div class="line">                         will expand to &#39;app/[id].ts&#39;, as expected. However, in</div>
<div class="line">                         posix shells such as bash or zsh, the shell will first</div>
<div class="line">                         expand &#39;app/*.ts&#39; to a list of filenames. Then glob</div>
<div class="line">                         will look for a file matching &#39;app/[id].ts&#39; (ie,</div>
<div class="line">                         &#39;app/i.ts&#39; or &#39;app/d.ts&#39;), which is unexpected.</div>
<div class="line"> </div>
<div class="line">                         Setting &#39;--all&#39; prevents this behavior, causing glob to</div>
<div class="line">                         treat ALL patterns as glob expressions to be expanded,</div>
<div class="line">                         even if they are an exact match to a file on disk.</div>
<div class="line"> </div>
<div class="line">                         When setting this option, be sure to enquote arguments</div>
<div class="line">                         so that the shell will not expand them prior to passing</div>
<div class="line">                         them to the glob command process.</div>
<div class="line"> </div>
<div class="line">  -a --absolute          Expand to absolute paths</div>
<div class="line">  -d --dot-relative      Prepend &#39;./&#39; on relative matches</div>
<div class="line">  -m --mark              Append a / on any directories matched</div>
<div class="line">  -x --posix             Always resolve to posix style paths, using &#39;/&#39; as the</div>
<div class="line">                         directory separator, even on Windows. Drive letter</div>
<div class="line">                         absolute matches on Windows will be expanded to their</div>
<div class="line">                         full resolved UNC maths, eg instead of &#39;C:\foo\bar&#39;, it</div>
<div class="line">                         will expand to &#39;//?/C:/foo/bar&#39;.</div>
<div class="line"> </div>
<div class="line">  -f --follow            Follow symlinked directories when expanding &#39;**&#39;</div>
<div class="line">  -R --realpath          Call &#39;fs.realpath&#39; on all of the results. In the case</div>
<div class="line">                         of an entry that cannot be resolved, the entry is</div>
<div class="line">                         omitted. This incurs a slight performance penalty, of</div>
<div class="line">                         course, because of the added system calls.</div>
<div class="line"> </div>
<div class="line">  -s --stat              Call &#39;fs.lstat&#39; on all entries, whether required or not</div>
<div class="line">                         to determine if it&#39;s a valid match.</div>
<div class="line"> </div>
<div class="line">  -b --match-base        Perform a basename-only match if the pattern does not</div>
<div class="line">                         contain any slash characters. That is, &#39;*.js&#39; would be</div>
<div class="line">                         treated as equivalent to &#39;**/*.js&#39;, matching js files</div>
<div class="line">                         in all directories.</div>
<div class="line"> </div>
<div class="line">  --dot                  Allow patterns to match files/directories that start</div>
<div class="line">                         with &#39;.&#39;, even if the pattern does not start with &#39;.&#39;</div>
<div class="line"> </div>
<div class="line">  --nobrace              Do not expand {...} patterns</div>
<div class="line">  --nocase               Perform a case-insensitive match. This defaults to</div>
<div class="line">                         &#39;true&#39; on macOS and Windows platforms, and false on all</div>
<div class="line">                         others.</div>
<div class="line"> </div>
<div class="line">                         Note: &#39;nocase&#39; should only be explicitly set when it is</div>
<div class="line">                         known that the filesystem&#39;s case sensitivity differs</div>
<div class="line">                         from the platform default. If set &#39;true&#39; on</div>
<div class="line">                         case-insensitive file systems, then the walk may return</div>
<div class="line">                         more or less results than expected.</div>
<div class="line"> </div>
<div class="line">  --nodir                Do not match directories, only files.</div>
<div class="line"> </div>
<div class="line">                         Note: to *only* match directories, append a &#39;/&#39; at the</div>
<div class="line">                         end of the pattern.</div>
<div class="line"> </div>
<div class="line">  --noext                Do not expand extglob patterns, such as &#39;+(a|b)&#39;</div>
<div class="line">  --noglobstar           Do not expand &#39;**&#39; against multiple path portions. Ie,</div>
<div class="line">                         treat it as a normal &#39;*&#39; instead.</div>
<div class="line"> </div>
<div class="line">  --windows-path-no-escape</div>
<div class="line">                         Use &#39;\&#39; as a path separator *only*, and *never* as an</div>
<div class="line">                         escape character. If set, all &#39;\&#39; characters are</div>
<div class="line">                         replaced with &#39;/&#39; in the pattern.</div>
<div class="line"> </div>
<div class="line">  -D&lt;n&gt; --max-depth=&lt;n&gt;  Maximum depth to traverse from the current working</div>
<div class="line">                         directory</div>
<div class="line"> </div>
<div class="line">  -C&lt;cwd&gt; --cwd=&lt;cwd&gt;    Current working directory to execute/match in</div>
<div class="line">  -r&lt;root&gt; --root=&lt;root&gt; A string path resolved against the &#39;cwd&#39;, which is used</div>
<div class="line">                         as the starting point for absolute patterns that start</div>
<div class="line">                         with &#39;/&#39; (but not drive letters or UNC paths on</div>
<div class="line">                         Windows).</div>
<div class="line"> </div>
<div class="line">                         Note that this *doesn&#39;t* necessarily limit the walk to</div>
<div class="line">                         the &#39;root&#39; directory, and doesn&#39;t affect the cwd</div>
<div class="line">                         starting point for non-absolute patterns. A pattern</div>
<div class="line">                         containing &#39;..&#39; will still be able to traverse out of</div>
<div class="line">                         the root directory, if it is not an actual root</div>
<div class="line">                         directory on the filesystem, and any non-absolute</div>
<div class="line">                         patterns will still be matched in the &#39;cwd&#39;.</div>
<div class="line"> </div>
<div class="line">                         To start absolute and non-absolute patterns in the same</div>
<div class="line">                         path, you can use &#39;--root=&#39; to set it to the empty</div>
<div class="line">                         string. However, be aware that on Windows systems, a</div>
<div class="line">                         pattern like &#39;x:/*&#39; or &#39;//host/share/*&#39; will *always*</div>
<div class="line">                         start in the &#39;x:/&#39; or &#39;//host/share/&#39; directory,</div>
<div class="line">                         regardless of the --root setting.</div>
<div class="line"> </div>
<div class="line">  --platform=&lt;platform&gt;  Defaults to the value of &#39;process.platform&#39; if</div>
<div class="line">                         available, or &#39;linux&#39; if not. Setting --platform=win32</div>
<div class="line">                         on non-Windows systems may cause strange behavior!</div>
<div class="line"> </div>
<div class="line">  -i&lt;ignore&gt; --ignore=&lt;ignore&gt;</div>
<div class="line">                         Glob patterns to ignore Can be set multiple times</div>
<div class="line">  -v --debug             Output a huge amount of noisy debug information about</div>
<div class="line">                         patterns as they are parsed and used to match files.</div>
<div class="line"> </div>
<div class="line">  -h --help              Show this usage information</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16205"></a>
<code>glob(pattern: string | string[], options?: GlobOptions) =&gt; Promise&lt;string[] | Path[]&gt;</code></h1>
<p>Perform an asynchronous glob search for the pattern(s) specified. Returns <a href="https://isaacs.github.io/path-scurry/classes/PathBase">Path</a> objects if the <code>withFileTypes</code> option is set to <code>true</code>. See below for full options field desciptions.</p>
<h1><a class="anchor" id="autotoc_md16206"></a>
<code>globSync(pattern: string | string[], options?: GlobOptions) =&gt; string[] | Path[]</code></h1>
<p>Synchronous form of <code>glob()</code>.</p>
<p>Alias: <code>glob.sync()</code></p>
<h1><a class="anchor" id="autotoc_md16207"></a>
<code>globIterate(pattern: string | string[], options?: GlobOptions) =&gt; AsyncGenerator&lt;string&gt;</code></h1>
<p>Return an async iterator for walking glob pattern matches.</p>
<p>Alias: <code>glob.iterate()</code></p>
<h1><a class="anchor" id="autotoc_md16208"></a>
<code>globIterateSync(pattern: string | string[], options?: GlobOptions) =&gt; Generator&lt;string&gt;</code></h1>
<p>Return a sync iterator for walking glob pattern matches.</p>
<p>Alias: <code>glob.iterate.sync()</code>, <code>glob.sync.iterate()</code></p>
<h1><a class="anchor" id="autotoc_md16209"></a>
<code>globStream(pattern: string | string[], options?: GlobOptions) =&gt; Minipass&lt;string | Path&gt;</code></h1>
<p>Return a stream that emits all the strings or <code>Path</code> objects and then emits <code>end</code> when completed.</p>
<p>Alias: <code>glob.stream()</code></p>
<h1><a class="anchor" id="autotoc_md16210"></a>
<code>globStreamSync(pattern: string | string[], options?: GlobOptions) =&gt; Minipass&lt;string | Path&gt;</code></h1>
<p>Syncronous form of <code>globStream()</code>. Will read all the matches as fast as you consume them, even all in a single tick if you consume them immediately, but will still respond to backpressure if they're not consumed immediately.</p>
<p>Alias: <code>glob.stream.sync()</code>, <code>glob.sync.stream()</code></p>
<h1><a class="anchor" id="autotoc_md16211"></a>
<code>hasMagic(pattern: string | string[], options?: GlobOptions) =&gt; boolean</code></h1>
<p>Returns <code>true</code> if the provided pattern contains any "magic" glob characters, given the options provided.</p>
<p>Brace expansion is not considered "magic" unless the <code>magicalBraces</code> option is set, as brace expansion just turns one string into an array of strings. So a pattern like &lsquo;'x{a,b}y&rsquo;<code> would return</code>false<code>, because</code>'xay'<code>and</code>'xby'<code>both do not contain any magic glob characters, and it's treated the same as if you had called it on</code>['xay', 'xby']<code>. When </code>magicalBraces:true` is in the options, brace expansion <em>is</em> treated as a pattern having magic.</p>
<h1><a class="anchor" id="autotoc_md16212"></a>
<code>escape(pattern: string, options?: GlobOptions) =&gt; string</code></h1>
<p>Escape all magic characters in a glob pattern, so that it will only ever match literal strings</p>
<p>If the <code>windowsPathsNoEscape</code> option is used, then characters are escaped by wrapping in <code>[]</code>, because a magic character wrapped in a character class can only be satisfied by that exact character.</p>
<p>Slashes (and backslashes in <code>windowsPathsNoEscape</code> mode) cannot be escaped or unescaped.</p>
<h1><a class="anchor" id="autotoc_md16213"></a>
<code>unescape(pattern: string, options?: GlobOptions) =&gt; string</code></h1>
<p>Un-escape a glob string that may contain some escaped characters.</p>
<p>If the <code>windowsPathsNoEscape</code> option is used, then square-brace escapes are removed, but not backslash escapes. For example, it will turn the string &lsquo;&rsquo;[*]'<code>into</code>*<code>, but it will not turn </code>'\*'<code>into</code>'*'<code>, because</code>` is a path separator in <code>windowsPathsNoEscape</code> mode.</p>
<p>When <code>windowsPathsNoEscape</code> is not set, then both brace escapes and backslash escapes are removed.</p>
<p>Slashes (and backslashes in <code>windowsPathsNoEscape</code> mode) cannot be escaped or unescaped.</p>
<h1><a class="anchor" id="autotoc_md16214"></a>
Class <code>Glob</code></h1>
<p>An object that can perform glob pattern traversals.</p>
<h2><a class="anchor" id="autotoc_md16215"></a>
<code>const g = new Glob(pattern: string | string[], options: GlobOptions)</code></h2>
<p>Options object is required.</p>
<p>See full options descriptions below.</p>
<p>Note that a previous <code>Glob</code> object can be passed as the <code>GlobOptions</code> to another <code>Glob</code> instantiation to re-use settings and caches with a new pattern.</p>
<p>Traversal functions can be called multiple times to run the walk again.</p>
<h2><a class="anchor" id="autotoc_md16216"></a>
<code>g.stream()</code></h2>
<p>Stream results asynchronously,</p>
<h2><a class="anchor" id="autotoc_md16217"></a>
<code>g.streamSync()</code></h2>
<p>Stream results synchronously.</p>
<h2><a class="anchor" id="autotoc_md16218"></a>
<code>g.iterate()</code></h2>
<p>Default async iteration function. Returns an AsyncGenerator that iterates over the results.</p>
<h2><a class="anchor" id="autotoc_md16219"></a>
<code>g.iterateSync()</code></h2>
<p>Default sync iteration function. Returns a Generator that iterates over the results.</p>
<h2><a class="anchor" id="autotoc_md16220"></a>
<code>g.walk()</code></h2>
<p>Returns a Promise that resolves to the results array.</p>
<h2><a class="anchor" id="autotoc_md16221"></a>
<code>g.walkSync()</code></h2>
<p>Returns a results array.</p>
<h2><a class="anchor" id="autotoc_md16222"></a>
Properties</h2>
<p>All options are stored as properties on the <code>Glob</code> object.</p>
<ul>
<li><code>opts</code> The options provided to the constructor.</li>
<li><code>patterns</code> An array of parsed immutable <code>Pattern</code> objects.</li>
</ul>
<h1><a class="anchor" id="autotoc_md16223"></a>
Options</h1>
<p>Exported as <code>GlobOptions</code> TypeScript interface. A <code>GlobOptions</code> object may be provided to any of the exported methods, and must be provided to the <code>Glob</code> constructor.</p>
<p>All options are optional, boolean, and false by default, unless otherwise noted.</p>
<p>All resolved options are added to the Glob object as properties.</p>
<p>If you are running many <code>glob</code> operations, you can pass a Glob object as the <code>options</code> argument to a subsequent operation to share the previously loaded cache.</p>
<ul>
<li><p class="startli"><code>cwd</code> String path or <code><a href="file://">file://</a></code> string or URL object. The current working directory in which to search. Defaults to <code>process.cwd()</code>. See also: "Windows, CWDs, Drive Letters, and
  UNC Paths", below.</p>
<p class="startli">This option may be either a string path or a <code><a href="file://">file://</a></code> URL object or string.</p>
</li>
<li><p class="startli"><code>root</code> A string path resolved against the <code>cwd</code> option, which is used as the starting point for absolute patterns that start with <code>/</code>, (but not drive letters or UNC paths on Windows).</p>
<p class="startli">Note that this <em>doesn't</em> necessarily limit the walk to the <code>root</code> directory, and doesn't affect the cwd starting point for non-absolute patterns. A pattern containing <code>..</code> will still be able to traverse out of the root directory, if it is not an actual root directory on the filesystem, and any non-absolute patterns will be matched in the <code>cwd</code>. For example, the pattern <code>/../*</code> with &lsquo;{root:&rsquo;/some/path'}<code>will return all files in</code>/some<code>, not all files in</code>/some/path<code>. The pattern </code>*<code>with</code>{root:'/some/path'}<code>will return all the entries in the cwd, not the entries in</code>/some/path`.</p>
<p class="startli">To start absolute and non-absolute patterns in the same path, you can use &lsquo;{root:&rsquo;'}<code>. However, be aware that on Windows systems, a pattern like</code>x:/*<code>or</code>//host/share/*<code>will _always_ start in the</code>x:/<code>or</code>//host/share<code>directory, regardless of the</code>root` setting.</p>
</li>
<li><p class="startli"><code>windowsPathsNoEscape</code> Use <code>\\</code> as a path separator <em>only</em>, and <em>never</em> as an escape character. If set, all <code>\\</code> characters are replaced with <code>/</code> in the pattern.</p>
<p class="startli">Note that this makes it <b>impossible</b> to match against paths containing literal glob pattern characters, but allows matching with patterns constructed using <code>path.join()</code> and <code>path.resolve()</code> on Windows platforms, mimicking the (buggy!) behavior of Glob v7 and before on Windows. Please use with caution, and be mindful of the caveat below about Windows paths. (For legacy reasons, this is also set if <code>allowWindowsEscape</code> is set to the exact value <code>false</code>.)</p>
</li>
<li><code>dot</code> Include <code>.dot</code> files in normal matches and <code>globstar</code> matches. Note that an explicit dot in a portion of the pattern will always match dot files.</li>
<li><p class="startli"><code>magicalBraces</code> Treat brace expansion like <code>{a,b}</code> as a "magic" pattern. Has no effect if <code><a class="el" href="">nobrace</a></code> is set.</p>
<p class="startli">Only has effect on the <code><a class="el" href="">hasMagic</a></code> function, no effect on glob pattern matching itself.</p>
</li>
<li><p class="startli"><code>dotRelative</code> Prepend all relative path strings with <code>./</code> (or <code>.\</code> on Windows).</p>
<p class="startli">Without this option, returned relative paths are "bare", so instead of returning &lsquo;&rsquo;./foo/bar'<code>, they are returned as </code>'foo/bar'`.</p>
<p class="startli">Relative patterns starting with &lsquo;&rsquo;../'<code>are not prepended with </code>./`, even if this option is set.</p>
</li>
<li><code>mark</code> Add a <code>/</code> character to directory matches. Note that this requires additional stat calls.</li>
<li><code>nobrace</code> Do not expand <code>{a,b}</code> and <code>{1..3}</code> brace sets.</li>
<li><code>noglobstar</code> Do not match <code>**</code> against multiple filenames. (Ie, treat it as a normal <code>*</code> instead.)</li>
<li><code>noext</code> Do not match "extglob" patterns such as <code>+(a|b)</code>.</li>
<li><p class="startli"><code>nocase</code> Perform a case-insensitive match. This defaults to <code>true</code> on macOS and Windows systems, and <code>false</code> on all others.</p>
<p class="startli"><b>Note</b> <code>nocase</code> should only be explicitly set when it is known that the filesystem's case sensitivity differs from the platform default. If set <code>true</code> on case-sensitive file systems, or <code>false</code> on case-insensitive file systems, then the walk may return more or less results than expected.</p>
</li>
<li><code>maxDepth</code> Specify a number to limit the depth of the directory traversal to this many levels below the <code>cwd</code>.</li>
<li><code>matchBase</code> Perform a basename-only match if the pattern does not contain any slash characters. That is, <code>*.js</code> would be treated as equivalent to <code>**/*.js</code>, matching all js files in all directories.</li>
<li><p class="startli"><code>nodir</code> Do not match directories, only files. (Note: to match <em>only</em> directories, put a <code>/</code> at the end of the pattern.)</p>
<p class="startli">Note: when <code>follow</code> and <code>nodir</code> are both set, then symbolic links to directories are also omitted.</p>
</li>
<li><code>stat</code> Call <code>lstat()</code> on all entries, whether required or not to determine whether it's a valid match. When used with <code>withFileTypes</code>, this means that matches will include data such as modified time, permissions, and so on. Note that this will incur a performance cost due to the added system calls.</li>
<li><p class="startli"><code>ignore</code> string or string[], or an object with <code>ignore</code> and <code>ignoreChildren</code> methods.</p>
<p class="startli">If a string or string[] is provided, then this is treated as a glob pattern or array of glob patterns to exclude from matches. To ignore all children within a directory, as well as the entry itself, append &lsquo;&rsquo;/**'` to the ignore pattern.</p>
<p class="startli"><b>Note</b> <code>ignore</code> patterns are <em>always</em> in <code>dot:true</code> mode, regardless of any other settings.</p>
<p class="startli">If an object is provided that has <code>ignored(path)</code> and/or <code>childrenIgnored(path)</code> methods, then these methods will be called to determine whether any Path is a match or if its children should be traversed, respectively.</p>
</li>
<li><p class="startli"><code>follow</code> Follow symlinked directories when expanding <code>**</code> patterns. This can result in a lot of duplicate references in the presence of cyclic links, and make performance quite bad.</p>
<p class="startli">By default, a <code>**</code> in a pattern will follow 1 symbolic link if it is not the first item in the pattern, or none if it is the first item in the pattern, following the same behavior as Bash.</p>
<p class="startli">Note: when <code>follow</code> and <code>nodir</code> are both set, then symbolic links to directories are also omitted.</p>
</li>
<li><code>realpath</code> Set to true to call <code>fs.realpath</code> on all of the results. In the case of an entry that cannot be resolved, the entry is omitted. This incurs a slight performance penalty, of course, because of the added system calls.</li>
<li><p class="startli"><code>absolute</code> Set to true to always receive absolute paths for matched files. Set to <code>false</code> to always receive relative paths for matched files.</p>
<p class="startli">By default, when this option is not set, absolute paths are returned for patterns that are absolute, and otherwise paths are returned that are relative to the <code>cwd</code> setting.</p>
<p class="startli">This does <em>not</em> make an extra system call to get the realpath, it only does string path resolution.</p>
<p class="startli"><code>absolute</code> may not be used along with <code>withFileTypes</code>.</p>
</li>
<li><code>posix</code> Set to true to use <code>/</code> as the path separator in returned results. On posix systems, this has no effect. On Windows systems, this will return <code>/</code> delimited path results, and absolute paths will be returned in their full resolved UNC path form, eg insted of &lsquo;'C:\foo\bar&rsquo;<code>, it will return </code>//?/C:/foo/bar`.</li>
<li><code>platform</code> Defaults to value of <code>process.platform</code> if available, or &lsquo;'linux&rsquo;<code>if not. Setting</code>platform:'win32'` on non-Windows systems may cause strange behavior.</li>
<li><p class="startli"><code>withFileTypes</code> Return <a href="http://npm.im/path-scurry">PathScurry</a> <code>Path</code> objects instead of strings. These are similar to a NodeJS <code>Dirent</code> object, but with additional methods and properties.</p>
<p class="startli"><code>withFileTypes</code> may not be used along with <code>absolute</code>.</p>
</li>
<li><code>signal</code> An AbortSignal which will cancel the Glob walk when triggered.</li>
<li><code>fs</code> An override object to pass in custom filesystem methods. See <a href="http://npm.im/path-scurry">PathScurry docs</a> for what can be overridden.</li>
<li><code>scurry</code> A <a href="http://npm.im/path-scurry">PathScurry</a> object used to traverse the file system. If the <code>nocase</code> option is set explicitly, then any provided <code>scurry</code> object must match this setting.</li>
<li><p class="startli"><code>includeChildMatches</code> boolean, default <code>true</code>. Do not match any children of any matches. For example, the pattern <code>**\/foo</code> would match <code>a/foo</code>, but not <code>a/foo/b/foo</code> in this mode.</p>
<p class="startli">This is especially useful for cases like "find all
  `node_modules` folders, but not the ones in `node_modules`".</p>
<p class="startli">In order to support this, the <code>Ignore</code> implementation must support an <code>add(pattern: string)</code> method. If using the default <code>Ignore</code> class, then this is fine, but if this is set to <code>false</code>, and a custom <code>Ignore</code> is provided that does not have an <code>add()</code> method, then it will throw an error.</p>
<p class="startli"><b>Caveat</b> It <em>only</em> ignores matches that would be a descendant of a previous match, and only if that descendant is matched <em>after</em> the ancestor is encountered. Since the file system walk happens in indeterminate order, it's possible that a match will already be added before its ancestor, if multiple or braced patterns are used.</p>
<p class="startli">For example:</p>
<div class="fragment"><div class="line">const results = await glob(</div>
<div class="line">  [</div>
<div class="line">    // likely to match first, since it&#39;s just a stat</div>
<div class="line">    &#39;a/b/c/d/e/f&#39;,</div>
<div class="line"> </div>
<div class="line">    // this pattern is more complicated! It must to various readdir()</div>
<div class="line">    // calls and test the results against a regular expression, and that</div>
<div class="line">    // is certainly going to take a little bit longer.</div>
<div class="line">    //</div>
<div class="line">    // So, later on, it encounters a match at &#39;a/b/c/d/e&#39;, but it&#39;s too</div>
<div class="line">    // late to ignore a/b/c/d/e/f, because it&#39;s already been emitted.</div>
<div class="line">    &#39;a/[bdf]/?/[a-z]/*&#39;,</div>
<div class="line">  ],</div>
<div class="line">  { includeChildMatches: false },</div>
<div class="line">)</div>
</div><!-- fragment --><p class="startli">It's best to only set this to <code>false</code> if you can be reasonably sure that no components of the pattern will potentially match one another's file system descendants, or if the occasional included child entry will not cause problems.</p>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md16224"></a>
Glob Primer</h1>
<p>Much more information about glob pattern expansion can be found by running <code>man bash</code> and searching for <code>Pattern Matching</code>.</p>
<p>"Globs" are the patterns you type when you do stuff like <code>ls *.js</code> on the command line, or put <code>build/*</code> in a <code>.gitignore</code> file.</p>
<p>Before parsing the path part patterns, braced sections are expanded into a set. Braced sections start with <code>{</code> and end with <code>}</code>, with 2 or more comma-delimited sections within. Braced sections may contain slash characters, so <code>a{/b/c,bcd}</code> would expand into <code>a/b/c</code> and <code>abcd</code>.</p>
<p>The following characters have special magic meaning when used in a path portion. With the exception of <code>**</code>, none of these match path separators (ie, <code>/</code> on all platforms, and <code>\</code> on Windows).</p>
<ul>
<li><code>*</code> Matches 0 or more characters in a single path portion. When alone in a path portion, it must match at least 1 character. If <code>dot:true</code> is not specified, then <code>*</code> will not match against a <code>.</code> character at the start of a path portion.</li>
<li><code>?</code> Matches 1 character. If <code>dot:true</code> is not specified, then <code>?</code> will not match against a <code>.</code> character at the start of a path portion.</li>
<li><code>[...]</code> Matches a range of characters, similar to a RegExp range. If the first character of the range is <code>!</code> or <code>^</code> then it matches any character not in the range. If the first character is <code>]</code>, then it will be considered the same as <code>\]</code>, rather than the end of the character class.</li>
<li><code>!(pattern|pattern|pattern)</code> Matches anything that does not match any of the patterns provided. May <em>not</em> contain <code>/</code> characters. Similar to <code>*</code>, if alone in a path portion, then the path portion must have at least one character.</li>
<li><code>?(pattern|pattern|pattern)</code> Matches zero or one occurrence of the patterns provided. May <em>not</em> contain <code>/</code> characters.</li>
<li><code>+(pattern|pattern|pattern)</code> Matches one or more occurrences of the patterns provided. May <em>not</em> contain <code>/</code> characters.</li>
<li><code>*(a|b|c)</code> Matches zero or more occurrences of the patterns provided. May <em>not</em> contain <code>/</code> characters.</li>
<li><code>@(pattern|pat*|pat?erN)</code> Matches exactly one of the patterns provided. May <em>not</em> contain <code>/</code> characters.</li>
<li><code>**</code> If a "globstar" is alone in a path portion, then it matches zero or more directories and subdirectories searching for matches. It does not crawl symlinked directories, unless <code>{follow:true}</code> is passed in the options object. A pattern like <code>a/b/**</code> will only match <code>a/b</code> if it is a directory. Follows 1 symbolic link if not the first item in the pattern, or 0 if it is the first item, unless <code>follow:true</code> is set, in which case it follows all symbolic links.</li>
</ul>
<p><code>[:class:]</code> patterns are supported by this implementation, but <code>[=c=]</code> and <code>[.symbol.]</code> style class patterns are not.</p>
<h2><a class="anchor" id="autotoc_md16225"></a>
Dots</h2>
<p>If a file or directory path portion has a <code>.</code> as the first character, then it will not match any glob pattern unless that pattern's corresponding path part also has a <code>.</code> as its first character.</p>
<p>For example, the pattern <code>a/.*/c</code> would match the file at <code>a/.b/c</code>. However the pattern <code>a/*/c</code> would not, because <code>*</code> does not start with a dot character.</p>
<p>You can make glob treat dots as normal characters by setting <code>dot:true</code> in the options.</p>
<h2><a class="anchor" id="autotoc_md16226"></a>
Basename Matching</h2>
<p>If you set <code>matchBase:true</code> in the options, and the pattern has no slashes in it, then it will seek for any file anywhere in the tree with a matching basename. For example, <code>*.js</code> would match <code>test/simple/basic.js</code>.</p>
<h2><a class="anchor" id="autotoc_md16227"></a>
Empty Sets</h2>
<p>If no matching files are found, then an empty array is returned. This differs from the shell, where the pattern itself is returned. For example:</p>
<div class="fragment"><div class="line">$ echo a*s*d*f</div>
<div class="line">a*s*d*f</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16228"></a>
Comparisons to other fnmatch/glob implementations</h1>
<p>While strict compliance with the existing standards is a worthwhile goal, some discrepancies exist between node-glob and other implementations, and are intentional.</p>
<p>The double-star character <code>**</code> is supported by default, unless the <code>noglobstar</code> flag is set. This is supported in the manner of bsdglob and bash 5, where <code>**</code> only has special significance if it is the only thing in a path part. That is, <code>a/**/b</code> will match <code>a/x/y/b</code>, but <code>a/**b</code> will not.</p>
<p>Note that symlinked directories are not traversed as part of a <code>**</code>, though their contents may match against subsequent portions of the pattern. This prevents infinite loops and duplicates and the like. You can force glob to traverse symlinks with <code>**</code> by setting <code>{follow:true}</code> in the options.</p>
<p>There is no equivalent of the <code>nonull</code> option. A pattern that does not find any matches simply resolves to nothing. (An empty array, immediately ended stream, etc.)</p>
<p>If brace expansion is not disabled, then it is performed before any other interpretation of the glob pattern. Thus, a pattern like <code>+(a|{b),c)}</code>, which would not be valid in bash or zsh, is expanded <b>first</b> into the set of <code>+(a|b)</code> and <code>+(a|c)</code>, and those patterns are checked for validity. Since those two are valid, matching proceeds.</p>
<p>The character class patterns <code>[:class:]</code> (posix standard named classes) style class patterns are supported and unicode-aware, but <code>[=c=]</code> (locale-specific character collation weight), and <code>[.symbol.]</code> (collating symbol), are not.</p>
<h2><a class="anchor" id="autotoc_md16229"></a>
Repeated Slashes</h2>
<p>Unlike Bash and zsh, repeated <code>/</code> are always coalesced into a single path separator.</p>
<h2><a class="anchor" id="autotoc_md16230"></a>
Comments and Negation</h2>
<p>Previously, this module let you mark a pattern as a "comment" if it started with a <code>#</code> character, or a "negated" pattern if it started with a <code>!</code> character.</p>
<p>These options were deprecated in version 5, and removed in version 6.</p>
<p>To specify things that should not match, use the <code>ignore</code> option.</p>
<h1><a class="anchor" id="autotoc_md16231"></a>
Windows</h1>
<p><b>Please only use forward-slashes in glob expressions.</b></p>
<p>Though windows uses either <code>/</code> or <code>\</code> as its path separator, only <code>/</code> characters are used by this glob implementation. You must use forward-slashes <b>only</b> in glob expressions. Back-slashes will always be interpreted as escape characters, not path separators.</p>
<p>Results from absolute patterns such as <code>/foo/*</code> are mounted onto the root setting using <code>path.join</code>. On windows, this will by default result in <code>/foo/*</code> matching <code>C:\foo\bar.txt</code>.</p>
<p>To automatically coerce all <code>\</code> characters to <code>/</code> in pattern strings, <b>thus making it impossible to escape literal glob characters</b>, you may set the <code>windowsPathsNoEscape</code> option to <code>true</code>.</p>
<h2><a class="anchor" id="autotoc_md16232"></a>
Windows, CWDs, Drive Letters, and UNC Paths</h2>
<p>On posix systems, when a pattern starts with <code>/</code>, any <code>cwd</code> option is ignored, and the traversal starts at <code>/</code>, plus any non-magic path portions specified in the pattern.</p>
<p>On Windows systems, the behavior is similar, but the concept of an "absolute path" is somewhat more involved.</p>
<h3><a class="anchor" id="autotoc_md16233"></a>
UNC Paths</h3>
<p>A UNC path may be used as the start of a pattern on Windows platforms. For example, a pattern like: <code>//?/x:/*</code> will return all file entries in the root of the <code>x:</code> drive. A pattern like <code>//ComputerName/Share/*</code> will return all files in the associated share.</p>
<p>UNC path roots are always compared case insensitively.</p>
<h3><a class="anchor" id="autotoc_md16234"></a>
Drive Letters</h3>
<p>A pattern starting with a drive letter, like <code>c:/*</code>, will search in that drive, regardless of any <code>cwd</code> option provided.</p>
<p>If the pattern starts with <code>/</code>, and is not a UNC path, and there is an explicit <code>cwd</code> option set with a drive letter, then the drive letter in the <code>cwd</code> is used as the root of the directory traversal.</p>
<p>For example, &lsquo;glob(&rsquo;/tmp', { cwd: 'c:/any/thing' })<code>will return </code>['c:/tmp']` as the result.</p>
<p>If an explicit <code>cwd</code> option is not provided, and the pattern starts with <code>/</code>, then the traversal will run on the root of the drive provided as the <code>cwd</code> option. (That is, it is the result of &lsquo;path.resolve(&rsquo;/')`.)</p>
<h1><a class="anchor" id="autotoc_md16235"></a>
Race Conditions</h1>
<p>Glob searching, by its very nature, is susceptible to race conditions, since it relies on directory walking.</p>
<p>As a result, it is possible that a file that exists when glob looks for it may have been deleted or modified by the time it returns the result.</p>
<p>By design, this implementation caches all readdir calls that it makes, in order to cut down on system overhead. However, this also makes it even more susceptible to races, especially if the cache object is reused between glob calls.</p>
<p>Users are thus advised not to use a glob result as a guarantee of filesystem state in the face of rapid changes. For the vast majority of operations, this is never a problem.</p>
<h2><a class="anchor" id="autotoc_md16236"></a>
See Also:</h2>
<ul>
<li><code>man sh</code></li>
<li><code>man bash</code> <a href="https://www.gnu.org/software/bash/manual/html_node/Pattern-Matching.html">Pattern Matching</a></li>
<li><code>man 3 fnmatch</code></li>
<li><code>man 5 gitignore</code></li>
<li><a href="https://github.com/isaacs/minimatch">minimatch documentation</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md16237"></a>
Glob Logo</h1>
<p>Glob's logo was created by <a href="http://tanyabrassie.com/">Tanya Brassie</a>. Logo files can be found <a href="https://github.com/isaacs/node-glob/tree/master/logo">here</a>.</p>
<p>The logo is licensed under a [Creative Commons Attribution-ShareAlike 4.0 International License](<a href="https://creativecommons.org/licenses/by-sa/4.0/">https://creativecommons.org/licenses/by-sa/4.0/</a>).</p>
<h1><a class="anchor" id="autotoc_md16238"></a>
Contributing</h1>
<p>Any change to behavior (including bugfixes) must come with a test.</p>
<p>Patches that fail tests or reduce performance will be rejected.</p>
<div class="fragment"><div class="line"># to run tests</div>
<div class="line">npm test</div>
<div class="line"> </div>
<div class="line"># to re-generate test fixtures</div>
<div class="line">npm run test-regen</div>
<div class="line"> </div>
<div class="line"># run the benchmarks</div>
<div class="line">npm run bench</div>
<div class="line"> </div>
<div class="line"># to profile javascript</div>
<div class="line">npm run prof</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md16239"></a>
Comparison to Other JavaScript Glob Implementations</h1>
<p><b>tl;dr</b></p>
<ul>
<li>If you want glob matching that is as faithful as possible to Bash pattern expansion semantics, and as fast as possible within that constraint, <em>use this module</em>.</li>
<li>If you are reasonably sure that the patterns you will encounter are relatively simple, and want the absolutely fastest glob matcher out there, <em>use <a href="http://npm.im/fast-glob">fast-glob</a></em>.</li>
<li>If you are reasonably sure that the patterns you will encounter are relatively simple, and want the convenience of automatically respecting <code>.gitignore</code> files, <em>use <a href="http://npm.im/globby">globby</a></em>.</li>
</ul>
<p>There are some other glob matcher libraries on npm, but these three are (in my opinion, as of 2023) the best.</p>
<hr  />
<p><b>full explanation</b></p>
<p>Every library reflects a set of opinions and priorities in the trade-offs it makes. Other than this library, I can personally recommend both <a href="http://npm.im/globby">globby</a> and <a href="http://npm.im/fast-glob">fast-glob</a>, though they differ in their benefits and drawbacks.</p>
<p>Both have very nice APIs and are reasonably fast.</p>
<p><code>fast-glob</code> is, as far as I am aware, the fastest glob implementation in JavaScript today. However, there are many cases where the choices that <code>fast-glob</code> makes in pursuit of speed mean that its results differ from the results returned by Bash and other sh-like shells, which may be surprising.</p>
<p>In my testing, <code>fast-glob</code> is around 10-20% faster than this module when walking over 200k files nested 4 directories deep1. However, there are some inconsistencies with Bash matching behavior that this module does not suffer from:</p>
<ul>
<li><code>**</code> only matches files, not directories</li>
<li><code>..</code> path portions are not handled unless they appear at the start of the pattern</li>
<li><code>./!(&lt;pattern&gt;)</code> will not match any files that <em>start</em> with <code>&lt;pattern&gt;</code>, even if they do not match <code>&lt;pattern&gt;</code>. For example, <code>!(9).txt</code> will not match <code>9999.txt</code>.</li>
<li>Some brace patterns in the middle of a pattern will result in failing to find certain matches.</li>
<li>Extglob patterns are allowed to contain <code>/</code> characters.</li>
</ul>
<p>Globby exhibits all of the same pattern semantics as fast-glob, (as it is a wrapper around fast-glob) and is slightly slower than node-glob (by about 10-20% in the benchmark test set, or in other words, anywhere from 20-50% slower than fast-glob). However, it adds some API conveniences that may be worth the costs.</p>
<ul>
<li>Support for <code>.gitignore</code> and other ignore files.</li>
<li>Support for negated globs (ie, patterns starting with <code>!</code> rather than using a separate <code>ignore</code> option).</li>
</ul>
<p>The priority of this module is "correctness" in the sense of performing a glob pattern expansion as faithfully as possible to the behavior of Bash and other sh-like shells, with as much speed as possible.</p>
<p>Note that prior versions of <code>node-glob</code> are <em>not</em> on this list. Former versions of this module are far too slow for any cases where performance matters at all, and were designed with APIs that are extremely dated by current JavaScript standards.</p>
<hr  />
<p><small id="fn-webscale">[1]: In the cases where this module returns results and <code>fast-glob</code> doesn't, it's even faster, of course.</small></p>
<p><img src="https://github.com/isaacs/node-glob/raw/main/oh-my-glob.gif" alt="lumpy space princess saying 'oh my GLOB'" class="inline"/></p>
<h2><a class="anchor" id="autotoc_md16242"></a>
Benchmark Results</h2>
<p>First number is time, smaller is better.</p>
<p>Second number is the count of results returned.</p>
<div class="fragment"><div class="line">--- pattern: &#39;**&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.598s  200364</div>
<div class="line">node globby sync                0m0.765s  200364</div>
<div class="line">node current globSync mjs       0m0.683s  222656</div>
<div class="line">node current glob syncStream    0m0.649s  222656</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.350s  200364</div>
<div class="line">node globby async               0m0.509s  200364</div>
<div class="line">node current glob async mjs     0m0.463s  222656</div>
<div class="line">node current glob stream        0m0.411s  222656</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/..&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.486s  0</div>
<div class="line">node globby sync                0m0.769s  200364</div>
<div class="line">node current globSync mjs       0m0.564s  2242</div>
<div class="line">node current glob syncStream    0m0.583s  2242</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.283s  0</div>
<div class="line">node globby async               0m0.512s  200364</div>
<div class="line">node current glob async mjs     0m0.299s  2242</div>
<div class="line">node current glob stream        0m0.312s  2242</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/0/**/0/**/0/**/0/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.490s  10</div>
<div class="line">node globby sync                0m0.517s  10</div>
<div class="line">node current globSync mjs       0m0.540s  10</div>
<div class="line">node current glob syncStream    0m0.550s  10</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.290s  10</div>
<div class="line">node globby async               0m0.296s  10</div>
<div class="line">node current glob async mjs     0m0.278s  10</div>
<div class="line">node current glob stream        0m0.302s  10</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/[01]/**/[12]/**/[23]/**/[45]/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.500s  160</div>
<div class="line">node globby sync                0m0.528s  160</div>
<div class="line">node current globSync mjs       0m0.556s  160</div>
<div class="line">node current glob syncStream    0m0.573s  160</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.283s  160</div>
<div class="line">node globby async               0m0.301s  160</div>
<div class="line">node current glob async mjs     0m0.306s  160</div>
<div class="line">node current glob stream        0m0.322s  160</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/0/**/0/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.502s  5230</div>
<div class="line">node globby sync                0m0.527s  5230</div>
<div class="line">node current globSync mjs       0m0.544s  5230</div>
<div class="line">node current glob syncStream    0m0.557s  5230</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.285s  5230</div>
<div class="line">node globby async               0m0.305s  5230</div>
<div class="line">node current glob async mjs     0m0.304s  5230</div>
<div class="line">node current glob stream        0m0.310s  5230</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.580s  200023</div>
<div class="line">node globby sync                0m0.771s  200023</div>
<div class="line">node current globSync mjs       0m0.685s  200023</div>
<div class="line">node current glob syncStream    0m0.649s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.349s  200023</div>
<div class="line">node globby async               0m0.509s  200023</div>
<div class="line">node current glob async mjs     0m0.427s  200023</div>
<div class="line">node current glob stream        0m0.388s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;{**/*.txt,**/?/**/*.txt,**/?/**/?/**/*.txt,**/?/**/?/**/?/**/*.txt,**/?/**/?/**/?/**/?/**/*.txt}&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.589s  200023</div>
<div class="line">node globby sync                0m0.771s  200023</div>
<div class="line">node current globSync mjs       0m0.716s  200023</div>
<div class="line">node current glob syncStream    0m0.684s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.351s  200023</div>
<div class="line">node globby async               0m0.518s  200023</div>
<div class="line">node current glob async mjs     0m0.462s  200023</div>
<div class="line">node current glob stream        0m0.468s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/5555/0000/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.496s  1000</div>
<div class="line">node globby sync                0m0.519s  1000</div>
<div class="line">node current globSync mjs       0m0.539s  1000</div>
<div class="line">node current glob syncStream    0m0.567s  1000</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.285s  1000</div>
<div class="line">node globby async               0m0.299s  1000</div>
<div class="line">node current glob async mjs     0m0.305s  1000</div>
<div class="line">node current glob stream        0m0.301s  1000</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/0/**/../[01]/**/0/../**/0/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.484s  0</div>
<div class="line">node globby sync                0m0.507s  0</div>
<div class="line">node current globSync mjs       0m0.577s  4880</div>
<div class="line">node current glob syncStream    0m0.586s  4880</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.280s  0</div>
<div class="line">node globby async               0m0.298s  0</div>
<div class="line">node current glob async mjs     0m0.327s  4880</div>
<div class="line">node current glob stream        0m0.324s  4880</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/????/????/????/????/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.547s  100000</div>
<div class="line">node globby sync                0m0.673s  100000</div>
<div class="line">node current globSync mjs       0m0.626s  100000</div>
<div class="line">node current glob syncStream    0m0.618s  100000</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.315s  100000</div>
<div class="line">node globby async               0m0.414s  100000</div>
<div class="line">node current glob async mjs     0m0.366s  100000</div>
<div class="line">node current glob stream        0m0.345s  100000</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./{**/?{/**/?{/**/?{/**/?,,,,},,,,},,,,},,,}/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.588s  100000</div>
<div class="line">node globby sync                0m0.670s  100000</div>
<div class="line">node current globSync mjs       0m0.717s  200023</div>
<div class="line">node current glob syncStream    0m0.687s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.343s  100000</div>
<div class="line">node globby async               0m0.418s  100000</div>
<div class="line">node current glob async mjs     0m0.519s  200023</div>
<div class="line">node current glob stream        0m0.451s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/!(0|9).txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.573s  160023</div>
<div class="line">node globby sync                0m0.731s  160023</div>
<div class="line">node current globSync mjs       0m0.680s  180023</div>
<div class="line">node current glob syncStream    0m0.659s  180023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.345s  160023</div>
<div class="line">node globby async               0m0.476s  160023</div>
<div class="line">node current glob async mjs     0m0.427s  180023</div>
<div class="line">node current glob stream        0m0.388s  180023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./{*/**/../{*/**/../{*/**/../{*/**/../{*/**,,,,},,,,},,,,},,,,},,,,}/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.483s  0</div>
<div class="line">node globby sync                0m0.512s  0</div>
<div class="line">node current globSync mjs       0m0.811s  200023</div>
<div class="line">node current glob syncStream    0m0.773s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.280s  0</div>
<div class="line">node globby async               0m0.299s  0</div>
<div class="line">node current glob async mjs     0m0.617s  200023</div>
<div class="line">node current glob stream        0m0.568s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./*/**/../*/**/../*/**/../*/**/../*/**/../*/**/../*/**/../*/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.485s  0</div>
<div class="line">node globby sync                0m0.507s  0</div>
<div class="line">node current globSync mjs       0m0.759s  200023</div>
<div class="line">node current glob syncStream    0m0.740s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.281s  0</div>
<div class="line">node globby async               0m0.297s  0</div>
<div class="line">node current glob async mjs     0m0.544s  200023</div>
<div class="line">node current glob stream        0m0.464s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./*/**/../*/**/../*/**/../*/**/../*/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.486s  0</div>
<div class="line">node globby sync                0m0.513s  0</div>
<div class="line">node current globSync mjs       0m0.734s  200023</div>
<div class="line">node current glob syncStream    0m0.696s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.286s  0</div>
<div class="line">node globby async               0m0.296s  0</div>
<div class="line">node current glob async mjs     0m0.506s  200023</div>
<div class="line">node current glob stream        0m0.483s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./0/**/../1/**/../2/**/../3/**/../4/**/../5/**/../6/**/../7/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.060s  0</div>
<div class="line">node globby sync                0m0.074s  0</div>
<div class="line">node current globSync mjs       0m0.067s  0</div>
<div class="line">node current glob syncStream    0m0.066s  0</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.060s  0</div>
<div class="line">node globby async               0m0.075s  0</div>
<div class="line">node current glob async mjs     0m0.066s  0</div>
<div class="line">node current glob stream        0m0.067s  0</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/?/**/?/**/?/**/?/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.568s  100000</div>
<div class="line">node globby sync                0m0.651s  100000</div>
<div class="line">node current globSync mjs       0m0.619s  100000</div>
<div class="line">node current glob syncStream    0m0.617s  100000</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.332s  100000</div>
<div class="line">node globby async               0m0.409s  100000</div>
<div class="line">node current glob async mjs     0m0.372s  100000</div>
<div class="line">node current glob stream        0m0.351s  100000</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/*/**/*/**/*/**/*/**&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.603s  200113</div>
<div class="line">node globby sync                0m0.798s  200113</div>
<div class="line">node current globSync mjs       0m0.730s  222137</div>
<div class="line">node current glob syncStream    0m0.693s  222137</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.356s  200113</div>
<div class="line">node globby async               0m0.525s  200113</div>
<div class="line">node current glob async mjs     0m0.508s  222137</div>
<div class="line">node current glob stream        0m0.455s  222137</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/*/**/*/**/*/**/*/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.622s  200000</div>
<div class="line">node globby sync                0m0.792s  200000</div>
<div class="line">node current globSync mjs       0m0.722s  200000</div>
<div class="line">node current glob syncStream    0m0.695s  200000</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.369s  200000</div>
<div class="line">node globby async               0m0.527s  200000</div>
<div class="line">node current glob async mjs     0m0.502s  200000</div>
<div class="line">node current glob stream        0m0.481s  200000</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.588s  200023</div>
<div class="line">node globby sync                0m0.771s  200023</div>
<div class="line">node current globSync mjs       0m0.684s  200023</div>
<div class="line">node current glob syncStream    0m0.658s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.352s  200023</div>
<div class="line">node globby async               0m0.516s  200023</div>
<div class="line">node current glob async mjs     0m0.432s  200023</div>
<div class="line">node current glob stream        0m0.384s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;./**/**/**/**/**/**/**/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.589s  200023</div>
<div class="line">node globby sync                0m0.766s  200023</div>
<div class="line">node current globSync mjs       0m0.682s  200023</div>
<div class="line">node current glob syncStream    0m0.652s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.352s  200023</div>
<div class="line">node globby async               0m0.523s  200023</div>
<div class="line">node current glob async mjs     0m0.436s  200023</div>
<div class="line">node current glob stream        0m0.380s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/*/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.592s  200023</div>
<div class="line">node globby sync                0m0.776s  200023</div>
<div class="line">node current globSync mjs       0m0.691s  200023</div>
<div class="line">node current glob syncStream    0m0.659s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.357s  200023</div>
<div class="line">node globby async               0m0.513s  200023</div>
<div class="line">node current glob async mjs     0m0.471s  200023</div>
<div class="line">node current glob stream        0m0.424s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/*/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.585s  200023</div>
<div class="line">node globby sync                0m0.766s  200023</div>
<div class="line">node current globSync mjs       0m0.694s  200023</div>
<div class="line">node current glob syncStream    0m0.664s  200023</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.350s  200023</div>
<div class="line">node globby async               0m0.514s  200023</div>
<div class="line">node current glob async mjs     0m0.472s  200023</div>
<div class="line">node current glob stream        0m0.424s  200023</div>
<div class="line"> </div>
<div class="line">--- pattern: &#39;**/[0-9]/**/*.txt&#39; ---</div>
<div class="line">~~ sync ~~</div>
<div class="line">node fast-glob sync             0m0.544s  100000</div>
<div class="line">node globby sync                0m0.636s  100000</div>
<div class="line">node current globSync mjs       0m0.626s  100000</div>
<div class="line">node current glob syncStream    0m0.621s  100000</div>
<div class="line">~~ async ~~</div>
<div class="line">node fast-glob async            0m0.322s  100000</div>
<div class="line">node globby async               0m0.404s  100000</div>
<div class="line">node current glob async mjs     0m0.360s  100000</div>
<div class="line">node current glob stream        0m0.352s  100000</div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_56970cd57667ac9b471290a83ff6bd52.html">glob</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
