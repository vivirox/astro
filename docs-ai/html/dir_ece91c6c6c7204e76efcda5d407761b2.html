<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gradiant Ascent: node_modules/emoji-regex-xs Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Gradiant Ascent
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('dir_ece91c6c6c7204e76efcda5d407761b2.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">emoji-regex-xs Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>This is a drop-in replacement for the <a href="https://github.com/mathiasbynens/emoji-regex"><code>emoji-regex</code></a> package that shares its API and passes all of its emoji tests, but reduces its uncompressed size by more than 97% (from ~13 KB to 0.3 KB). As a tradeoff for the smaller size, it relies on the regex <code>u</code> flag which requires Node.js 10+ or a browser from 2016 or later.</p>
<p>There are two additional small differences:</p>
<ul>
<li><code>emoji-regex-xs</code> uses whatever version of Unicode that your browser or environment supports natively to determine the base list of emoji, whereas specific versions of <code>emoji-regex</code> are tied to specific Unicode versions.</li>
<li><code>emoji-regex-xs</code>, due to its use of a general pattern, matches some additional emoji that are supported on some but not all platforms, like <a href="https://emojipedia.org/women-wrestling-light-skin-tone#designs">women wrestling: light skin tone</a> and <a href="https://emojipedia.org/flag-for-texas-ustx#designs">flag for Texas</a>.</li>
</ul>
<h1><a class="anchor" id="autotoc_md12417"></a>
Install and use</h1>
<p>Via npm:</p>
<div class="fragment"><div class="line">npm install emoji-regex-xs</div>
</div><!-- fragment --><p>In Node.js:<br  />
 (This is copied from <code>emoji-regex</code> to show that it works the same.)</p>
<div class="fragment"><div class="line">const emojiRegex = require(&#39;emoji-regex-xs&#39;);</div>
<div class="line">// Or: import emojiRegex from &#39;emoji-regex-xs&#39;;</div>
<div class="line"> </div>
<div class="line">// Note: because the regular expression has the global flag set, this module</div>
<div class="line">// exports a function that returns the regex rather than exporting the regular</div>
<div class="line">// expression itself, to make it impossible to (accidentally) mutate the</div>
<div class="line">// original regular expression.</div>
<div class="line"> </div>
<div class="line">const text = `</div>
<div class="line">\u{231A}: ‚åö default emoji presentation character (Emoji_Presentation)</div>
<div class="line">\u{2194}\u{FE0F}: ‚ÜîÔ∏è default text presentation character rendered as emoji</div>
<div class="line">\u{1F469}: üë© emoji modifier base (Emoji_Modifier_Base)</div>
<div class="line">\u{1F469}\u{1F3FF}: üë©üèø emoji modifier base followed by a modifier</div>
<div class="line">`;</div>
<div class="line"> </div>
<div class="line">const regex = emojiRegex();</div>
<div class="line">for (const match of text.matchAll(regex)) {</div>
<div class="line">  const emoji = match[0];</div>
<div class="line">  console.log(`Matched sequence ${emoji} ‚Äî code points: ${[...emoji].length}`);</div>
<div class="line">}</div>
</div><!-- fragment --><p>Console output:</p>
<div class="fragment"><div class="line">Matched sequence ‚åö ‚Äî code points: 1</div>
<div class="line">Matched sequence ‚åö ‚Äî code points: 1</div>
<div class="line">Matched sequence ‚ÜîÔ∏è ‚Äî code points: 2</div>
<div class="line">Matched sequence ‚ÜîÔ∏è ‚Äî code points: 2</div>
<div class="line">Matched sequence üë© ‚Äî code points: 1</div>
<div class="line">Matched sequence üë© ‚Äî code points: 1</div>
<div class="line">Matched sequence üë©üèø ‚Äî code points: 2</div>
<div class="line">Matched sequence üë©üèø ‚Äî code points: 2</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md12418"></a>
More details about emoji, Unicode properties, and regexes</h1>
<p>Emoji are complicated. Or more specifically, how they're defined in the Unicode Standard is complicated. So writing a regex that matches all/only emoji is also complicated. For starters, individual emoji can be made up of between one and <em>many</em> Unicode code points, and there are a variety of different sequence patterns. There are also a variety of Unicode symbols, dingbats, etc. that are not emoji, that we don't want to match.</p>
<p>Given the complexity, many libraries that roll their own emoji regex get it very wrong, e.g. by matching emoji fragments that split off some of their attributes, or by matching things like digits (0, 1, 2, ‚Ä¶), #, *, or certain invisible characters. These characters are obviously not emoji, but they're matched by naive patterns because they might <em>become</em> emoji when followed by various combining characters. Or they might be special characters used in some emoji sequences while not being emoji on their own.</p>
<p>ES2018 added support for matching Unicode properties in regular expressions with <code>\p{‚Ä¶}</code>, so you might think this problem is now trivial, given that the list of supported properties includes <code>Emoji</code>, <code>Emoji_Presentation</code>, <code>Emoji_Modifier</code>, <code>Emoji_Modifier_Base</code>, <code>Emoji_Component</code>, and <code>Extended_Pictographic</code>. But no. On their own, none of these are what you want.</p>
<p>ES2024 added support for matching multicharacter Unicode <em>properties of strings</em> with <code>\p{‚Ä¶}</code>, so you might think one of the new properties <code>Basic_Emoji</code>, <code>Emoji_Keycap_Sequence</code>, <code>RGI_Emoji_Modifier_Sequence</code>, <code>RGI_Emoji_Flag_Sequence</code>, <code>RGI_Emoji_Tag_Sequence</code>, <code>RGI_Emoji_ZWJ_Sequence</code>, or <code>RGI_Emoji</code> will do the trick. Well, kind of. <code>RGI_Emoji</code> indeed seems like what we want, but unfortunately, some common-sense and broadly-supported emoji are not officially in the "RGI" (Recommended for General Interchange) list. And even more frustratingly, some emoji are commonly used in an underqualified or overqualified way (by including or excluding certain invisible Unicode markers) that prevents them from being matched by <code>RGI_Emoji</code>. For example, the iOS emoji keyboard overqualifies certain emoji. So we need something that matches everything in <code>RGI_Emoji</code>, and more. Additionally, <code>\p{RGI_Emoji}</code> relies on flag <code>v</code> which is only supported by 2023-era browsers and Node.js 20+.</p>
<p>All of this is why the extremely popular <code>emoji-regex</code> package exists. It does a great job of accurately matching most common-sense emoji. But to do so, it uses a gigantic (~13 KB uncompressed) regex that hard codes a list of Unicode code points that are tied to a specific Unicode version. Conversely, <code>emoji-regex-xs</code> uses a general pattern that continues to be highly accurate in matching all/only emoji, but uses only ~0.3 KB to do so. It follows <code>emoji-regex</code>'s API and reuses its tests, so it can be swapped-in as a replacement. </p>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_acd06b18086a0dd2ae699b1e0b775be8.html">node_modules</a></li><li class="navelem"><a class="el" href="dir_ece91c6c6c7204e76efcda5d407761b2.html">emoji-regex-xs</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
