\doxysection{node\+\_\+modules/get-\/stream Directory Reference}
\hypertarget{dir_9cb1474ad26385e00b9f7d430e34e89e}{}\label{dir_9cb1474ad26385e00b9f7d430e34e89e}\index{node\_modules/get-\/stream Directory Reference@{node\_modules/get-\/stream Directory Reference}}


\doxysubsection{Detailed Description}
\begin{quote}
Get a stream as a string, buffer, or array \end{quote}
\hypertarget{readme.md_autotoc_md16101}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md16101}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ get-\/stream}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md16102}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md16102}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ fs\ =\ require('fs');}
\DoxyCodeLine{const\ getStream\ =\ require('get-\/stream');}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ stream\ =\ fs.createReadStream('unicorn.txt');}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ console.log(await\ getStream(stream));}
\DoxyCodeLine{\ \ \ \ /*}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,,))))))));,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_)))))))))))))),}
\DoxyCodeLine{\ \ \ \ \(\backslash\)|/\ \ \ \ \ \ \ -\/\(\backslash\)(((((''''((((((((.}
\DoxyCodeLine{\ \ \ \ -\/*-\/==//////((''\ \ .\ \ \ \ \ \`{})))))),}
\DoxyCodeLine{\ \ \ \ /|\(\backslash\)\ \ \ \ \ \ ))|\ o\ \ \ \ ;-\/.\ \ \ \ '(((((\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,(,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ (\ \`{}|\ \ \ \ /\ \ )\ \ \ \ ;))))'\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ,\_))\string^;(\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \ \ |\ \ \ |\ \ \ ,))((((\_\ \ \ \ \ \_\_\_\_\_-\/-\/-\/-\/-\/-\/\string~\string~\string~-\/.\ \ \ \ \ \ \ \ \%,;(;(>';'\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ o\_);\ \ \ ;\ \ \ \ )))(((`\ \string~-\/-\/-\/\string~\ \ \`{}::\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\ \ \ \ \ \ \%\%\string~\string~)(v;(`('\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ;\ \ \ \ ''''````\ \ \ \ \ \ \ \ \ \`{}:\ \ \ \ \ \ \ \`{}:::|\(\backslash\),\_\_,\%\%\ \ \ \ );`';\ \string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ |\ \ \ \_\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \ \ \ \ /\ \ \ \ \ \ \`{}:|`-\/-\/-\/-\/'\ \ \ \ \ \`{}-\/'}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \_\_\_\_\_\_/\(\backslash\)/\string~\ \ \ \ |\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /\ \ \ \ \ \ \ \ /}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ /\string~;;.\_\_\_\_/;;'\ \ /\ \ \ \ \ \ \ \ \ \ \_\_\_-\/-\/,-\/(\ \ \ \`{};;;/}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ /\ //\ \ \_;\_\_\_\_\_\_;'-\/-\/-\/-\/-\/-\/\string~\string~\string~\string~\string~\ \ \ \ /;;/\(\backslash\)\ \ \ \ /}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ //\ \ |\ |\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /\ ;\ \ \ \(\backslash\);;,\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ (<\_\ \ |\ ;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ /',/-\/-\/-\/-\/-\/'\ \ \_>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\_|\ ||\_\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\string~;\string~\string~\string~\string~\string~\string~\string~\string~\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \`{}\(\backslash\)\_|\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (,\string~\string~}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)\string~\(\backslash\)}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \string~\string~}
\DoxyCodeLine{\ \ \ \ */}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md16103}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md16103}
The methods returns a promise that resolves when the {\ttfamily end} event fires on the stream, indicating that there is no more data to be read. The stream is switched to flowing mode.\hypertarget{readme.md_autotoc_md16104}{}\doxysubsubsection{\texorpdfstring{get\+Stream(stream, options?)}{get\+Stream(stream, options?)}}\label{readme.md_autotoc_md16104}
Get the {\ttfamily stream} as a string.\hypertarget{readme.md_autotoc_md16105}{}\doxysubsubsubsection{\texorpdfstring{options}{options}}\label{readme.md_autotoc_md16105}
Type\+: {\ttfamily object}\hypertarget{readme.md_autotoc_md16106}{}\doxysubsubsubsubsection{\texorpdfstring{encoding}{encoding}}\label{readme.md_autotoc_md16106}
Type\+: {\ttfamily string}\textbackslash{} Default\+: `\textquotesingle{}utf8'\`{}

\href{https://nodejs.org/api/buffer.html\#buffer_buffer}{\texttt{ Encoding}} of the incoming stream.\hypertarget{readme.md_autotoc_md16107}{}\doxysubsubsubsubsection{\texorpdfstring{max\+Buffer}{max\+Buffer}}\label{readme.md_autotoc_md16107}
Type\+: {\ttfamily number}\textbackslash{} Default\+: {\ttfamily Infinity}

Maximum length of the returned string. If it exceeds this value before the stream ends, the promise will be rejected with a {\ttfamily get\+Stream.\+Max\+Buffer\+Error} error.\hypertarget{readme.md_autotoc_md16108}{}\doxysubsubsection{\texorpdfstring{get\+Stream.\+buffer(stream, options?)}{get\+Stream.\+buffer(stream, options?)}}\label{readme.md_autotoc_md16108}
Get the {\ttfamily stream} as a buffer.

It honors the {\ttfamily max\+Buffer} option as above, but it refers to byte length rather than string length.\hypertarget{readme.md_autotoc_md16109}{}\doxysubsubsection{\texorpdfstring{get\+Stream.\+array(stream, options?)}{get\+Stream.\+array(stream, options?)}}\label{readme.md_autotoc_md16109}
Get the {\ttfamily stream} as an array of values.

It honors both the {\ttfamily max\+Buffer} and {\ttfamily encoding} options. The behavior changes slightly based on the encoding chosen\+:


\begin{DoxyItemize}
\item When {\ttfamily encoding} is unset, it assumes an \href{https://nodesource.com/blog/understanding-object-streams/}{\texttt{ object mode stream}} and collects values emitted from {\ttfamily stream} unmodified. In this case {\ttfamily max\+Buffer} refers to the number of items in the array (not the sum of their sizes).
\item When {\ttfamily encoding} is set to {\ttfamily buffer}, it collects an array of buffers. {\ttfamily max\+Buffer} refers to the summed byte lengths of every buffer in the array.
\item When {\ttfamily encoding} is set to anything else, it collects an array of strings. {\ttfamily max\+Buffer} refers to the summed character lengths of every string in the array.
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md16110}{}\doxysubsection{\texorpdfstring{Errors}{Errors}}\label{readme.md_autotoc_md16110}
If the input stream emits an {\ttfamily error} event, the promise will be rejected with the error. The buffered data will be attached to the {\ttfamily buffered\+Data} property of the error.


\begin{DoxyCode}{0}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ try\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ await\ getStream(streamThatErrorsAtTheEnd('unicorn'));}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(error.bufferedData);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //=>\ 'unicorn'}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\})()}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md16111}{}\doxysubsection{\texorpdfstring{FAQ}{FAQ}}\label{readme.md_autotoc_md16111}
\hypertarget{readme.md_autotoc_md16112}{}\doxysubsubsection{\texorpdfstring{How is this different from \href{https://github.com/maxogden/concat-stream}{\texttt{ {\ttfamily concat-\/stream}}}?}{How is this different from \href{https://github.com/maxogden/concat-stream}{\texttt{ {\ttfamily concat-\/stream}}}?}}\label{readme.md_autotoc_md16112}
This module accepts a stream instead of being one and returns a promise instead of using a callback. The API is simpler and it only supports returning a string, buffer, or array. It doesn\textquotesingle{}t have a fragile type inference. You explicitly choose what you want. And it doesn\textquotesingle{}t depend on the huge {\ttfamily readable-\/stream} package.\hypertarget{readme.md_autotoc_md16113}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md16113}

\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus/get-stdin}{\texttt{ get-\/stdin}} -\/ Get stdin as a string or buffer
\end{DoxyItemize}

\DoxyHorRuler{0}


 {\bfseries{ \href{https://tidelift.com/subscription/pkg/npm-get-stream?utm_source=npm-get-stream&utm_medium=referral&utm_campaign=readme}{\texttt{ Get professional support for this package with a Tidelift subscription}} }} ~\newline
 \textsubscript{ Tidelift helps make open source sustainable for maintainers while giving companies~\newline
assurances about security, maintenance, and licensing for their dependencies. }  