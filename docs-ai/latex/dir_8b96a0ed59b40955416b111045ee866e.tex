\doxysection{node\+\_\+modules/mdast-\/util-\/to-\/hast Directory Reference}
\hypertarget{dir_8b96a0ed59b40955416b111045ee866e}{}\label{dir_8b96a0ed59b40955416b111045ee866e}\index{node\_modules/mdast-\/util-\/to-\/hast Directory Reference@{node\_modules/mdast-\/util-\/to-\/hast Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/syntax-tree/mdast-util-to-hast/actions}{\texttt{ }} \href{https://codecov.io/github/syntax-tree/mdast-util-to-hast}{\texttt{ }} \href{https://www.npmjs.com/package/mdast-util-to-hast}{\texttt{ }} \href{https://bundlejs.com/?q=mdast-util-to-hast}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/syntax-tree/unist/discussions}{\texttt{ }}

\href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}} utility to transform to \href{https://github.com/syntax-tree/hast}{\texttt{ hast}}.\hypertarget{readme.md_autotoc_md22702}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md22702}

\begin{DoxyItemize}
\item What is this?
\item When should I use this?
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)\`{}
\item \`{}default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)\`{}
\item \`{}default\+Handlers\`{}
\item \`{}to\+Hast(tree\mbox{[}, options\mbox{]})\`{}
\item \`{}\+Footnote\+Back\+Content\+Template\`{}
\item \`{}\+Footnote\+Back\+Label\+Template\`{}
\item \`{}\+Handler\`{}
\item \`{}\+Handlers\`{}
\item \doxylink{README.md_options}{\`{}\+Options\`{}}
\item \`{}\+Raw\`{}
\item \`{}\+State\`{}
\end{DoxyItemize}
\item \doxylink{README.md_examples}{Examples}
\begin{DoxyItemize}
\item Example\+: supporting HTML in markdown naïvely
\item Example\+: supporting HTML in markdown properly
\item Example\+: footnotes in languages other than English
\item Example\+: supporting custom nodes
\end{DoxyItemize}
\item Algorithm
\begin{DoxyItemize}
\item Default handling
\item Fields on nodes
\end{DoxyItemize}
\item CSS
\item Syntax tree
\begin{DoxyItemize}
\item Nodes
\end{DoxyItemize}
\item \doxylink{readme.md_types}{Types}
\item Compatibility
\item Security
\item Related
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22703}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md22703}
This package is a utility that takes an \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}} (markdown) syntax tree as input and turns it into a \href{https://github.com/syntax-tree/hast}{\texttt{ hast}} (HTML) syntax tree.\hypertarget{readme.md_autotoc_md22704}{}\doxysubsection{\texorpdfstring{When should I use this?}{When should I use this?}}\label{readme.md_autotoc_md22704}
This project is useful when you want to deal with ASTs and turn markdown to HTML.

The hast utility \href{https://github.com/syntax-tree/hast-util-to-mdast}{\texttt{ {\ttfamily hast-\/util-\/to-\/mdast}}} does the inverse of this utility. It turns HTML into markdown.

The remark plugin \href{https://github.com/remarkjs/remark-rehype}{\texttt{ {\ttfamily remark-\/rehype}}} wraps this utility to also turn markdown to HTML at a higher-\/level (easier) abstraction.\hypertarget{readme.md_autotoc_md22705}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md22705}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ mdast-\/util-\/to-\/hast}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'https://esm.sh/mdast-\/util-\/to-\/hast@13'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{toHast\}\ from\ 'https://esm.sh/mdast-\/util-\/to-\/hast@13?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22706}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md22706}
Say we have the following {\ttfamily example.\+md}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\#\ Hello\ **World**!}

\end{DoxyCode}


…and next to it a module {\ttfamily example.\+js}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{fs\}\ from\ 'node:fs/promises'}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{import\ \{fromMarkdown\}\ from\ 'mdast-\/util-\/from-\/markdown'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ markdown\ =\ String(await\ fs.readFile('example.md'))}
\DoxyCodeLine{const\ mdast\ =\ fromMarkdown(markdown)}
\DoxyCodeLine{const\ hast\ =\ toHast(mdast)}
\DoxyCodeLine{const\ html\ =\ toHtml(hast)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(html)}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<h2>Hello\ <strong>World</strong>!</h2>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22707}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md22707}
This package exports the identifiers \`{}default\+Footnote\+Back\+Content\`{}, \`{}default\+Footnote\+Back\+Label\`{}, \`{}default\+Handlers\`{}, and \`{}to\+Hast\`{}. There is no default export.\hypertarget{readme.md_autotoc_md22708}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)}}{{\ttfamily default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)}}}\label{readme.md_autotoc_md22708}
Generate the default content that Git\+Hub uses on backreferences.\hypertarget{readme.md_autotoc_md22709}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22709}

\begin{DoxyItemize}
\item {\ttfamily reference\+Index} ({\ttfamily number}) — index of the definition in the order that they are first referenced, 0-\/indexed
\item {\ttfamily rereference\+Index} ({\ttfamily number}) — index of calls to the same definition, 0-\/indexed
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22710}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22710}
Content ({\ttfamily Array\texorpdfstring{$<$}{<}Element\+Content\texorpdfstring{$>$}{>}}).\hypertarget{readme.md_autotoc_md22711}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)}}{{\ttfamily default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)}}}\label{readme.md_autotoc_md22711}
Generate the default label that Git\+Hub uses on backreferences.\hypertarget{readme.md_autotoc_md22712}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22712}

\begin{DoxyItemize}
\item {\ttfamily reference\+Index} ({\ttfamily number}) — index of the definition in the order that they are first referenced, 0-\/indexed
\item {\ttfamily rereference\+Index} ({\ttfamily number}) — index of calls to the same definition, 0-\/indexed
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22713}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22713}
Label ({\ttfamily string}).\hypertarget{readme.md_autotoc_md22714}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Handlers}}{{\ttfamily default\+Handlers}}}\label{readme.md_autotoc_md22714}
Default handlers for nodes (\`{}\+Handlers\`{}).\hypertarget{readme.md_autotoc_md22715}{}\doxysubsubsection{\texorpdfstring{{\ttfamily to\+Hast(tree\mbox{[}, options\mbox{]})}}{{\ttfamily to\+Hast(tree\mbox{[}, options\mbox{]})}}}\label{readme.md_autotoc_md22715}
Transform mdast to hast.\hypertarget{readme.md_autotoc_md22716}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22716}

\begin{DoxyItemize}
\item {\ttfamily tree} (\href{https://github.com/syntax-tree/mdast\#nodes}{\texttt{ {\ttfamily Mdast\+Node}}}) — mdast tree
\item {\ttfamily options} (\doxylink{README.md_options}{\`{}\+Options\`{}}, optional) — configuration
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22717}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22717}
hast tree (\href{https://github.com/syntax-tree/hast\#nodes}{\texttt{ {\ttfamily Hast\+Node}}}).\hypertarget{readme.md_autotoc_md22718}{}\doxysubsubsubsubsection{\texorpdfstring{Notes}{Notes}}\label{readme.md_autotoc_md22718}
\hypertarget{readme.md_autotoc_md22719}{}\doxysubsubsubsubsubsection{\texorpdfstring{HTML}{HTML}}\label{readme.md_autotoc_md22719}
Raw HTML is available in mdast as \href{https://github.com/syntax-tree/mdast\#html}{\texttt{ {\ttfamily html}}} nodes and can be embedded in hast as semistandard {\ttfamily raw} nodes. Most utilities ignore {\ttfamily raw} nodes but two notable ones don’t\+:


\begin{DoxyItemize}
\item \href{https://github.com/syntax-tree/hast-util-to-html}{\texttt{ {\ttfamily hast-\/util-\/to-\/html}}} also has an option {\ttfamily allow\+Dangerous\+Html} which will output the raw HTML. This is typically discouraged as noted by the option name but is useful if you completely trust authors
\item \href{https://github.com/syntax-tree/hast-util-raw}{\texttt{ {\ttfamily hast-\/util-\/raw}}} can handle the raw embedded HTML strings by parsing them into standard hast nodes ({\ttfamily element}, {\ttfamily text}, etc). This is a heavy task as it needs a full HTML parser, but it is the only way to support untrusted content
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22720}{}\doxysubsubsubsubsubsection{\texorpdfstring{Footnotes}{Footnotes}}\label{readme.md_autotoc_md22720}
Many options supported here relate to footnotes. Footnotes are not specified by Common\+Mark, which we follow by default. They are supported by Git\+Hub, so footnotes can be enabled in markdown with \href{https://github.com/syntax-tree/mdast-util-gfm}{\texttt{ {\ttfamily mdast-\/util-\/gfm}}}.

The options {\ttfamily footnote\+Back\+Label} and {\ttfamily footnote\+Label} define natural language that explains footnotes, which is hidden for sighted users but shown to assistive technology. When your page is not in English, you must define translated values.

Back references use ARIA attributes, but the section label itself uses a heading that is hidden with an {\ttfamily sr-\/only} class. To show it to sighted users, define different attributes in {\ttfamily footnote\+Label\+Properties}.\hypertarget{readme.md_autotoc_md22721}{}\doxysubsubsubsubsubsection{\texorpdfstring{Clobbering}{Clobbering}}\label{readme.md_autotoc_md22721}
Footnotes introduces a problem, as it links footnote calls to footnote definitions on the page through {\ttfamily id} attributes generated from user content, which results in DOM clobbering.

DOM clobbering is this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p\ id=x></p>}
\DoxyCodeLine{<script>alert(x)\ //\ \`{}x`\ now\ refers\ to\ the\ DOM\ \`{}p\#x`\ element</script>}

\end{DoxyCode}


Elements by their ID are made available by browsers on the {\ttfamily window} object, which is a security risk. Using a prefix solves this problem.

More information on how to handle clobbering and the prefix is explained in \href{https://github.com/rehypejs/rehype-sanitize\#example-headings-dom-clobbering}{\texttt{ Example\+: headings (DOM clobbering) in {\ttfamily rehype-\/sanitize}}}.\hypertarget{readme.md_autotoc_md22722}{}\doxysubsubsubsubsubsection{\texorpdfstring{Unknown nodes}{Unknown nodes}}\label{readme.md_autotoc_md22722}
Unknown nodes are nodes with a type that isn’t in {\ttfamily handlers} or {\ttfamily pass\+Through}. The default behavior for unknown nodes is\+:


\begin{DoxyItemize}
\item when the node has a {\ttfamily value} (and doesn’t have {\ttfamily data.\+h\+Name}, {\ttfamily data.\+h\+Properties}, or {\ttfamily data.\+h\+Children}, see later), create a hast {\ttfamily text} node
\item otherwise, create a {\ttfamily \texorpdfstring{$<$}{<}div\texorpdfstring{$>$}{>}} element (which could be changed with {\ttfamily data.\+h\+Name}), with its children mapped from mdast to hast as well
\end{DoxyItemize}

This behavior can be changed by passing an {\ttfamily unknown\+Handler}.\hypertarget{readme.md_autotoc_md22723}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Footnote\+Back\+Content\+Template}}{{\ttfamily Footnote\+Back\+Content\+Template}}}\label{readme.md_autotoc_md22723}
Generate content for the backreference dynamically.

For the following markdown\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Alpha[\string^micromark],\ bravo[\string^micromark],\ and\ charlie[\string^remark].}
\DoxyCodeLine{}
\DoxyCodeLine{[\string^remark]:\ things\ about\ remark}
\DoxyCodeLine{[\string^micromark]:\ things\ about\ micromark}

\end{DoxyCode}


This function will be called with\+:


\begin{DoxyItemize}
\item {\ttfamily 0} and {\ttfamily 0} for the backreference from {\ttfamily things about micromark} to {\ttfamily alpha}, as it is the first used definition, and the first call to it
\item {\ttfamily 0} and {\ttfamily 1} for the backreference from {\ttfamily things about micromark} to {\ttfamily bravo}, as it is the first used definition, and the second call to it
\item {\ttfamily 1} and {\ttfamily 0} for the backreference from {\ttfamily things about remark} to {\ttfamily charlie}, as it is the second used definition
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22724}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22724}

\begin{DoxyItemize}
\item {\ttfamily reference\+Index} ({\ttfamily number}) — index of the definition in the order that they are first referenced, 0-\/indexed
\item {\ttfamily rereference\+Index} ({\ttfamily number}) — index of calls to the same definition, 0-\/indexed
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22725}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22725}
Content for the backreference when linking back from definitions to their reference ({\ttfamily Array\texorpdfstring{$<$}{<}Element\+Content\texorpdfstring{$>$}{>}}, {\ttfamily Element\+Content}, or {\ttfamily string}).\hypertarget{readme.md_autotoc_md22726}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Footnote\+Back\+Label\+Template}}{{\ttfamily Footnote\+Back\+Label\+Template}}}\label{readme.md_autotoc_md22726}
Generate a back label dynamically.

For the following markdown\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Alpha[\string^micromark],\ bravo[\string^micromark],\ and\ charlie[\string^remark].}
\DoxyCodeLine{}
\DoxyCodeLine{[\string^remark]:\ things\ about\ remark}
\DoxyCodeLine{[\string^micromark]:\ things\ about\ micromark}

\end{DoxyCode}


This function will be called with\+:


\begin{DoxyItemize}
\item {\ttfamily 0} and {\ttfamily 0} for the backreference from {\ttfamily things about micromark} to {\ttfamily alpha}, as it is the first used definition, and the first call to it
\item {\ttfamily 0} and {\ttfamily 1} for the backreference from {\ttfamily things about micromark} to {\ttfamily bravo}, as it is the first used definition, and the second call to it
\item {\ttfamily 1} and {\ttfamily 0} for the backreference from {\ttfamily things about remark} to {\ttfamily charlie}, as it is the second used definition
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22727}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22727}

\begin{DoxyItemize}
\item {\ttfamily reference\+Index} ({\ttfamily number}) — index of the definition in the order that they are first referenced, 0-\/indexed
\item {\ttfamily rereference\+Index} ({\ttfamily number}) — index of calls to the same definition, 0-\/indexed
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22728}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22728}
Back label to use when linking back from definitions to their reference ({\ttfamily string}).\hypertarget{readme.md_autotoc_md22729}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Handler}}{{\ttfamily Handler}}}\label{readme.md_autotoc_md22729}
Handle a node (Type\+Script type).\hypertarget{readme.md_autotoc_md22730}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md22730}

\begin{DoxyItemize}
\item {\ttfamily state} (\`{}\+State\`{}) — info passed around
\item {\ttfamily node} (\href{https://github.com/syntax-tree/mdast\#nodes}{\texttt{ {\ttfamily Mdast\+Node}}}) — node to handle
\item {\ttfamily parent} (\href{https://github.com/syntax-tree/mdast\#nodes}{\texttt{ {\ttfamily Mdast\+Node \texorpdfstring{$\vert$}{|} undefined}}}) — parent of {\ttfamily node}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22731}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md22731}
Result (\href{https://github.com/syntax-tree/hast\#nodes}{\texttt{ {\ttfamily Array\texorpdfstring{$<$}{<}Hast\+Node\texorpdfstring{$>$}{>} \texorpdfstring{$\vert$}{|} Hast\+Node \texorpdfstring{$\vert$}{|} undefined}}}).\hypertarget{readme.md_autotoc_md22732}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Handlers}}{{\ttfamily Handlers}}}\label{readme.md_autotoc_md22732}
Handle nodes (Type\+Script type).\hypertarget{readme.md_autotoc_md22733}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md22733}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ Handlers\ =\ Partial<Record<Nodes['type'],\ Handler>>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22734}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Options}}{{\ttfamily Options}}}\label{readme.md_autotoc_md22734}
Configuration (Type\+Script type).\hypertarget{readme.md_autotoc_md22735}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md22735}

\begin{DoxyItemize}
\item {\ttfamily allow\+Dangerous\+Html} ({\ttfamily boolean}, default\+: {\ttfamily false}) — whether to persist raw HTML in markdown in the hast tree
\item {\ttfamily clobber\+Prefix} ({\ttfamily string}, default\+: `\textquotesingle{}user-\/content-\/'{\ttfamily ) — prefix to use before the}id{\ttfamily property on footnotes to prevent them from \texorpdfstring{$\ast$}{*}clobbering\texorpdfstring{$\ast$}{*} \texorpdfstring{$\ast$}{*}}file{\ttfamily (\mbox{[}}VFile{\ttfamily \mbox{]}\mbox{[}vfile\mbox{]}, optional) — corresponding virtual file representing the input document \texorpdfstring{$\ast$}{*}}footnote\+Back\+Content{\ttfamily  (\mbox{[}}Footnote\+Back\+Content\+Template{\ttfamily \mbox{]}\mbox{[}api-\/footnote-\/back-\/content-\/template\mbox{]} or}string{\ttfamily , default\+: \mbox{[}}default\+Footnote\+Back\+Content{\ttfamily \mbox{]}\mbox{[}api-\/default-\/footnote-\/back-\/content\mbox{]}) — content of the backreference back to references \texorpdfstring{$\ast$}{*}}footnote\+Back\+Label{\ttfamily  (\mbox{[}}Footnote\+Back\+Label\+Template{\ttfamily \mbox{]}\mbox{[}api-\/footnote-\/back-\/label-\/template\mbox{]} or}string{\ttfamily , default\+: \mbox{[}}default\+Footnote\+Back\+Label{\ttfamily \mbox{]}\mbox{[}api-\/default-\/footnote-\/back-\/label\mbox{]}) — label to describe the backreference back to references \texorpdfstring{$\ast$}{*}}footnote\+Label{\ttfamily (}string{\ttfamily , default\+:}\textquotesingle{}Footnotes\textquotesingle{}{\ttfamily ) — label to use for the footnotes section (affects screen readers) \texorpdfstring{$\ast$}{*}}footnote\+Label\+Properties{\ttfamily  (\mbox{[}}Properties{\ttfamily \mbox{]}\mbox{[}properties\mbox{]}, default\+:}\{class\+Name\+: \mbox{[}\textquotesingle{}sr-\/only\textquotesingle{}\mbox{]}\}{\ttfamily ) — properties to use on the footnote label (note that}id\+: \textquotesingle{}footnote-\/label\textquotesingle{}{\ttfamily is always added as footnote calls use it with}aria-\/describedby{\ttfamily to provide an accessible label) \texorpdfstring{$\ast$}{*}}footnote\+Label\+Tag\+Name{\ttfamily (}string{\ttfamily , default\+:}h2{\ttfamily ) — tag name to use for the footnote label \texorpdfstring{$\ast$}{*}}handlers{\ttfamily (\mbox{[}}Handlers{\ttfamily \mbox{]}\mbox{[}api-\/handlers\mbox{]}, optional) — extra handlers for nodes \texorpdfstring{$\ast$}{*}}pass\+Through{\ttfamily (}Array\texorpdfstring{$<$}{<}Nodes\mbox{[}\textquotesingle{}type\textquotesingle{}\mbox{]}\texorpdfstring{$>$}{>}{\ttfamily , optional) — list of custom mdast node types to pass through (keep) in hast (note that the node itself is passed, but eventual children are transformed) \texorpdfstring{$\ast$}{*}}unknown\+Handler{\ttfamily (\mbox{[}}Handler\`{}\mbox{]}api-\/handler, optional) — handle all unknown nodes
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22736}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Raw}}{{\ttfamily Raw}}}\label{readme.md_autotoc_md22736}
Raw string of HTML embedded into HTML AST (Type\+Script type).\hypertarget{readme.md_autotoc_md22737}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md22737}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ type\ \{Data,\ Literal\}\ from\ 'hast'}
\DoxyCodeLine{}
\DoxyCodeLine{interface\ Raw\ extends\ Literal\ \{}
\DoxyCodeLine{\ \ type:\ 'raw'}
\DoxyCodeLine{\ \ data?:\ RawData\ |\ undefined}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{interface\ RawData\ extends\ Data\ \{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22738}{}\doxysubsubsection{\texorpdfstring{{\ttfamily State}}{{\ttfamily State}}}\label{readme.md_autotoc_md22738}
Info passed around about the current state (Type\+Script type).\hypertarget{readme.md_autotoc_md22739}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md22739}

\begin{DoxyItemize}
\item {\ttfamily all} ({\ttfamily (node\+: Mdast\+Node) =\texorpdfstring{$>$}{>} Array\texorpdfstring{$<$}{<}Hast\+Node\texorpdfstring{$>$}{>}}) — transform the children of an mdast parent to hast
\item {\ttfamily apply\+Data} ({\ttfamily \texorpdfstring{$<$}{<}Type extends Hast\+Node\texorpdfstring{$>$}{>}(from\+: Mdast\+Node, to\+: Type) =\texorpdfstring{$>$}{>} Type \texorpdfstring{$\vert$}{|} Hast\+Element}) — honor the {\ttfamily data} of {\ttfamily from} and maybe generate an element instead of {\ttfamily to}
\item {\ttfamily definition\+By\+Id} ({\ttfamily Map\texorpdfstring{$<$}{<}string, Definition\texorpdfstring{$>$}{>}}) — definitions by their uppercased identifier
\item {\ttfamily footnote\+By\+Id} ({\ttfamily Map\texorpdfstring{$<$}{<}string, Footnote\+Definition\texorpdfstring{$>$}{>}}) — footnote definitions by their uppercased identifier
\item {\ttfamily footnote\+Counts} ({\ttfamily Map\texorpdfstring{$<$}{<}string, number\texorpdfstring{$>$}{>}}) — counts for how often the same footnote was called
\item {\ttfamily footnote\+Order} ({\ttfamily Array\texorpdfstring{$<$}{<}string\texorpdfstring{$>$}{>}}) — identifiers of order when footnote calls first appear in tree order
\item {\ttfamily handlers} (\`{}\+Handlers\`{}) — applied node handlers
\item {\ttfamily one} ({\ttfamily (node\+: Mdast\+Node, parent\+: Mdast\+Node \texorpdfstring{$\vert$}{|} undefined) =\texorpdfstring{$>$}{>} Hast\+Node \texorpdfstring{$\vert$}{|} Array\texorpdfstring{$<$}{<}Hast\+Node\texorpdfstring{$>$}{>} \texorpdfstring{$\vert$}{|} undefined}) — transform an mdast node to hast
\item {\ttfamily options} (\doxylink{README.md_options}{\`{}\+Options\`{}}) — configuration
\item {\ttfamily patch} ({\ttfamily (from\+: Mdast\+Node, to\+: Hast\+Node) =\texorpdfstring{$>$}{>} undefined})
\item {\ttfamily wrap} ({\ttfamily \texorpdfstring{$<$}{<}Type extends Hast\+Node\texorpdfstring{$>$}{>}(nodes\+: Array\texorpdfstring{$<$}{<}Type\texorpdfstring{$>$}{>}, loose?\+: boolean) =\texorpdfstring{$>$}{>} Array\texorpdfstring{$<$}{<}Type \texorpdfstring{$\vert$}{|} Hast\+Text\texorpdfstring{$>$}{>}}) — wrap {\ttfamily nodes} with line endings between each node, adds initial/final line endings when {\ttfamily loose}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22740}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{readme.md_autotoc_md22740}
\hypertarget{readme.md_autotoc_md22741}{}\doxysubsubsection{\texorpdfstring{Example\+: supporting HTML in markdown naïvely}{Example\+: supporting HTML in markdown naïvely}}\label{readme.md_autotoc_md22741}
If you completely trust authors (or plugins) and want to allow them to HTML {\itshape in} markdown, and the last utility has an {\ttfamily allow\+Dangerous\+Html} option as well (such as {\ttfamily hast-\/util-\/to-\/html}) you can pass {\ttfamily allow\+Dangerous\+Html} to this utility ({\ttfamily mdast-\/util-\/to-\/hast})\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{fromMarkdown\}\ from\ 'mdast-\/util-\/from-\/markdown'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ markdown\ =\ 'It\ <i>works</i>!\ <img\ onerror="{}alert(1)"{}>'}
\DoxyCodeLine{const\ mdast\ =\ fromMarkdown(markdown)}
\DoxyCodeLine{const\ hast\ =\ toHast(mdast,\ \{allowDangerousHtml:\ true\})}
\DoxyCodeLine{const\ html\ =\ toHtml(hast,\ \{allowDangerousHtml:\ true\})}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(html)}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>It\ <i>works</i>!\ <img\ onerror="{}alert(1)"{}></p>}

\end{DoxyCode}


\begin{quote}
⚠️ {\bfseries{Danger}}\+: observe that the XSS attack through the {\ttfamily onerror} attribute is still present. \end{quote}
\hypertarget{readme.md_autotoc_md22742}{}\doxysubsubsection{\texorpdfstring{Example\+: supporting HTML in markdown properly}{Example\+: supporting HTML in markdown properly}}\label{readme.md_autotoc_md22742}
If you do not trust the authors of the input markdown, or if you want to make sure that further utilities can see HTML embedded in markdown, use \href{https://github.com/syntax-tree/hast-util-raw}{\texttt{ {\ttfamily hast-\/util-\/raw}}}. The following example passes {\ttfamily allow\+Dangerous\+Html} to this utility ({\ttfamily mdast-\/util-\/to-\/hast}), then turns the raw embedded HTML into proper HTML nodes ({\ttfamily hast-\/util-\/raw}), and finally sanitizes the HTML by only allowing safe things ({\ttfamily hast-\/util-\/sanitize})\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{raw\}\ from\ 'hast-\/util-\/raw'}
\DoxyCodeLine{import\ \{sanitize\}\ from\ 'hast-\/util-\/sanitize'}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{import\ \{fromMarkdown\}\ from\ 'mdast-\/util-\/from-\/markdown'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ markdown\ =\ 'It\ <i>works</i>!\ <img\ onerror="{}alert(1)"{}>'}
\DoxyCodeLine{const\ mdast\ =\ fromMarkdown(markdown)}
\DoxyCodeLine{const\ hast\ =\ raw(toHast(mdast,\ \{allowDangerousHtml:\ true\}))}
\DoxyCodeLine{const\ safeHast\ =\ sanitize(hast)}
\DoxyCodeLine{const\ html\ =\ toHtml(safeHast)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(html)}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>It\ <i>works</i>!\ <img></p>}

\end{DoxyCode}


\begin{quote}
👉 {\bfseries{Note}}\+: observe that the XSS attack through the {\ttfamily onerror} attribute is no longer present. \end{quote}
\hypertarget{readme.md_autotoc_md22743}{}\doxysubsubsection{\texorpdfstring{Example\+: footnotes in languages other than English}{Example\+: footnotes in languages other than English}}\label{readme.md_autotoc_md22743}
If you know that the markdown is authored in a language other than English, and you’re using {\ttfamily micromark-\/extension-\/gfm} and {\ttfamily mdast-\/util-\/gfm} to match how Git\+Hub renders markdown, and you know that footnotes are (or can?) be used, you should translate the labels associated with them.

Let’s first set the stage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{import\ \{gfm\}\ from\ 'micromark-\/extension-\/gfm'}
\DoxyCodeLine{import\ \{fromMarkdown\}\ from\ 'mdast-\/util-\/from-\/markdown'}
\DoxyCodeLine{import\ \{gfmFromMarkdown\}\ from\ 'mdast-\/util-\/gfm'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ markdown\ =\ 'Bonjour[\string^1]\(\backslash\)n\(\backslash\)n[\string^1]:\ Monde!'}
\DoxyCodeLine{const\ mdast\ =\ fromMarkdown(markdown,\ \{}
\DoxyCodeLine{\ \ extensions:\ [gfm()],}
\DoxyCodeLine{\ \ mdastExtensions:\ [gfmFromMarkdown()]}
\DoxyCodeLine{\})}
\DoxyCodeLine{const\ hast\ =\ toHast(mdast)}
\DoxyCodeLine{const\ html\ =\ toHtml(hast)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(html)}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Bonjour<sup><a\ href="{}\#user-\/content-\/fn-\/1"{}\ id="{}user-\/content-\/fnref-\/1"{}\ data-\/footnote-\/ref\ aria-\/describedby="{}footnote-\/label"{}>1</a></sup></p>}
\DoxyCodeLine{<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Footnotes</h2>}
\DoxyCodeLine{<ol>}
\DoxyCodeLine{<li\ id="{}user-\/content-\/fn-\/1"{}>}
\DoxyCodeLine{<p>Monde!\ <a\ href="{}\#user-\/content-\/fnref-\/1"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Back\ to\ reference\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{</li>}
\DoxyCodeLine{</ol>}
\DoxyCodeLine{</section>}

\end{DoxyCode}


This is a mix of English and French that screen readers can’t handle nicely. Let’s say our program does know that the markdown is in French. In that case, it’s important to translate and define the labels relating to footnotes so that screen reader users can properly pronounce the page\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@@\ -\/9,7\ +9,16\ @@\ const\ mdast\ =\ fromMarkdown(markdown,\ \{}
\DoxyCodeLine{\ \ \ extensions:\ [gfm()],}
\DoxyCodeLine{\ \ \ mdastExtensions:\ [gfmFromMarkdown()]}
\DoxyCodeLine{\ \})}
\DoxyCodeLine{-\/const\ hast\ =\ toHast(mdast)}
\DoxyCodeLine{+const\ hast\ =\ toHast(mdast,\ \{}
\DoxyCodeLine{+\ \ footnoteLabel:\ 'Notes\ de\ bas\ de\ page',}
\DoxyCodeLine{+\ \ footnoteBackLabel(referenceIndex,\ rereferenceIndex)\ \{}
\DoxyCodeLine{+\ \ \ \ return\ (}
\DoxyCodeLine{+\ \ \ \ \ \ 'Retour\ à\ la\ référence\ '\ +}
\DoxyCodeLine{+\ \ \ \ \ \ (referenceIndex\ +\ 1)\ +}
\DoxyCodeLine{+\ \ \ \ \ \ (rereferenceIndex\ >\ 1\ ?\ '-\/'\ +\ rereferenceIndex\ :\ '')}
\DoxyCodeLine{+\ \ \ \ )}
\DoxyCodeLine{+\ \ \}}
\DoxyCodeLine{+\})}
\DoxyCodeLine{\ const\ html\ =\ toHtml(hast)}
\DoxyCodeLine{}
\DoxyCodeLine{\ console.log(html)}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} with the above patch applied yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@@\ -\/1,8\ +1,8\ @@}
\DoxyCodeLine{\ <p>Bonjour<sup><a\ href="{}\#user-\/content-\/fn-\/1"{}\ id="{}user-\/content-\/fnref-\/1"{}\ data-\/footnote-\/ref\ aria-\/describedby="{}footnote-\/label"{}>1</a></sup></p>}
\DoxyCodeLine{-\/<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Footnotes</h2>}
\DoxyCodeLine{+<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Notes\ de\ bas\ de\ page</h2>}
\DoxyCodeLine{\ <ol>}
\DoxyCodeLine{\ <li\ id="{}user-\/content-\/fn-\/1"{}>}
\DoxyCodeLine{-\/<p>Monde!\ <a\ href="{}\#user-\/content-\/fnref-\/1"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Back\ to\ reference\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{+<p>Monde!\ <a\ href="{}\#user-\/content-\/fnref-\/1"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Retour\ à\ la\ référence\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{\ </li>}
\DoxyCodeLine{\ </ol>}
\DoxyCodeLine{\ </section>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22744}{}\doxysubsubsection{\texorpdfstring{Example\+: supporting custom nodes}{Example\+: supporting custom nodes}}\label{readme.md_autotoc_md22744}
This project supports Common\+Mark and the GFM constructs (footnotes, strikethrough, tables) and the frontmatter constructs YAML and TOML. Support can be extended to other constructs in two ways\+: a) with handlers, b) through fields on nodes.

For example, when we represent a mark element in markdown and want to turn it into a {\ttfamily \texorpdfstring{$<$}{<}mark\texorpdfstring{$>$}{>}} element in HTML, we can use a handler\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ mdast\ =\ \{}
\DoxyCodeLine{\ \ type:\ 'paragraph',}
\DoxyCodeLine{\ \ children:\ [\{type:\ 'mark',\ children:\ [\{type:\ 'text',\ value:\ 'x'\}]\}]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ hast\ =\ toHast(mdast,\ \{}
\DoxyCodeLine{\ \ handlers:\ \{}
\DoxyCodeLine{\ \ \ \ mark(state,\ node)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ return\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ type:\ 'element',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ tagName:\ 'mark',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ properties:\ \{\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ children:\ state.all(node)}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(toHtml(hast))}

\end{DoxyCode}


We can do the same through certain fields on nodes\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{toHtml\}\ from\ 'hast-\/util-\/to-\/html'}
\DoxyCodeLine{import\ \{toHast\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ mdast\ =\ \{}
\DoxyCodeLine{\ \ type:\ 'paragraph',}
\DoxyCodeLine{\ \ children:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ type:\ 'mark',}
\DoxyCodeLine{\ \ \ \ \ \ children:\ [\{type:\ 'text',\ value:\ 'x'\}],}
\DoxyCodeLine{\ \ \ \ \ \ data:\ \{hName:\ 'mark'\}}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(toHtml(toHast(mdast)))}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22745}{}\doxysubsection{\texorpdfstring{Algorithm}{Algorithm}}\label{readme.md_autotoc_md22745}
This project by default handles Common\+Mark, GFM (footnotes, strikethrough, tables) and common frontmatter (YAML, TOML).

Existing handlers can be overwritten and handlers for more nodes can be added. It’s also possible to define how mdast is turned into hast through fields on nodes.\hypertarget{readme.md_autotoc_md22746}{}\doxysubsubsection{\texorpdfstring{Default handling}{Default handling}}\label{readme.md_autotoc_md22746}
The following table gives insight into what input turns into what output\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ mdast node }&\cellcolor{\tableheadbgcolor}\textbf{ markdown example }&\cellcolor{\tableheadbgcolor}\textbf{ hast node }&\cellcolor{\tableheadbgcolor}\textbf{ html example    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ mdast node }&\cellcolor{\tableheadbgcolor}\textbf{ markdown example }&\cellcolor{\tableheadbgcolor}\textbf{ hast node }&\cellcolor{\tableheadbgcolor}\textbf{ html example    }\\\cline{1-4}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#blockquote}{\texttt{ {\ttfamily blockquote}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{>\ A\ greater\ than…}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily blockquote})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<blockquote>}
\DoxyCodeLine{<p>A\ greater\ than…</p>}
\DoxyCodeLine{</blockquote>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#break}{\texttt{ {\ttfamily break}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{A\ backslash\(\backslash\)}
\DoxyCodeLine{before\ a\ line\ break…}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily br})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>A\ backslash<br>}
\DoxyCodeLine{before\ a\ line\ break…</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#code}{\texttt{ {\ttfamily code}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{\`{}\`{}\`{}js}
\DoxyCodeLine{backtick.fences('for\ blocks')}
\DoxyCodeLine{\`{}\`{}\`{}}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily pre} and {\ttfamily code})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<pre><code\ className="{}language-\/js"{}>backtick.fences('for\ blocks')}
\DoxyCodeLine{</code></pre>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#delete}{\texttt{ {\ttfamily delete}}} (GFM)

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Two\ \string~\string~tildes\string~\string~\ for\ delete.}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily del})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Two\ <del>tildes</del>\ for\ delete.</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#emphasis}{\texttt{ {\ttfamily emphasis}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Some\ *asterisks*\ for\ emphasis.}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily em})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Some\ <em>asterisks</em>\ for\ emphasis.</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#footnotereference}{\texttt{ {\ttfamily footnote\+Reference}}}, \href{https://github.com/syntax-tree/mdast\#footnotedefinition}{\texttt{ {\ttfamily footnote\+Definition}}} (GFM)

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{With\ a\ [\string^caret].}
\DoxyCodeLine{}
\DoxyCodeLine{[\string^caret]:\ Stuff}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily section}, {\ttfamily sup}, {\ttfamily a})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>With\ a\ <sup><a\ href="{}\#fn-\/caret"{}\ …>1</a></sup>.</p>…}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#heading}{\texttt{ {\ttfamily heading}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ One\ number\ sign…}
\DoxyCodeLine{\#\#\#\#\#\#\ Six\ number\ signs…}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily h1}…{\ttfamily h6})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<h1>One\ number\ sign…</h1>}
\DoxyCodeLine{<h6>Six\ number\ signs…</h6>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#html}{\texttt{ {\ttfamily html}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{<kbd>CMD+S</kbd>}

\end{DoxyCode}


&

Nothing (default), {\ttfamily raw} (when {\ttfamily allow\+Dangerous\+Html\+: true})

&

n/a

\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#image}{\texttt{ {\ttfamily image}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{![Alt\ text](/logo.png\ "{}title"{})}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily img})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><img\ src="{}/logo.png"{}\ alt="{}Alt\ text"{}\ title="{}title"{}></p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#imagereference}{\texttt{ {\ttfamily image\+Reference}}}, \href{https://github.com/syntax-tree/mdast\#definition}{\texttt{ {\ttfamily definition}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{![Alt\ text][logo]}
\DoxyCodeLine{}
\DoxyCodeLine{[logo]:\ /logo.png\ "{}title"{}}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily img})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><img\ src="{}/logo.png"{}\ alt="{}Alt\ text"{}\ title="{}title"{}></p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#inlinecode}{\texttt{ {\ttfamily inline\+Code}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Some\ \`{}backticks`\ for\ inline\ code.}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily code})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Some\ <code>backticks</code>\ for\ inline\ code.</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#link}{\texttt{ {\ttfamily link}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{[Example](https://example.com\ "{}title"{})}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily a})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><a\ href="{}https://example.com"{}\ title="{}title"{}>Example</a></p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#linkreference}{\texttt{ {\ttfamily link\+Reference}}}, \href{https://github.com/syntax-tree/mdast\#definition}{\texttt{ {\ttfamily definition}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{[Example][]}
\DoxyCodeLine{}
\DoxyCodeLine{[example]:\ https://example.com\ "{}title"{}}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily a})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><a\ href="{}https://example.com"{}\ title="{}title"{}>Example</a></p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#list}{\texttt{ {\ttfamily list}}}, \href{https://github.com/syntax-tree/mdast\#listitem}{\texttt{ {\ttfamily list\+Item}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{*\ asterisks\ for\ unordered\ items}
\DoxyCodeLine{}
\DoxyCodeLine{1.\ decimals\ and\ a\ dot\ for\ ordered\ items}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily li} and {\ttfamily ol} or {\ttfamily ul})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<ul>}
\DoxyCodeLine{<li>asterisks\ for\ unordered\ items</li>}
\DoxyCodeLine{</ul>}
\DoxyCodeLine{<ol>}
\DoxyCodeLine{<li>decimals\ and\ a\ dot\ for\ ordered\ items</li>}
\DoxyCodeLine{</ol>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#paragraph}{\texttt{ {\ttfamily paragraph}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Just\ some\ text…}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily p})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Just\ some\ text…</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#root}{\texttt{ {\ttfamily root}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Anything!}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#root}{\texttt{ {\ttfamily root}}}

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Anything!</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#strong}{\texttt{ {\ttfamily strong}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Two\ **asterisks**\ for\ strong.}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily strong})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Two\ <strong>asterisks</strong>\ for\ strong.</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#text}{\texttt{ {\ttfamily text}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Anything!}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#text}{\texttt{ {\ttfamily text}}}

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Anything!</p>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#table}{\texttt{ {\ttfamily table}}}, \href{https://github.com/syntax-tree/mdast\#tablerow}{\texttt{ {\ttfamily table\+Row}}}, \href{https://github.com/syntax-tree/mdast\#tablecell}{\texttt{ {\ttfamily table\+Cell}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{|\ Pipes\ |}
\DoxyCodeLine{|\ -\/-\/-\/-\/-\/\ |}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily table}, {\ttfamily thead}, {\ttfamily tbody}, {\ttfamily tr}, {\ttfamily td}, {\ttfamily th})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<table>}
\DoxyCodeLine{<thead>}
\DoxyCodeLine{<tr>}
\DoxyCodeLine{<th>Pipes</th>}
\DoxyCodeLine{</tr>}
\DoxyCodeLine{</thead>}
\DoxyCodeLine{</table>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#thematicbreak}{\texttt{ {\ttfamily thematic\+Break}}}

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{Three\ asterisks\ for\ a\ thematic\ break:}
\DoxyCodeLine{}
\DoxyCodeLine{***}

\end{DoxyCode}


&

\href{https://github.com/syntax-tree/hast\#element}{\texttt{ {\ttfamily element}}} ({\ttfamily hr})

&


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Three\ asterisks\ for\ a\ thematic\ break:</p>}
\DoxyCodeLine{<hr>}

\end{DoxyCode}


\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

{\ttfamily toml} (frontmatter)

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{+++}
\DoxyCodeLine{fenced\ =\ true}
\DoxyCodeLine{+++}

\end{DoxyCode}


&

Nothing

&

n/a

\\\cline{1-4}
\cellcolor{\tableheadbgcolor}\textbf{ 

\href{https://github.com/syntax-tree/mdast\#yaml}{\texttt{ {\ttfamily yaml}}} (frontmatter)

}&


\begin{DoxyCode}{0}
\DoxyCodeLine{-\/-\/-\/}
\DoxyCodeLine{fenced:\ yes}
\DoxyCodeLine{-\/-\/-\/}

\end{DoxyCode}


&

Nothing

&

n/a

\\\cline{1-4}
\end{longtabu}


\begin{quote}
👉 {\bfseries{Note}}\+: GFM prescribes that the obsolete {\ttfamily align} attribute on {\ttfamily td} and {\ttfamily th} elements is used. To use {\ttfamily style} attributes instead of obsolete features, combine this utility with \href{https://github.com/mapbox/hast-util-table-cell-style}{\texttt{ {\ttfamily @mapbox/hast-\/util-\/table-\/cell-\/style}}}. \end{quote}


\begin{quote}
🧑‍🏫 {\bfseries{Info}}\+: this project is concerned with turning one syntax tree into another. It does not deal with markdown syntax or HTML syntax. The preceding examples are illustrative rather than authoritative or exhaustive. \end{quote}
\hypertarget{readme.md_autotoc_md22747}{}\doxysubsubsection{\texorpdfstring{Fields on nodes}{Fields on nodes}}\label{readme.md_autotoc_md22747}
A frequent problem arises when having to turn one syntax tree into another. As the original tree (in this case, mdast for markdown) is in some cases limited compared to the destination (in this case, hast for HTML) tree, is it possible to provide more info in the original to define what the result will be in the destination? This is possible by defining data on mdast nodes, which this utility will read as instructions on what hast nodes to create.

An example is math, which is a nonstandard markdown extension, that this utility doesn’t understand. To solve this, {\ttfamily mdast-\/util-\/math} defines instructions on mdast nodes that this plugin does understand because they define a certain hast structure.

The following fields can be used\+:


\begin{DoxyItemize}
\item {\ttfamily node.\+data.\+h\+Name} — define the element’s tag name
\item {\ttfamily node.\+data.\+h\+Properties} — define extra properties to use
\item {\ttfamily node.\+data.\+h\+Children} — define hast children to use
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22748}{}\doxysubsubsubsubsubsection{\texorpdfstring{{\ttfamily h\+Name}}{{\ttfamily h\+Name}}}\label{readme.md_autotoc_md22748}
{\ttfamily node.\+data.\+h\+Name} sets the tag name of an element. The following \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'strong',}
\DoxyCodeLine{\ \ data:\ \{hName:\ 'b'\},}
\DoxyCodeLine{\ \ children:\ [\{type:\ 'text',\ value:\ 'Alpha'\}]}
\DoxyCodeLine{\}}

\end{DoxyCode}


…yields (\href{https://github.com/syntax-tree/hast}{\texttt{ hast}})\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'element',}
\DoxyCodeLine{\ \ tagName:\ 'b',}
\DoxyCodeLine{\ \ properties:\ \{\},}
\DoxyCodeLine{\ \ children:\ [\{type:\ 'text',\ value:\ 'Alpha'\}]}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22749}{}\doxysubsubsubsubsubsection{\texorpdfstring{{\ttfamily h\+Properties}}{{\ttfamily h\+Properties}}}\label{readme.md_autotoc_md22749}
{\ttfamily node.\+data.\+h\+Properties} sets the properties of an element. The following \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'image',}
\DoxyCodeLine{\ \ src:\ 'circle.svg',}
\DoxyCodeLine{\ \ alt:\ 'Big\ red\ circle\ on\ a\ black\ background',}
\DoxyCodeLine{\ \ data:\ \{hProperties:\ \{className:\ ['responsive']\}\}}
\DoxyCodeLine{\}}

\end{DoxyCode}


…yields (\href{https://github.com/syntax-tree/hast}{\texttt{ hast}})\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'element',}
\DoxyCodeLine{\ \ tagName:\ 'img',}
\DoxyCodeLine{\ \ properties:\ \{}
\DoxyCodeLine{\ \ \ \ src:\ 'circle.svg',}
\DoxyCodeLine{\ \ \ \ alt:\ 'Big\ red\ circle\ on\ a\ black\ background',}
\DoxyCodeLine{\ \ \ \ className:\ ['responsive']}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ children:\ []}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22750}{}\doxysubsubsubsubsubsection{\texorpdfstring{{\ttfamily h\+Children}}{{\ttfamily h\+Children}}}\label{readme.md_autotoc_md22750}
{\ttfamily node.\+data.\+h\+Children} sets the children of an element. The following \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'code',}
\DoxyCodeLine{\ \ lang:\ 'js',}
\DoxyCodeLine{\ \ data:\ \{}
\DoxyCodeLine{\ \ \ \ hChildren:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ type:\ 'element',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ tagName:\ 'span',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ properties:\ \{className:\ ['hljs-\/meta']\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ children:\ [\{type:\ 'text',\ value:\ '"{}use\ strict"{}'\}]}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{type:\ 'text',\ value:\ ';'\}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ value:\ '"{}use\ strict"{};'}
\DoxyCodeLine{\}}

\end{DoxyCode}


…yields (\href{https://github.com/syntax-tree/hast}{\texttt{ hast}})\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ type:\ 'element',}
\DoxyCodeLine{\ \ tagName:\ 'pre',}
\DoxyCodeLine{\ \ properties:\ \{\},}
\DoxyCodeLine{\ \ children:\ [\{}
\DoxyCodeLine{\ \ \ \ type:\ 'element',}
\DoxyCodeLine{\ \ \ \ tagName:\ 'code',}
\DoxyCodeLine{\ \ \ \ properties:\ \{className:\ ['language-\/js']\},}
\DoxyCodeLine{\ \ \ \ children:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ type:\ 'element',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ tagName:\ 'span',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ properties:\ \{className:\ ['hljs-\/meta']\},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ children:\ [\{type:\ 'text',\ value:\ '"{}use\ strict"{}'\}]}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{type:\ 'text',\ value:\ ';'\}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\ \ \}]}
\DoxyCodeLine{\}}

\end{DoxyCode}


\begin{quote}
👉 {\bfseries{Note}}\+: the {\ttfamily pre} and {\ttfamily language-\/js} class are normal {\ttfamily mdast-\/util-\/to-\/hast} functionality. \end{quote}
\hypertarget{readme.md_autotoc_md22751}{}\doxysubsection{\texorpdfstring{CSS}{CSS}}\label{readme.md_autotoc_md22751}
Assuming you know how to use (semantic) HTML and CSS, then it should generally be straightforward to style the HTML produced by this plugin. With CSS, you can get creative and style the results as you please.

Some semistandard features, notably GFMs tasklists and footnotes, generate HTML that be unintuitive, as it matches exactly what Git\+Hub produces for their website. There is a project, \href{https://github.com/sindresorhus/github-markdown-css}{\texttt{ {\ttfamily sindresorhus/github-\/markdown-\/css}}}, that exposes the stylesheet that Git\+Hub uses for rendered markdown, which might either be inspirational for more complex features, or can be used as-\/is to exactly match how Git\+Hub styles rendered markdown.

The following CSS is needed to make footnotes look a bit like Git\+Hub\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ Style\ the\ footnotes\ section.\ */}
\DoxyCodeLine{.footnotes\ \{}
\DoxyCodeLine{\ \ font-\/size:\ smaller;}
\DoxyCodeLine{\ \ color:\ \#8b949e;}
\DoxyCodeLine{\ \ border-\/top:\ 1px\ solid\ \#30363d;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ Hide\ the\ section\ label\ for\ visual\ users.\ */}
\DoxyCodeLine{.sr-\/only\ \{}
\DoxyCodeLine{\ \ position:\ absolute;}
\DoxyCodeLine{\ \ width:\ 1px;}
\DoxyCodeLine{\ \ height:\ 1px;}
\DoxyCodeLine{\ \ padding:\ 0;}
\DoxyCodeLine{\ \ overflow:\ hidden;}
\DoxyCodeLine{\ \ clip:\ rect(0,\ 0,\ 0,\ 0);}
\DoxyCodeLine{\ \ word-\/wrap:\ normal;}
\DoxyCodeLine{\ \ border:\ 0;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ Place\ \`{}[`\ and\ \`{}]`\ around\ footnote\ calls.\ */}
\DoxyCodeLine{[data-\/footnote-\/ref]::before\ \{}
\DoxyCodeLine{\ \ content:\ '[';}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{[data-\/footnote-\/ref]::after\ \{}
\DoxyCodeLine{\ \ content:\ ']';}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22752}{}\doxysubsection{\texorpdfstring{Syntax tree}{Syntax tree}}\label{readme.md_autotoc_md22752}
The following interfaces are added to {\bfseries{\href{https://github.com/syntax-tree/hast}{\texttt{ hast}}}} by this utility.\hypertarget{readme.md_autotoc_md22753}{}\doxysubsubsection{\texorpdfstring{Nodes}{Nodes}}\label{readme.md_autotoc_md22753}
\hypertarget{readme.md_autotoc_md22754}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily Raw}}{{\ttfamily Raw}}}\label{readme.md_autotoc_md22754}

\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{interface\ }Raw\ <:\ Literal\ \{}
\DoxyCodeLine{\ \ \mbox{\hyperlink{namespacescreenshot__utils_abcb4507a099984f52aec6adcfef39440}{type}}:\ \textcolor{stringliteral}{'raw'}}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{Raw}} ({\bfseries{\href{https://github.com/syntax-tree/hast\#literal}{\texttt{ Literal}}}}) represents a string if raw HTML inside hast. Raw nodes are typically ignored but are handled by \href{https://github.com/syntax-tree/hast-util-to-html}{\texttt{ {\ttfamily hast-\/util-\/to-\/html}}} and \href{https://github.com/syntax-tree/hast-util-raw}{\texttt{ {\ttfamily hast-\/util-\/raw}}}.\hypertarget{readme.md_autotoc_md22755}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md22755}
This package is fully typed with \href{https://www.typescriptlang.org}{\texttt{ Type\+Script}}. It exports the \`{}\+Footnote\+Back\+Content\+Template\`{}, \`{}\+Footnote\+Back\+Label\+Template\`{}, \`{}\+Handler\`{}, \`{}\+Handlers\`{}, \doxylink{README.md_options}{\`{}\+Options\`{}}, \`{}\+Raw\`{}, and \`{}\+State\`{} types.

It also registers the {\ttfamily Raw} node type with {\ttfamily @types/hast}. If you’re working with the syntax tree (and you pass {\ttfamily allow\+Dangerous\+Html\+: true}), make sure to import this utility somewhere in your types, as that registers the new node type in the tree.


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @typedef\ \{import('mdast-\/util-\/to-\/hast')\}}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{visit\}\ from\ 'unist-\/util-\/visit'}
\DoxyCodeLine{}
\DoxyCodeLine{/**\ @type\ \{import('hast').Root\}\ */}
\DoxyCodeLine{const\ tree\ =\ \{\ /*\ …\ */\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{visit(tree,\ function\ (node)\ \{}
\DoxyCodeLine{\ \ //\ \`{}node`\ can\ now\ be\ \`{}raw`.}
\DoxyCodeLine{\})}

\end{DoxyCode}


Finally, it also registers the {\ttfamily h\+Children}, {\ttfamily h\+Name}, and {\ttfamily h\+Properties} fields on {\ttfamily Data} of {\ttfamily @types/mdast}. If you’re working with the syntax tree, make sure to import this utility somewhere in your types, as that registers the data fields in the tree.


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @typedef\ \{import('mdast-\/util-\/to-\/hast')\}}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{visit\}\ from\ 'unist-\/util-\/visit'}
\DoxyCodeLine{}
\DoxyCodeLine{/**\ @type\ \{import('hast').Root\}\ */}
\DoxyCodeLine{const\ tree\ =\ \{\ /*\ …\ */\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(tree.data?.hName)\ //\ Types\ as\ \`{}string\ |\ undefined`.}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22756}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md22756}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily mdast-\/util-\/to-\/hast@\texorpdfstring{$^\wedge$}{\string^}13}, compatible with Node.\+js 16.\hypertarget{readme.md_autotoc_md22757}{}\doxysubsection{\texorpdfstring{Security}{Security}}\label{readme.md_autotoc_md22757}
Use of {\ttfamily mdast-\/util-\/to-\/hast} can open you up to a \href{https://en.wikipedia.org/wiki/Cross-site_scripting}{\texttt{ cross-\/site scripting (XSS)}} attack. Embedded hast properties ({\ttfamily h\+Name}, {\ttfamily h\+Properties}, {\ttfamily h\+Children}), custom handlers, and the {\ttfamily allow\+Dangerous\+Html} option all provide openings.

The following example shows how a script is injected where a benign code block is expected with embedded hast properties\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ code\ =\ \{type:\ 'code',\ value:\ 'alert(1)'\}}
\DoxyCodeLine{}
\DoxyCodeLine{code.data\ =\ \{hName:\ 'script'\}}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script>alert(1)</script>}

\end{DoxyCode}


The following example shows how an image is changed to fail loading and therefore run code in a browser.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ image\ =\ \{type:\ 'image',\ url:\ 'existing.png'\}}
\DoxyCodeLine{}
\DoxyCodeLine{image.data\ =\ \{hProperties:\ \{src:\ 'missing',\ onError:\ 'alert(2)'\}\}}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<img\ src="{}missing"{}\ onerror="{}alert(2)"{}>}

\end{DoxyCode}


The following example shows the default handling of embedded HTML\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Hello}
\DoxyCodeLine{}
\DoxyCodeLine{<script>alert(3)</script>}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<h1>Hello</h1>}

\end{DoxyCode}


Passing {\ttfamily allow\+Dangerous\+Html\+: true} to {\ttfamily mdast-\/util-\/to-\/hast} is typically still not enough to run unsafe code\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<h1>Hello</h1>}
\DoxyCodeLine{\&\#x3C;script>alert(3)\&\#x3C;/script>}

\end{DoxyCode}


If {\ttfamily allow\+Dangerous\+Html\+: true} is also given to {\ttfamily hast-\/util-\/to-\/html} (or {\ttfamily rehype-\/stringify}), the unsafe code runs\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<h1>Hello</h1>}
\DoxyCodeLine{<script>alert(3)</script>}

\end{DoxyCode}


Use \href{https://github.com/syntax-tree/hast-util-sanitize}{\texttt{ {\ttfamily hast-\/util-\/sanitize}}} to make the hast tree safe.\hypertarget{readme.md_autotoc_md22758}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md22758}

\begin{DoxyItemize}
\item \href{https://github.com/syntax-tree/hast-util-to-mdast}{\texttt{ {\ttfamily hast-\/util-\/to-\/mdast}}} — transform hast to mdast
\item \href{https://github.com/syntax-tree/hast-util-to-xast}{\texttt{ {\ttfamily hast-\/util-\/to-\/xast}}} — transform hast to xast
\item \href{https://github.com/syntax-tree/hast-util-sanitize}{\texttt{ {\ttfamily hast-\/util-\/sanitize}}} — sanitize hast nodes
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md22759}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md22759}
See \href{https://github.com/syntax-tree/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md} in {\ttfamily syntax-\/tree/.github}}} for ways to get started. See \href{https://github.com/syntax-tree/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/syntax-tree/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md22760}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md22760}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} © \href{https://wooorm.com}{\texttt{ Titus Wormer}} 