\doxysection{node\+\_\+modules/parse-\/imports Directory Reference}
\hypertarget{dir_559e63f335b80494265b60bc55842341}{}\label{dir_559e63f335b80494265b60bc55842341}\index{node\_modules/parse-\/imports Directory Reference@{node\_modules/parse-\/imports Directory Reference}}


\doxysubsection{Detailed Description}
\doxysubsection*{parse-\/imports }

 \href{https://npmjs.org/package/parse-imports}{\texttt{  }} \href{https://github.com/TomerAberbach/parse-imports/actions}{\texttt{  }} \href{https://github.com/sponsors/TomerAberbach}{\texttt{  }} 

 A blazing fast ES module imports parser. \hypertarget{readme.md_autotoc_md25596}{}\doxysubsubsection{\texorpdfstring{Features}{Features}}\label{readme.md_autotoc_md25596}

\begin{DoxyItemize}
\item Uses the superb WASM-\/based \href{https://github.com/guybedford/es-module-lexer}{\texttt{ {\ttfamily es-\/module-\/lexer}}} under the hood
\item Identifies module specifier types (e.\+g. relative file import, package import, builtin import, etc.)
\item Unescapes module specifier escape sequences
\item Collects default, named, and namespace imports
\item Works with dynamic imports
\item Resolves module specifier paths via {\ttfamily require.\+resolve}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md25597}{}\doxysubsubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md25597}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ i\ parse-\/imports}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md25598}{}\doxysubsubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md25598}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ parseImports\ \}\ from\ 'parse-\/imports'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ code\ =\ \`{}}
\DoxyCodeLine{\ \ import\ a\ from\ 'b'}
\DoxyCodeLine{\ \ import\ *\ as\ c\ from\ './d'}
\DoxyCodeLine{\ \ import\ \{\ e\ as\ f,\ g\ as\ h,\ i\ \}\ from\ '/j'}
\DoxyCodeLine{\ \ import\ k,\ \{\ l\ as\ m\ \}\ from\ 'n'}
\DoxyCodeLine{\ \ import\ o,\ *\ as\ p\ from\ "{}./q"{}}
\DoxyCodeLine{\ \ import\ r,\ \{\ s\ as\ t,\ u\ \}\ from\ "{}/v"{}}
\DoxyCodeLine{\ \ import\ fs\ from\ 'fs'}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ ;(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ await\ import("{}w"{})}
\DoxyCodeLine{\ \ \ \ await\ import("{}x"{}\ +\ "{}y"{})}
\DoxyCodeLine{\ \ \})()}
\DoxyCodeLine{\`{}}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Lazily\ iterate\ over\ iterable\ of\ imports}
\DoxyCodeLine{for\ (const\ \$import\ of\ await\ parseImports(code))\ \{}
\DoxyCodeLine{\ \ console.log(\$import)}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Or\ get\ as\ an\ array\ of\ imports}
\DoxyCodeLine{const\ imports\ =\ [...(await\ parseImports(code))]}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(imports[0])}
\DoxyCodeLine{//=>}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ startIndex:\ 3,}
\DoxyCodeLine{//\ \ \ endIndex:\ 20,}
\DoxyCodeLine{//\ \ \ isDynamicImport:\ false,}
\DoxyCodeLine{//\ \ \ moduleSpecifier:\ \{}
\DoxyCodeLine{//\ \ \ \ \ type:\ 'package',}
\DoxyCodeLine{//\ \ \ \ \ startIndex:\ 17,}
\DoxyCodeLine{//\ \ \ \ \ endIndex:\ 20,}
\DoxyCodeLine{//\ \ \ \ \ isConstant:\ true,}
\DoxyCodeLine{//\ \ \ \ \ code:\ \`{}'b'`,}
\DoxyCodeLine{//\ \ \ \ \ value:\ 'b',}
\DoxyCodeLine{//\ \ \ \ \ resolved:\ undefined}
\DoxyCodeLine{//\ \ \ \},}
\DoxyCodeLine{//\ \ \ importClause:\ \{}
\DoxyCodeLine{//\ \ \ \ \ default:\ 'a',}
\DoxyCodeLine{//\ \ \ \ \ named:\ [],}
\DoxyCodeLine{//\ \ \ \ \ namespace:\ undefined}
\DoxyCodeLine{//\ \ \ \}}
\DoxyCodeLine{//\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(imports[1])}
\DoxyCodeLine{//=>}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ startIndex:\ 23,}
\DoxyCodeLine{//\ \ \ endIndex:\ 47,}
\DoxyCodeLine{//\ \ \ isDynamicImport:\ false,}
\DoxyCodeLine{//\ \ \ moduleSpecifier:\ \{}
\DoxyCodeLine{//\ \ \ \ \ type:\ 'relative',}
\DoxyCodeLine{//\ \ \ \ \ startIndex:\ 42,}
\DoxyCodeLine{//\ \ \ \ \ endIndex:\ 47,}
\DoxyCodeLine{//\ \ \ \ \ isConstant:\ true,}
\DoxyCodeLine{//\ \ \ \ \ code:\ \`{}'./d'`,}
\DoxyCodeLine{//\ \ \ \ \ value:\ './d',}
\DoxyCodeLine{//\ \ \ \ \ resolved:\ undefined}
\DoxyCodeLine{//\ \ \ \},}
\DoxyCodeLine{//\ \ \ importClause:\ \{}
\DoxyCodeLine{//\ \ \ \ \ default:\ undefined,}
\DoxyCodeLine{//\ \ \ \ \ named:\ [],}
\DoxyCodeLine{//\ \ \ \ \ namespace:\ 'c'}
\DoxyCodeLine{//\ \ \ \}}
\DoxyCodeLine{//\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(imports[5])}
\DoxyCodeLine{//=>}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ startIndex:\ 153,}
\DoxyCodeLine{//\ \ \ endIndex:\ 186,}
\DoxyCodeLine{//\ \ \ isDynamicImport:\ false,}
\DoxyCodeLine{//\ \ \ moduleSpecifier:\ \{}
\DoxyCodeLine{//\ \ \ \ \ type:\ 'absolute',}
\DoxyCodeLine{//\ \ \ \ \ startIndex:\ 182,}
\DoxyCodeLine{//\ \ \ \ \ endIndex:\ 186,}
\DoxyCodeLine{//\ \ \ \ \ isConstant:\ true,}
\DoxyCodeLine{//\ \ \ \ \ code:\ '"{}/v"{}',}
\DoxyCodeLine{//\ \ \ \ \ value:\ '/v',}
\DoxyCodeLine{//\ \ \ \ \ resolved:\ undefined}
\DoxyCodeLine{//\ \ \ \},}
\DoxyCodeLine{//\ \ \ importClause:\ \{}
\DoxyCodeLine{//\ \ \ \ \ default:\ 'r',}
\DoxyCodeLine{//\ \ \ \ \ named:\ [}
\DoxyCodeLine{//\ \ \ \ \ \ \ \{\ specifier:\ 's',\ binding:\ 't'\ \},}
\DoxyCodeLine{//\ \ \ \ \ \ \ \{\ specifier:\ 'u',\ binding:\ 'u'\ \}}
\DoxyCodeLine{//\ \ \ \ \ ],}
\DoxyCodeLine{//\ \ \ \ \ namespace:\ undefined}
\DoxyCodeLine{//\ \ \ \}}
\DoxyCodeLine{//\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(imports[7])}
\DoxyCodeLine{//=>}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ startIndex:\ 238,}
\DoxyCodeLine{//\ \ \ endIndex:\ 249,}
\DoxyCodeLine{//\ \ \ isDynamicImport:\ true,}
\DoxyCodeLine{//\ \ \ moduleSpecifier:\ \{}
\DoxyCodeLine{//\ \ \ \ \ type:\ 'package',}
\DoxyCodeLine{//\ \ \ \ \ startIndex:\ 245,}
\DoxyCodeLine{//\ \ \ \ \ endIndex:\ 248,}
\DoxyCodeLine{//\ \ \ \ \ isConstant:\ true,}
\DoxyCodeLine{//\ \ \ \ \ code:\ '"{}w"{}',}
\DoxyCodeLine{//\ \ \ \ \ value:\ 'w',}
\DoxyCodeLine{//\ \ \ \ \ resolved:\ undefined}
\DoxyCodeLine{//\ \ \ \},}
\DoxyCodeLine{//\ \ \ importClause:\ undefined}
\DoxyCodeLine{//\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(imports[8])}
\DoxyCodeLine{//=>}
\DoxyCodeLine{//\ \{}
\DoxyCodeLine{//\ \ \ startIndex:\ 260,}
\DoxyCodeLine{//\ \ \ endIndex:\ 277,}
\DoxyCodeLine{//\ \ \ isDynamicImport:\ true,}
\DoxyCodeLine{//\ \ \ moduleSpecifier:\ \{}
\DoxyCodeLine{//\ \ \ \ \ type:\ 'unknown',}
\DoxyCodeLine{//\ \ \ \ \ startIndex:\ 267,}
\DoxyCodeLine{//\ \ \ \ \ endIndex:\ 276,}
\DoxyCodeLine{//\ \ \ \ \ isConstant:\ false,}
\DoxyCodeLine{//\ \ \ \ \ code:\ '"{}x"{}\ +\ "{}y"{}',}
\DoxyCodeLine{//\ \ \ \ \ value:\ undefined,}
\DoxyCodeLine{//\ \ \ \ \ resolved:\ undefined}
\DoxyCodeLine{//\ \ \ \},}
\DoxyCodeLine{//\ \ \ importClause:\ undefined}
\DoxyCodeLine{//\ \}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md25599}{}\doxysubsubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md25599}
Use {\ttfamily parse\+Imports} when you\textquotesingle{}re able to await a {\ttfamily Promise} result and {\ttfamily parse\+Imports\+Sync} otherwise.

\begin{DoxyImportant}{Important}
~\newline
 You can only call {\ttfamily parse\+Imports\+Sync} once the WASM has loaded. You can be sure this has happened by awaiting the exported {\ttfamily wasm\+Load\+Promise}.
\end{DoxyImportant}
See the \href{./src/index.d.ts}{\texttt{ type definitions}} for details.\hypertarget{readme.md_autotoc_md25600}{}\doxysubsubsubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md25600}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ ModuleSpecifierType\ =}
\DoxyCodeLine{\ \ |\ 'invalid'}
\DoxyCodeLine{\ \ |\ 'absolute'}
\DoxyCodeLine{\ \ |\ 'relative'}
\DoxyCodeLine{\ \ |\ 'builtin'}
\DoxyCodeLine{\ \ |\ 'package'}
\DoxyCodeLine{\ \ |\ 'unknown'}
\DoxyCodeLine{}
\DoxyCodeLine{type\ Import\ =\ \{}
\DoxyCodeLine{\ \ startIndex:\ number}
\DoxyCodeLine{\ \ endIndex:\ number}
\DoxyCodeLine{\ \ isDynamicImport:\ boolean}
\DoxyCodeLine{\ \ moduleSpecifier:\ \{}
\DoxyCodeLine{\ \ \ \ type:\ ModuleSpecifierType}
\DoxyCodeLine{\ \ \ \ startIndex:\ number}
\DoxyCodeLine{\ \ \ \ endIndex:\ number}
\DoxyCodeLine{\ \ \ \ isConstant:\ boolean}
\DoxyCodeLine{\ \ \ \ code:\ string}
\DoxyCodeLine{\ \ \ \ value?:\ string}
\DoxyCodeLine{\ \ \ \ resolved?:\ string}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ importClause?:\ \{}
\DoxyCodeLine{\ \ \ \ default?:\ string}
\DoxyCodeLine{\ \ \ \ named:\ string[]}
\DoxyCodeLine{\ \ \ \ namespace?:\ string}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md25601}{}\doxysubsubsubsubsection{\texorpdfstring{{\ttfamily Import}}{{\ttfamily Import}}}\label{readme.md_autotoc_md25601}
{\ttfamily code.\+substring(start\+Index, end\+Index)} returns the full import statement or expression. {\ttfamily code.\+substring(module\+Specifier.\+start\+Index, module\+Specifier.\+end\+Index)} returns the module specifier including quotes.

{\ttfamily module\+Specifier.\+is\+Constant} is {\ttfamily true} when the import is not a dynamic import ({\ttfamily is\+Dynamic\+Import} is {\ttfamily false}), or when the import is a dynamic import where the specifier is a simple string literal (e.\+g. `import(\textquotesingle{}fs'){\ttfamily ,}import("{}fs"{}){\ttfamily , }{\ttfamily import(}fs{\ttfamily )}\`{}).

If {\ttfamily module\+Specifier.\+is\+Constant} is {\ttfamily false}, then {\ttfamily module\+Specifier.\+type} is `\textquotesingle{}unknown'\`{}. Otherwise, it is set according to the following rules\+:


\begin{DoxyItemize}
\item `\textquotesingle{}invalid'{\ttfamily if the module specifier is the empty string -\/}\textquotesingle{}absolute\textquotesingle{}{\ttfamily if the module specifier is an absolute file path -\/}\textquotesingle{}relative\textquotesingle{}{\ttfamily if the module specifier is a relative file path -\/}\textquotesingle{}builtin\textquotesingle{}{\ttfamily if the module specifier is the name of a builtin Node.\+js package -\/}\textquotesingle{}package\textquotesingle{}\`{} otherwise
\end{DoxyItemize}

{\ttfamily module\+Specifier.\+code} is the module specifier as it was written in the code. For non-\/constant dynamic imports it could be a complex expression.

{\ttfamily module\+Specifier.\+value} is {\ttfamily module\+Specifier.\+code} without string literal quotes and unescaped if {\ttfamily module\+Specifier.\+is\+Constant} is {\ttfamily true}. Otherwise, it is {\ttfamily undefined}.

{\ttfamily module\+Specifier.\+resolved} is set if the {\ttfamily resolve\+From} option is set and {\ttfamily module\+Specifier.\+value} is not {\ttfamily undefined}.

{\ttfamily import\+Clause} is only {\ttfamily undefined} if {\ttfamily is\+Dynamic\+Import} is {\ttfamily true}.

{\ttfamily import\+Clause.\+default} is the default import identifier or {\ttfamily undefined} if the import statement does not have a default import.

{\ttfamily import\+Clause.\+named} is the array of objects representing the named imports of the import statement. It is empty if the import statement does not have any named imports. Each object in the array has a {\ttfamily specifier} field set to the imported identifier and a {\ttfamily binding} field set to the identifier for accessing the imported value. For example, `import \{ a, x as y \} from \textquotesingle{}something'{\ttfamily would have the following array for}import\+Clause.\+named{\ttfamily \+: }\mbox{[}\{ specifier\+: \textquotesingle{}a\textquotesingle{}, binding\+: \textquotesingle{}a\textquotesingle{} \}, \{ specifier\+: \textquotesingle{}x\textquotesingle{}, binding\+: \textquotesingle{}y\textquotesingle{} \}\mbox{]}\`{}.

{\ttfamily import\+Clause.\+namespace} is the namespace import identifier or {\ttfamily undefined} if the import statement does not have a namespace import.\hypertarget{readme.md_autotoc_md25602}{}\doxysubsubsection{\texorpdfstring{Contributing}{Contributing}}\label{readme.md_autotoc_md25602}
Stars are always welcome!

For bugs and feature requests, \href{https://github.com/TomerAberbach/parse-imports/issues/new}{\texttt{ please create an issue}}.\hypertarget{readme.md_autotoc_md25603}{}\doxysubsubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md25603}
\href{https://github.com/TomerAberbach/parse-imports/blob/main/license}{\texttt{ MIT}} © \href{https://github.com/TomerAberbach}{\texttt{ Tomer Aberbach}} \textbackslash{} \href{https://github.com/TomerAberbach/parse-imports/blob/main/license-apache}{\texttt{ Apache 2.\+0}} © \href{https://github.com/TomerAberbach/parse-imports/blob/main/notice-apache}{\texttt{ Google}} 