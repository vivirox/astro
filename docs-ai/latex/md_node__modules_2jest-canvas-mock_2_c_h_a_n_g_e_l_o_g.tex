\chapter{CHANGELOG}
\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g}{}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g}\index{CHANGELOG@{CHANGELOG}}
\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19409}%
\Hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19409}%
\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19410}{}\doxysection{\texorpdfstring{Version 2.\+5.\+0}{Version 2.\+5.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19410}

\begin{DoxyItemize}
\item feat\+: export a function to re-\/initialize mocks (\#98)
\item docs\+: fix some typos (\#104)
\item fix\+: copy \& paste mistake\+: to\+Blob -\/\texorpdfstring{$>$}{>} to\+Data\+URL (\#101)
\item chore\+: add Contributors Lito\+More (\#94)
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19411}{}\doxysection{\texorpdfstring{Version 2.\+4.\+0}{Version 2.\+4.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19411}

\begin{DoxyItemize}
\item fix(window)\+: avoid global.\+window redefinition (\#91)
\item feat\+: add translate, translate\+Self, scale and scale\+Self to DOMMatrix (\#83)
\item optimize(\+Path2\+D)\+: replace reassign-\/concat with for-\/push (\#76)
\item test\+: add test for vis @antv/g2plot (\#79)
\item fix(set\+Line\+Dash)\+: rename parameter value to segments (\#74)
\item fix(clip)\+: delete clipping region with restore (\#73)
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19412}{}\doxysection{\texorpdfstring{Version 2.\+3.\+0}{Version 2.\+3.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19412}

\begin{DoxyItemize}
\item Added Prettier code style
\item Deleted .npmignore and switched to {\ttfamily package.\+json} files field
\item Added \doxylink{zod-to-json-schema_2_c_o_n_t_r_i_b_u_t_i_n_g_8md}{CONTRIBUTING} and \doxylink{universal-user-agent_2_c_o_d_e___o_f___c_o_n_d_u_c_t_8md}{CODE\+\_\+\+OF\+\_\+\+CONDUCT} docs
\item Switched to {\ttfamily moo-\/color} for color parsing
\item Added contributors to markdown document
\begin{DoxyItemize}
\item New Contributor \href{https://github.com/evanoc0}{\texttt{ @evanoc0}}
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19413}{}\doxysection{\texorpdfstring{Version 2.\+2.\+0}{Version 2.\+2.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19413}

\begin{DoxyItemize}
\item Bug\+: Slice canvas transform value when pushing (\#50)
\item Remove support for node 6 and 7
\item switch babel env to target node 8
\item add support for node 13
\item update package versions
\item fix line\+Width bug
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19414}{}\doxysection{\texorpdfstring{Version 2.\+1.\+1}{Version 2.\+1.\+1}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19414}

\begin{DoxyItemize}
\item Feature\+: Support for Image\+Data instantiation using a source array (\#45)
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19415}{}\doxysection{\texorpdfstring{Version 2.\+1.\+0}{Version 2.\+1.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19415}
This minor version bump now has some major snapshot support but is backwards compatible.

Changes\+:


\begin{DoxyItemize}
\item Feature\+: Add {\ttfamily static} {\ttfamily Canvas\+Rendering\+Context2D} method\+: {\ttfamily \#.\+\_\+\+\_\+get\+Events(ctx)}
\begin{DoxyItemize}
\item Feature\+: Every successful modification of the {\ttfamily Canvas\+Rendering\+Context2D} state machine logs an {\ttfamily \+\_\+event}
\end{DoxyItemize}
\item Feature\+: Add {\ttfamily static} {\ttfamily Canvas\+Rendering\+Context2D} method\+: {\ttfamily \#.\+\_\+\+\_\+get\+Path(ctx)}
\begin{DoxyItemize}
\item Feature\+: Every path call adds a {\ttfamily \+\_\+path} item and can be accessed via {\ttfamily \+\_\+\+\_\+get\+Path(ctx)}
\item Feature\+: {\ttfamily begin\+Path()} empties the {\ttfamily \+\_\+path}
\end{DoxyItemize}
\item Feature\+: Add {\ttfamily static} {\ttfamily Canvas\+Rendering\+Context2D} method\+: {\ttfamily \#.\+\_\+\+\_\+get\+Draw\+Calls(ctx)}
\begin{DoxyItemize}
\item Feature\+: Every draw call adds a {\ttfamily \+\_\+draw\+Call} item and can be accessed via {\ttfamily \+\_\+\+\_\+get\+Draw\+Call(ctx)}
\end{DoxyItemize}
\item Feature\+: Add {\ttfamily types/index.\+d.\+ts} file for tooling types (in jest environment)
\item Feature\+: Support node 12
\item Docs
\begin{DoxyItemize}
\item Updated arc example
\item Added snapshot testing documentation
\end{DoxyItemize}
\item Bug\+: {\ttfamily create\+Linear\+Gradient} now accepts strings
\item Bug\+: {\ttfamily create\+Radial\+Gradient} now accepts strings
\item Bug\+: {\ttfamily global\+Alpha} now accepts {\ttfamily null} per {\ttfamily Number} coercion
\item Feature\+: Faster finite values checks
\item Feature\+: Add {\ttfamily \+\_\+path} and {\ttfamily \+\_\+events} to {\ttfamily Path2D}
\item Testing\+: Add and test snapshot outputs
\end{DoxyItemize}\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19416}{}\doxysection{\texorpdfstring{Version 2.\+0.\+0}{Version 2.\+0.\+0}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19416}
Just publish a stable version.\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19417}{}\doxysection{\texorpdfstring{Version 2.\+0.\+0-\/beta.\+1}{Version 2.\+0.\+0-\/beta.\+1}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19417}
\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19418}{}\doxysubsection{\texorpdfstring{Class Instances}{Class Instances}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19418}
The Version 2.\+0.\+0-\/beta.\+1 of {\ttfamily jest-\/canvas-\/mock} is a complete overhaul of the mocking strategy entirely. Originally, the `canvas.\+get\+Canvas(\textquotesingle{}2d'){\ttfamily method would return a single object that contained a set of methods without any property definitions. This caused problems for people who wanted to use}jest{\ttfamily to test and verify}instanceof\`{} checks.

Now the following expectation works as expected.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ ctx\ =\ document.createElement('canvas').getContext('2d');}
\DoxyCodeLine{}
\DoxyCodeLine{expect(ctx).toBeInstanceOf(CanvasRenderingContext2D);}

\end{DoxyCode}
\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19419}{}\doxysubsection{\texorpdfstring{Bound Mock Functions}{Bound Mock Functions}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19419}
When each {\ttfamily Canvas\+Rendering\+Context2D} object is created, all the methods are properly mocked with the {\ttfamily jest.\+fn()} method, and bound to the instance. It\textquotesingle{}s still possible to verify that a function was called on the context. The main difference now is that the methods actually perform runtime checks on the passed parameters.

The following example demonstrates that canvas methods can be called, and parameters are verified.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ PI\_2\ =\ Math.PI\ *\ 2;}
\DoxyCodeLine{}
\DoxyCodeLine{//\ create\ a\ circle\ at\ 0,0\ with\ radius\ 100}
\DoxyCodeLine{ctx.arc(0,\ 0,\ 100,\ 0,\ PI\_2);}
\DoxyCodeLine{expect(ctx.arc).toBeCalledWith(0,\ 0,\ 100,\ 0,\ PI\_2);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ negative\ radius\ values\ throw\ DOMException\ errors}
\DoxyCodeLine{expect(()\ =>\ ctx.arc(0,\ 0,\ -\/10,\ 0,\ PI\_2)).toThrow(DOMExpection);}

\end{DoxyCode}
\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19420}{}\doxysubsection{\texorpdfstring{Parsing Colors and Fonts, Saving, Restoring}{Parsing Colors and Fonts, Saving, Restoring}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19420}
Another really big change is that the mocking strategy now attempts to conform to the html living specification. In order to do this, two packages were added as dependencies so that css colors and fonts can be more properly parsed. This is not perfect, and any problems with the color parser or font parser should be reported in the Issues tab.

This change comes with overhauled {\ttfamily ctx.\+save()} and {\ttfamily ctx.\+restore()} functions. These function calls work almost entirely as intended. For instance, {\ttfamily ctx.\+save()} actually pushes all the current property values to a stack, and this operation is undone when {\ttfamily ctx.\+restore()} is called. Take the following snippet of code as an example.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ create\ a\ context}
\DoxyCodeLine{const\ ctx\ =\ document.createElement('canvas').getContext('2d');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ save\ the\ current\ state\ of\ the\ canvas}
\DoxyCodeLine{ctx.save();}
\DoxyCodeLine{}
\DoxyCodeLine{//\ set\ some\ color\ and\ font\ values}
\DoxyCodeLine{ctx.fillStyle\ =\ 'blue';}
\DoxyCodeLine{ctx.font\ =\ '12pt\ Times\ New\ Roman';}
\DoxyCodeLine{}
\DoxyCodeLine{//\ now\ the\ fillStyle\ property\ parses\ the\ color}
\DoxyCodeLine{expect(ctx.fillStyle).toBe('\#00F');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ font\ parsing\ also\ works\ as\ intended}
\DoxyCodeLine{expect(ctx.font).toBe('16px\ "{}Times\ New\ Roman"{}');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ restore\ the\ previously\ saved\ state}
\DoxyCodeLine{ctx.restore():}
\DoxyCodeLine{}
\DoxyCodeLine{//\ the\ fillStyle\ was\ restored\ to\ default}
\DoxyCodeLine{expect(ctx.fillStyle).toBe('\#000');}
\DoxyCodeLine{}
\DoxyCodeLine{//\ the\ font\ was\ restored\ too}
\DoxyCodeLine{expect(ctx.font).toBe('10px\ sans-\/serif');}

\end{DoxyCode}


For all these reasons, the {\ttfamily jest-\/canvas-\/mock} package was bumped a major version to {\ttfamily 2.\+0.\+0}.\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19421}{}\doxysubsection{\texorpdfstring{Canvas\+Rendering\+Context2D prototype}{Canvas\+Rendering\+Context2D prototype}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19421}

\begin{DoxyItemize}
\item Implemented Stack Properties for the following items\+:
\begin{DoxyItemize}
\item {\ttfamily direction}
\item {\ttfamily fill\+Style}
\item {\ttfamily filter}
\item {\ttfamily font}
\item {\ttfamily global\+Alpha}
\item {\ttfamily global\+Composite\+Operation}
\item {\ttfamily image\+Smoothing\+Enabled}
\item {\ttfamily image\+Smoothing\+Quality}
\item {\ttfamily line\+Cap}
\item {\ttfamily line\+Dash\+Offset}
\item {\ttfamily line\+Dash} (via {\ttfamily get\+Line\+Dash()} / {\ttfamily set\+Line\+Dash()})
\item {\ttfamily line\+Join}
\item {\ttfamily line\+Width}
\item {\ttfamily miter\+Limit}
\item {\ttfamily shadow\+Blur}
\item {\ttfamily shadow\+Color}
\item {\ttfamily shadow\+OffsetX}
\item {\ttfamily shadow\+OffsetY}
\item {\ttfamily stack}
\item {\ttfamily stroke\+Style}
\item {\ttfamily text\+Align}
\item {\ttfamily text\+Baseline}
\item {\ttfamily transform} (via {\ttfamily set\+Transform} etc.)
\end{DoxyItemize}
\item function {\ttfamily constructor} binds the following functions
\begin{DoxyItemize}
\item {\ttfamily set\+Line\+Dash}
\item {\ttfamily get\+Line\+Dash}
\item {\ttfamily set\+Transform}
\item {\ttfamily get\+Transform}
\item {\ttfamily get\+Image\+Data}
\item {\ttfamily save}
\item {\ttfamily restore}
\item {\ttfamily create\+Pattern}
\item {\ttfamily create\+Radial\+Gradient}
\item {\ttfamily add\+Hit\+Region}
\item {\ttfamily arc}
\item {\ttfamily arc\+To}
\item {\ttfamily begin\+Path}
\item {\ttfamily clip}
\item {\ttfamily close\+Path}
\item {\ttfamily scale}
\item {\ttfamily stroke}
\item {\ttfamily clear\+Hit\+Regions}
\item {\ttfamily clear\+Rect}
\item {\ttfamily fill\+Rect}
\item {\ttfamily stroke\+Rect}
\item {\ttfamily rect}
\item {\ttfamily reset\+Transform}
\item {\ttfamily translate}
\item {\ttfamily move\+To}
\item {\ttfamily line\+To}
\item {\ttfamily bezier\+Curve\+To}
\item {\ttfamily create\+Linear\+Gradient}
\item {\ttfamily ellipse}
\item {\ttfamily measure\+Text}
\item {\ttfamily rotate}
\item {\ttfamily draw\+Image}
\item {\ttfamily draw\+Focus\+If\+Needed}
\item {\ttfamily is\+Point\+In\+Path}
\item {\ttfamily is\+Point\+In\+Stroke}
\item {\ttfamily put\+Image\+Data}
\item {\ttfamily stroke\+Text}
\item {\ttfamily fill\+Text}
\item {\ttfamily quadratic\+Curve\+To}
\item {\ttfamily remove\+Hit\+Region}
\item {\ttfamily fill}
\item {\ttfamily transform}
\item {\ttfamily scroll\+Path\+Into\+View}
\item {\ttfamily create\+Image\+Data}
\end{DoxyItemize}
\item function {\ttfamily add\+Hit\+Region}
\begin{DoxyItemize}
\item verifies {\ttfamily path} or {\ttfamily id} parameter is set, throws {\ttfamily DOMException} otherwise
\item verifies {\ttfamily fill\+Rule} if set, throws {\ttfamily Type\+Error} if invalid
\end{DoxyItemize}
\item function {\ttfamily arc}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 5}
\item throws {\ttfamily DOMException(\+Index\+Size\+Error)} if values are finite, but radius is negative
\end{DoxyItemize}
\item function {\ttfamily arc\+To}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 5}
\item throws {\ttfamily DOMException(\+Index\+Size\+Error)} if values are finite, but radius is negative
\end{DoxyItemize}
\item function {\ttfamily begin\+Path} (empty no\+Op stub)
\begin{DoxyItemize}
\item if path length eventually needs to be verified, this can be changed
\end{DoxyItemize}
\item function {\ttfamily bezier\+Curve\+To}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 6}
\end{DoxyItemize}
\item readonly property {\ttfamily canvas}
\begin{DoxyItemize}
\item returns the parent {\ttfamily HTMLCanvas\+Element}
\end{DoxyItemize}
\item function {\ttfamily clear\+Hit\+Regions} (empty no\+Op stub)
\item function {\ttfamily clear\+Rect}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 4}
\end{DoxyItemize}
\item function {\ttfamily clip}
\begin{DoxyItemize}
\item if {\ttfamily fill\+Rule} is provided, throws {\ttfamily Type\+Erorr} if {\ttfamily Fill\+Rule} is invalid
\item if {\ttfamily path} is provided, throws {\ttfamily Type\+Error} if path is not {\ttfamily instanceof} {\ttfamily Path2D}
\end{DoxyItemize}
\item function {\ttfamily close\+Path} (added no\+Op stub)
\item function {\ttfamily create\+Image\+Data}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length === 1} and parameter is not {\ttfamily instanceof} {\ttfamily Image\+Data}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$>$}{>}= 2} and {\ttfamily width} is not finite
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$>$}{>}= 2} and {\ttfamily height} is not finite
\item returns {\ttfamily Image\+Data}
\end{DoxyItemize}
\item function {\ttfamily create\+Linear\+Gradient}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 4}
\item throws {\ttfamily Type\+Error} if {\ttfamily x0} is not finite
\item throws {\ttfamily Type\+Error} if {\ttfamily y0} is not finite
\item throws {\ttfamily Type\+Error} if {\ttfamily x1} is not finite
\item throws {\ttfamily Type\+Error} if {\ttfamily y1} is not finite
\item returns {\ttfamily Canvas\+Gradient}
\end{DoxyItemize}
\item function {\ttfamily create\+Pattern}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if image is not supported in {\ttfamily jest-\/canvas-\/mock}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 4}
\item throws `DOMException(\textquotesingle{}Syntax\+Error'){\ttfamily if image is detached}
\item {\ttfamily returns}Canvas\+Pattern{\ttfamily if image is}HTMLImage\+Element{\ttfamily ,}Image\+Bitmap{\ttfamily ,}HTMLVideo\+Element{\ttfamily ,}HTMLCanvas\+Element{\ttfamily }
\end{DoxyItemize}
\item {\ttfamily function}create\+Radial\+Gradient{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 4{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}x0{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}y0{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}r0{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}x1{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}y1{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}r1{\ttfamily is not finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}DOMException(\textquotesingle{}Data\+Error\textquotesingle{}){\ttfamily if}r0{\ttfamily is negative
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}DOMException(\textquotesingle{}Data\+Error\textquotesingle{}){\ttfamily if}r1{\ttfamily is negative}
\item {\ttfamily computed property}current\+Transform{\ttfamily 
\begin{DoxyItemize}
\item sets transform stack value if
\end{DoxyItemize}}value instanceof DOMMatrix{\ttfamily 
\begin{DoxyItemize}
\item returns new
\end{DoxyItemize}}DOMMatrix{\ttfamily with current transform values}
\item {\ttfamily computed property}direction{\ttfamily 
\begin{DoxyItemize}
\item sets direction stack value when valid
\item returns current direction stack value
\end{DoxyItemize}}
\item {\ttfamily function}draw\+Focus\+If\+Needed{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length === 0{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length === 2{\ttfamily and}path{\ttfamily is not instanceof}Path2D{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}element{\ttfamily is not instanceof}Element{\ttfamily }
\item {\ttfamily function draw\+Image
\begin{DoxyItemize}
\item Valid arities are\+: \mbox{[}3, 5, 9\mbox{]} (throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length{\ttfamily is not valid)
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if image is not supported by}jest-\/canvas-\/mock{\ttfamily }
\item {\ttfamily function}ellipse{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 7{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}DOMException(\textquotesingle{}Index\+Size\+Error\textquotesingle{}){\ttfamily if}radiusX{\ttfamily is negative and all parameters are finite
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}DOMException(\textquotesingle{}Index\+Size\+Error\textquotesingle{}){\ttfamily if}radiusY{\ttfamily is negative and all parameters are finite}
\item {\ttfamily function}fill{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}fill\+Rule{\ttfamily is not valid}Fill\+Rule{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}path{\ttfamily is not instanceof}Path2D{\ttfamily }
\item {\ttfamily function}fill\+Rect{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 4{\ttfamily }
\item {\ttfamily computed property}fill\+Style{\ttfamily 
\begin{DoxyItemize}
\item sets current
\end{DoxyItemize}}fill\+Style{\ttfamily stack value if it\textquotesingle{}s a valid css color, a}Canvas\+Gradient{\ttfamily or a}Canvas\+Pattern{\ttfamily 
\begin{DoxyItemize}
\item returns current
\end{DoxyItemize}}fill\+Style{\ttfamily stack value}
\item {\ttfamily function}fill\+Text{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 3{\ttfamily }
\item {\ttfamily computed property}filter{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}filter{\ttfamily stack value if it\textquotesingle{}s a string
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}filter{\ttfamily stack value
\begin{DoxyItemize}
\item TODO\+: add custom parser for filter values to check validity
\end{DoxyItemize}}
\item {\ttfamily computed property}font{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}font{\ttfamily stack value if it\textquotesingle{}s a valid font
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}font{\ttfamily stack value}
\item {\ttfamily function}get\+Image\+Data{\ttfamily 
\begin{DoxyItemize}
\item returns new
\end{DoxyItemize}}Image\+Data{\ttfamily with the same size as the parent}canvas{\ttfamily }
\item {\ttfamily function}get\+Line\+Dash{\ttfamily 
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}line\+Dash{\ttfamily stack value}
\item {\ttfamily function}set\+Line\+Dash{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}line\+Dash{\ttfamily value is not a valid sequence
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}line\+Dash{\ttfamily stack value
\begin{DoxyItemize}
\item properly concatenates itself if the
\end{DoxyItemize}}line\+Dash{\ttfamily length is odd}
\item {\ttfamily function}get\+Transform{\ttfamily 
\begin{DoxyItemize}
\item returns current
\end{DoxyItemize}}transform{\ttfamily stack value in the form of a}DOMMatrix{\ttfamily }
\item {\ttfamily computed property}global\+Alpha{\ttfamily 
\begin{DoxyItemize}
\item sets current
\end{DoxyItemize}}global\+Alpha{\ttfamily stack value if}value{\ttfamily finite and between the inclusive range}\mbox{[}0 .. 1\mbox{]}{\ttfamily 
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}global\+Alpha{\ttfamily stack value}
\item {\ttfamily computed property}global\+Composite\+Operation{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}global\+Composite\+Operation{\ttfamily stack value if}value{\ttfamily is a valid Global\+Composite\+Operation value
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}global\+Composite\+Operation{\ttfamily stack value}
\item {\ttfamily computed property}image\+Smoothing\+Enabled{\ttfamily 
\begin{DoxyItemize}
\item sets current
\end{DoxyItemize}}image\+Smoothing\+Enabled{\ttfamily stack value to}value{\ttfamily coerced to a boolean
\begin{DoxyItemize}
\item returns current
\end{DoxyItemize}}image\+Smoothing\+Enabled{\ttfamily stack value}
\item {\ttfamily computed property}image\+Smoothing\+Quality{\ttfamily 
\begin{DoxyItemize}
\item sets the
\end{DoxyItemize}}image\+Smoothing\+Quality{\ttfamily stack value if value is a valid Image\+Smoothing\+Quality value
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}image\+Smoothing\+Quality{\ttfamily stack value}
\item {\ttfamily function}is\+Point\+In\+Path{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if provided}fill\+Rule{\ttfamily is not a valid}Fill\+Rule{\ttfamily 
\begin{DoxyItemize}
\item TODO\+: Implement pathing operations and perform an actual
\end{DoxyItemize}}is\+Point\+In\+Path(){\ttfamily operation
\begin{DoxyItemize}
\item always returns false
\end{DoxyItemize}}
\item {\ttfamily function}is\+Point\+In\+Stroke{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily 
\begin{DoxyItemize}
\item always returns false
\end{DoxyItemize}}
\item {\ttfamily computed property}line\+Cap{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}line\+Cap{\ttfamily stack value if value is a valid}Line\+Cap{\ttfamily 
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}line\+Cap{\ttfamily stack value}
\item {\ttfamily computed property}line\+Dash\+Offset{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}line\+Dash\+Offset{\ttfamily stack value if value is finite
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}line\+Dash\+Offset{\ttfamily stack value}
\item {\ttfamily computed property}line\+Join{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}line\+Join{\ttfamily stack value if value is a valid}Line\+Join{\ttfamily 
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}line\+Join{\ttfamily stack value}
\item {\ttfamily function}line\+To{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily }
\item {\ttfamily computed property}line\+Width{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}line\+Width{\ttfamily stack value if value is finite and greater than 0
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}line\+Width{\ttfamily stack value}
\item {\ttfamily function}measure\+Text{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 1{\ttfamily 
\begin{DoxyItemize}
\item returns a
\end{DoxyItemize}}Text\+Metrics{\ttfamily object}
\item {\ttfamily computed property}miter\+Limit{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}miter\+Limit{\ttfamily stack value if value is finite and greater than 0
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}miter\+Limit{\ttfamily stack value}
\item {\ttfamily function}move\+To{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily }
\item {\ttfamily function}put\+Image\+Data{\ttfamily 
\begin{DoxyItemize}
\item Valid arities are\+: \mbox{[}3, 7\mbox{]}, throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length{\ttfamily is not valid arity
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}data{\ttfamily is not instanceof}Image\+Data{\ttfamily }
\item {\ttfamily function}quadratic\+Curve\+To{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 4{\ttfamily }
\item {\ttfamily function}rect{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 4{\ttfamily }
\item {\ttfamily function}remove\+Hit\+Region{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 1{\ttfamily }
\item {\ttfamily function}reset\+Transform{\ttfamily 
\begin{DoxyItemize}
\item sets current
\end{DoxyItemize}}transform{\ttfamily stack value to the 2d identity matrix}
\item {\ttfamily function}restore{\ttfamily 
\begin{DoxyItemize}
\item pops all the property stack values and decreases the stack index
\end{DoxyItemize}}
\item {\ttfamily function}rotate{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 1{\ttfamily 
\begin{DoxyItemize}
\item rotates the current
\end{DoxyItemize}}transform{\ttfamily stack value if}angle{\ttfamily is finite}
\item {\ttfamily function}save{\ttfamily 
\begin{DoxyItemize}
\item pushes the current property stack values to the next item on the stack
\item increases the stack index
\end{DoxyItemize}}
\item {\ttfamily function}scale{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily 
\begin{DoxyItemize}
\item scales the current
\end{DoxyItemize}}transform{\ttfamily stack value if the}x{\ttfamily and}y{\ttfamily values are finite}
\item {\ttfamily function}scroll\+Path\+Into\+View$<$tt$>$(empty no\+Op stub)
\item function
\end{DoxyItemize}set\+Transform{\ttfamily 
\begin{DoxyItemize}
\item if
\end{DoxyItemize}}arguments.\+length === 0{\ttfamily sets the current}transform{\ttfamily stack value to the 2d identity matrix
\begin{DoxyItemize}
\item if
\end{DoxyItemize}}arguments.\+length == 1{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if value is not instanceof}DOMMatrix{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}transform{\ttfamily stack value to the provided matrix
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 6{\ttfamily 
\begin{DoxyItemize}
\item coerces each parameter to a number via
\end{DoxyItemize}}Number(){\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}transform{\ttfamily stack value if the provided values are all finite
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}shadow\+Blur{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}shadow\+Blur{\ttfamily stack value if value is finite and greater than 0
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}shadow\+Blur{\ttfamily stack value
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}shadow\+Color{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}shadow\+Color{\ttfamily stack value if value is a valid css color
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}shadow\+Color{\ttfamily stack value
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}shadow\+OffsetX{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}shadow\+OffsetX{\ttfamily stack value if value is finite
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}shadow\+OffsetX{\ttfamily stack value
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}shadow\+OffsetY{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}shadow\+OffsetY{\ttfamily stack value if value is finite
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}shadow\+OffsetY{\ttfamily stack value
\begin{DoxyItemize}
\item function
\end{DoxyItemize}}stroke{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}path{\ttfamily is not instanceof}Path2D{\ttfamily 
\begin{DoxyItemize}
\item function
\end{DoxyItemize}}stroke\+Rect{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 4{\ttfamily 
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}stroke\+Style{\ttfamily 
\begin{DoxyItemize}
\item sets current
\end{DoxyItemize}}fill\+Style{\ttfamily stack value if it\textquotesingle{}s a valid css color, a}Canvas\+Gradient{\ttfamily or a}Canvas\+Pattern{\ttfamily 
\begin{DoxyItemize}
\item returns current
\end{DoxyItemize}}fill\+Style{\ttfamily stack value
\begin{DoxyItemize}
\item function
\end{DoxyItemize}}stroke\+Text{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 3{\ttfamily 
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}text\+Align{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}text\+Align{\ttfamily stack value if value is a valid}Text\+Align{\ttfamily value
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}text\+Align{\ttfamily stack value
\begin{DoxyItemize}
\item computed property
\end{DoxyItemize}}text\+Baseline{\ttfamily 
\begin{DoxyItemize}
\item sets the current
\end{DoxyItemize}}text\+Baseline{\ttfamily stack value if value is a valid}Text\+Baseline{\ttfamily value
\begin{DoxyItemize}
\item returns the current
\end{DoxyItemize}}text\+Baseline{\ttfamily stack value
\begin{DoxyItemize}
\item function
\end{DoxyItemize}}transform{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 6{\ttfamily 
\begin{DoxyItemize}
\item coerces each value to number via
\end{DoxyItemize}}Number(){\ttfamily 
\begin{DoxyItemize}
\item performs a transform operation on the current
\end{DoxyItemize}}transform{\ttfamily stack value if every parameter is finite
\begin{DoxyItemize}
\item function
\end{DoxyItemize}}translate{\ttfamily 
\begin{DoxyItemize}
\item throws
\end{DoxyItemize}}Type\+Error{\ttfamily if}arguments.\+length \texorpdfstring{$<$}{<} 2{\ttfamily 
\begin{DoxyItemize}
\item performs a translate operation on the current
\end{DoxyItemize}}transform\`{} stack value if every parameter is finite\hypertarget{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19422}{}\doxysubsection{\texorpdfstring{Other Changes By File}{Other Changes By File}}\label{md_node__modules_2jest-canvas-mock_2_c_h_a_n_g_e_l_o_g_autotoc_md19422}

\begin{DoxyItemize}
\item src/\+Canvas\+Gradient.\+js
\begin{DoxyItemize}
\item Added Class for {\ttfamily instanceof} checks
\item bound functions\+:
\begin{DoxyItemize}
\item {\ttfamily add\+Color\+Stop}
\end{DoxyItemize}
\item function {\ttfamily add\+Color\+Stop}
\begin{DoxyItemize}
\item throws {\ttfamily Index\+Size\+Error} {\ttfamily DOMException} if resulting offset is not finite
\item throws {\ttfamily Syntax\+Error} when color cannot be parsed
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+Canvas\+Pattern.\+js
\begin{DoxyItemize}
\item Added Class for {\ttfamily instanceof} checks
\item bound functions\+:
\begin{DoxyItemize}
\item {\ttfamily set\+Transform}
\end{DoxyItemize}
\item function {\ttfamily set\+Transform}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if argument.\+length \texorpdfstring{$>$}{>} 1 and parameter is not an object
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+DOMMatrix.\+js
\begin{DoxyItemize}
\item Added minimal {\ttfamily DOMMatrix} implementation
\item Added Class for {\ttfamily instanceof} checks
\item function {\ttfamily constructor}
\begin{DoxyItemize}
\item constructs 3d matrix when parameter is Array\+Like and {\ttfamily length === 16}
\item constructs 2d matrix parameter is Array\+Like and {\ttfamily length === 6}
\item throws else if provided a first argument
\item constructs an identity 2d matrix if no arguments are passed
\end{DoxyItemize}
\item property {\ttfamily matrix.\+is\+Identity}
\begin{DoxyItemize}
\item returns {\ttfamily true} if matrix is an identity matrix
\end{DoxyItemize}
\item computed properties {\ttfamily a-\/f}
\begin{DoxyItemize}
\item returns and sets values according to the HTML Living Specification
\end{DoxyItemize}
\item property {\ttfamily is2D}
\begin{DoxyItemize}
\item returns {\ttfamily true} if matrix was constructed as a 2d matrix
\end{DoxyItemize}
\item TODO\+:
\begin{DoxyItemize}
\item Make {\ttfamily m11-\/m44} computed properties
\item Perform {\ttfamily Number()} coercion in setters
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+Image\+Bitmap.\+js
\begin{DoxyItemize}
\item Added helper Class for {\ttfamily instanceof} checks
\item bound functions\+:
\begin{DoxyItemize}
\item {\ttfamily close}
\end{DoxyItemize}
\item function {\ttfamily close}
\begin{DoxyItemize}
\item "{}closes"{} the bitmap and causes {\ttfamily draw\+Image} function calls to fail
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+Image\+Data.\+js
\begin{DoxyItemize}
\item Added helper class for {\ttfamily instanceof} checks
\item computed readonly {\ttfamily width}, {\ttfamily height} and {\ttfamily data} properties
\item function {\ttfamily constructor}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if width is not finite
\item throws {\ttfamily Type\+Error} if width is {\ttfamily 0}
\item throws {\ttfamily Type\+Error} if height is not finite
\item throws {\ttfamily Type\+Error} if height is {\ttfamily 0}
\item creates an empty {\ttfamily Uint8\+Clamped\+Array} of {\ttfamily width \texorpdfstring{$\ast$}{*} height \texorpdfstring{$\ast$}{*} 4} size
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+Path2\+D.\+js
\begin{DoxyItemize}
\item Added helper class for {\ttfamily instanceof} checks
\item Borrows path function definitions from {\ttfamily Canvas\+Rendering\+Context2D} for convenience
\begin{DoxyItemize}
\item {\ttfamily close\+Path} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily move\+To} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily line\+To} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily bezier\+Curve\+To} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily quadratic\+Curve\+To} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily arc} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily arc\+To} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily ellipse} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\item {\ttfamily rect} implemented from {\ttfamily Canvas\+Rendering\+Context2D}
\end{DoxyItemize}
\item function {\ttfamily add\+Path}
\begin{DoxyItemize}
\item throws {\ttfamily Type\+Error} if {\ttfamily arguments.\+length \texorpdfstring{$<$}{<} 1}
\item throws {\ttfamily Type\+Error} if provided {\ttfamily path} is not {\ttfamily instanceof} {\ttfamily Path2D}
\end{DoxyItemize}
\end{DoxyItemize}
\item src/\+Text\+Metrics.\+js
\begin{DoxyItemize}
\item Added helper class for {\ttfamily instanceof} checks
\item Implemented data properties
\begin{DoxyItemize}
\item {\ttfamily width}
\item {\ttfamily actual\+Bounding\+Box\+Left}
\item {\ttfamily actual\+Bounding\+Box\+Right}
\item {\ttfamily font\+Bounding\+Box\+Ascent}
\item {\ttfamily font\+Bounding\+Box\+Descent}
\item {\ttfamily actual\+Bounding\+Box\+Ascent}
\item {\ttfamily actual\+Bounding\+Box\+Descent}
\item {\ttfamily em\+Height\+Ascent}
\item {\ttfamily em\+Height\+Descent}
\item {\ttfamily hanging\+Baseline}
\item {\ttfamily alphabetic\+Baseline}
\item {\ttfamily ideographic\+Baseline}
\end{DoxyItemize}
\item function {\ttfamily constructor}
\begin{DoxyItemize}
\item This function cannot normally be constructed
\item mocked to accept a {\ttfamily text} parameter
\item sets {\ttfamily width} property to {\ttfamily text.\+length} 
\end{DoxyItemize}
\end{DoxyItemize}
\end{DoxyItemize}