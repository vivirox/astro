\doxysection{node\+\_\+modules/@astrojs/rss Directory Reference}
\hypertarget{dir_8872adceb480ba534019150bd355523e}{}\label{dir_8872adceb480ba534019150bd355523e}\index{node\_modules/"@astrojs/rss Directory Reference@{node\_modules/"@astrojs/rss Directory Reference}}


\doxysubsection{Detailed Description}
This package brings fast RSS feed generation to blogs and other content sites built with \href{https://astro.build/}{\texttt{ Astro}}. For more information about RSS feeds in general, see \href{https://aboutfeeds.com/}{\texttt{ aboutfeeds.\+com}}.\hypertarget{README.md_autotoc_md1124}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md1124}
Install the {\ttfamily @astrojs/rss} package into any Astro project using your preferred package manager\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ npm}
\DoxyCodeLine{npm\ i\ @astrojs/rss}
\DoxyCodeLine{\#\ yarn}
\DoxyCodeLine{yarn\ add\ @astrojs/rss}
\DoxyCodeLine{\#\ pnpm}
\DoxyCodeLine{pnpm\ i\ @astrojs/rss}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1125}{}\doxysubsection{\texorpdfstring{Example usage}{Example usage}}\label{README.md_autotoc_md1125}
The {\ttfamily @astrojs/rss} package provides helpers for generating RSS feeds within \href{https://docs.astro.build/en/core-concepts/astro-pages/\#non-html-pages}{\texttt{ Astro endpoints}}. This unlocks both static builds {\itshape and} on-\/demand generation when using an \href{https://docs.astro.build/en/guides/server-side-rendering/}{\texttt{ SSR adapter}}.

For instance, say you need to generate an RSS feed for all posts under {\ttfamily src/content/blog/} using content collections.

Start by \href{https://docs.astro.build/en/reference/configuration-reference/\#site}{\texttt{ adding a {\ttfamily site} to your project\textquotesingle{}s {\ttfamily astro.\+config} for link generation}}. Then, create an {\ttfamily rss.\+xml.\+js} file under your project\textquotesingle{}s {\ttfamily src/pages/} directory, and \href{https://docs.astro.build/en/guides/content-collections/\#getcollection}{\texttt{ use {\ttfamily get\+Collection()}}} to generate a feed from all documents in the {\ttfamily blog} collection\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ src/pages/rss.xml.js}
\DoxyCodeLine{import\ rss\ from\ '@astrojs/rss';}
\DoxyCodeLine{import\ \{\ getCollection\ \}\ from\ 'astro:content';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ async\ function\ GET(context)\ \{}
\DoxyCodeLine{\ \ const\ posts\ =\ await\ getCollection('blog');}
\DoxyCodeLine{\ \ return\ rss(\{}
\DoxyCodeLine{\ \ \ \ title:\ 'Buzz’s\ Blog',}
\DoxyCodeLine{\ \ \ \ description:\ 'A\ humble\ Astronaut’s\ guide\ to\ the\ stars',}
\DoxyCodeLine{\ \ \ \ //\ Pull\ in\ your\ project\ "{}site"{}\ from\ the\ endpoint\ context}
\DoxyCodeLine{\ \ \ \ //\ https://docs.astro.build/en/reference/api-\/reference/\#contextsite}
\DoxyCodeLine{\ \ \ \ site:\ context.site,}
\DoxyCodeLine{\ \ \ \ items:\ posts.map((post)\ =>\ (\{}
\DoxyCodeLine{\ \ \ \ \ \ //\ Assumes\ all\ RSS\ feed\ item\ properties\ are\ in\ post\ frontmatter}
\DoxyCodeLine{\ \ \ \ \ \ ...post.data,}
\DoxyCodeLine{\ \ \ \ \ \ //\ Generate\ a\ \`{}url`\ from\ each\ post\ \`{}slug`}
\DoxyCodeLine{\ \ \ \ \ \ //\ This\ assumes\ all\ blog\ posts\ are\ rendered\ as\ \`{}/blog/[slug]`\ routes}
\DoxyCodeLine{\ \ \ \ \ \ //\ https://docs.astro.build/en/guides/content-\/collections/\#generating-\/pages-\/from-\/content-\/collections}
\DoxyCodeLine{\ \ \ \ \ \ link:\ \`{}/blog/\$\{post.slug\}/`,}
\DoxyCodeLine{\ \ \ \ \})),}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}


Read {\bfseries{\href{https://docs.astro.build/en/guides/rss/\#using-astrojsrss-recommended}{\texttt{ Astro\textquotesingle{}s RSS docs}}}} for more on using content collections, and instructions for globbing entries in {\ttfamily /src/pages/}.\hypertarget{README.md_autotoc_md1126}{}\doxysubsection{\texorpdfstring{{\ttfamily rss()} configuration options}{{\ttfamily rss()} configuration options}}\label{README.md_autotoc_md1126}
The {\ttfamily rss} default export offers a number of configuration options. Here\textquotesingle{}s a quick reference\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{export\ function\ GET(context)\ \{}
\DoxyCodeLine{\ \ return\ rss(\{}
\DoxyCodeLine{\ \ \ \ //\ \`{}<title>`\ field\ in\ output\ xml}
\DoxyCodeLine{\ \ \ \ title:\ 'Buzz’s\ Blog',}
\DoxyCodeLine{\ \ \ \ //\ \`{}<description>`\ field\ in\ output\ xml}
\DoxyCodeLine{\ \ \ \ description:\ 'A\ humble\ Astronaut’s\ guide\ to\ the\ stars',}
\DoxyCodeLine{\ \ \ \ //\ provide\ a\ base\ URL\ for\ RSS\ <item>\ links}
\DoxyCodeLine{\ \ \ \ site:\ context.site,}
\DoxyCodeLine{\ \ \ \ //\ list\ of\ \`{}<item>`s\ in\ output\ xml}
\DoxyCodeLine{\ \ \ \ items:\ [],}
\DoxyCodeLine{\ \ \ \ //\ (optional)\ absolute\ path\ to\ XSL\ stylesheet\ in\ your\ project}
\DoxyCodeLine{\ \ \ \ stylesheet:\ '/rss-\/styles.xsl',}
\DoxyCodeLine{\ \ \ \ //\ (optional)\ inject\ custom\ xml}
\DoxyCodeLine{\ \ \ \ customData:\ '<language>en-\/us</language>',}
\DoxyCodeLine{\ \ \ \ //\ (optional)\ add\ arbitrary\ metadata\ to\ opening\ <rss>\ tag}
\DoxyCodeLine{\ \ \ \ xmlns:\ \{\ h:\ 'http://www.w3.org/TR/html4/'\ \},}
\DoxyCodeLine{\ \ \ \ //\ (optional)\ add\ trailing\ slashes\ to\ URLs\ (default:\ true)}
\DoxyCodeLine{\ \ \ \ trailingSlash:\ false,}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1127}{}\doxysubsubsection{\texorpdfstring{title}{title}}\label{README.md_autotoc_md1127}
Type\+: {\ttfamily string (required)}

The {\ttfamily \texorpdfstring{$<$}{<}title\texorpdfstring{$>$}{>}} attribute of your RSS feed\textquotesingle{}s output xml.\hypertarget{README.md_autotoc_md1128}{}\doxysubsubsection{\texorpdfstring{description}{description}}\label{README.md_autotoc_md1128}
Type\+: {\ttfamily string (required)}

The {\ttfamily \texorpdfstring{$<$}{<}description\texorpdfstring{$>$}{>}} attribute of your RSS feed\textquotesingle{}s output xml.\hypertarget{README.md_autotoc_md1129}{}\doxysubsubsection{\texorpdfstring{site}{site}}\label{README.md_autotoc_md1129}
Type\+: {\ttfamily string (required)}

The base URL to use when generating RSS item links. We recommend using the \href{https://docs.astro.build/en/reference/api-reference/\#contextsite}{\texttt{ endpoint context object}}, which includes the {\ttfamily site} configured in your project\textquotesingle{}s {\ttfamily astro.\+config.\texorpdfstring{$\ast$}{*}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rss\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ const\ GET\ =\ (context)\ =>}
\DoxyCodeLine{\ \ rss(\{}
\DoxyCodeLine{\ \ \ \ site:\ context.site,}
\DoxyCodeLine{\ \ \ \ //\ ...}
\DoxyCodeLine{\ \ \});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1130}{}\doxysubsubsection{\texorpdfstring{items}{items}}\label{README.md_autotoc_md1130}
Type\+: {\ttfamily RSSFeed\+Item\mbox{[}\mbox{]} (required)}

A list of formatted RSS feed items. See \href{https://docs.astro.build/en/guides/rss/\#generating-items}{\texttt{ Astro\textquotesingle{}s RSS items documentation}} for usage examples to choose the best option for you.

When providing a formatted RSS item list, see the \`{}\+RSSFeed\+Item\`{} type reference.\hypertarget{README.md_autotoc_md1131}{}\doxysubsubsection{\texorpdfstring{stylesheet}{stylesheet}}\label{README.md_autotoc_md1131}
Type\+: {\ttfamily string (optional)}

An absolute path to an XSL stylesheet in your project. If you don’t have an RSS stylesheet in mind, we recommend the \href{https://github.com/genmon/aboutfeeds/blob/main/tools/pretty-feed-v3.xsl}{\texttt{ Pretty Feed v3 default stylesheet}}, which you can download from Git\+Hub and save into your project\textquotesingle{}s {\ttfamily public/} directory.\hypertarget{README.md_autotoc_md1132}{}\doxysubsubsection{\texorpdfstring{custom\+Data}{custom\+Data}}\label{README.md_autotoc_md1132}
Type\+: {\ttfamily string (optional)}

A string of valid XML to be injected between your feed\textquotesingle{}s {\ttfamily \texorpdfstring{$<$}{<}description\texorpdfstring{$>$}{>}} and {\ttfamily \texorpdfstring{$<$}{<}item\texorpdfstring{$>$}{>}} tags. This is commonly used to set a language for your feed\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rss\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ const\ GET\ =\ ()\ =>\ rss(\{}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \ \ customData:\ '<language>en-\/us</language>',}
\DoxyCodeLine{\ \ \});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1133}{}\doxysubsubsection{\texorpdfstring{xmlns}{xmlns}}\label{README.md_autotoc_md1133}
Type\+: {\ttfamily Record\texorpdfstring{$<$}{<}string, string\texorpdfstring{$>$}{>} (optional)}

An object mapping a set of {\ttfamily xmlns} suffixes to strings of metadata on the opening {\ttfamily \texorpdfstring{$<$}{<}rss\texorpdfstring{$>$}{>}} tag.

For example, this object\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{rss(\{}
\DoxyCodeLine{\ \ ...}
\DoxyCodeLine{\ \ xmlns:\ \{\ h:\ 'http://www.w3.org/TR/html4/'\ \},}
\DoxyCodeLine{\})}

\end{DoxyCode}


Will inject the following XML\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<\textcolor{keywordtype}{rss}\ \textcolor{keyword}{xmlns:h}=\textcolor{stringliteral}{"{}http://www.w3.org/TR/html4/"{}}...}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1134}{}\doxysubsubsection{\texorpdfstring{content}{content}}\label{README.md_autotoc_md1134}
The {\ttfamily content} key contains the full content of the post as HTML. This allows you to make your entire post content available to RSS feed readers.

{\bfseries{Note\+:}} Whenever you\textquotesingle{}re using HTML content in XML, we suggest using a package like \href{https://www.npmjs.com/package/sanitize-html}{\texttt{ {\ttfamily sanitize-\/html}}} in order to make sure that your content is properly sanitized, escaped, and encoded.

\href{https://docs.astro.build/en/guides/rss/\#including-full-post-content}{\texttt{ See our RSS documentation}} for examples using content collections and glob imports.\hypertarget{README.md_autotoc_md1135}{}\doxysubsubsection{\texorpdfstring{{\ttfamily trailing\+Slash}}{{\ttfamily trailing\+Slash}}}\label{README.md_autotoc_md1135}
Type\+: {\ttfamily boolean (optional)} Default\+: {\ttfamily true}

By default, the library will add trailing slashes to the emitted URLs. To prevent this behavior, add {\ttfamily trailing\+Slash\+: false} to the {\ttfamily rss} function.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rss\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ const\ GET\ =\ ()\ =>}
\DoxyCodeLine{\ \ rss(\{}
\DoxyCodeLine{\ \ \ \ trailingSlash:\ false,}
\DoxyCodeLine{\ \ \});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1136}{}\doxysubsection{\texorpdfstring{{\ttfamily RSSFeed\+Item}}{{\ttfamily RSSFeed\+Item}}}\label{README.md_autotoc_md1136}
An {\ttfamily RSSFeed\+Item} is a single item in the list of items in your feed. It represents a story, with {\ttfamily link}, {\ttfamily title}, and {\ttfamily pub\+Date} fields. There are further optional fields defined below. You can also check the definitions for the fields in the \href{https://validator.w3.org/feed/docs/rss2.html\#ltpubdategtSubelementOfLtitemgt}{\texttt{ RSS spec}}.

An example feed item might look like\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ item\ =\ \{}
\DoxyCodeLine{\ \ title:\ 'Alpha\ Centauri:\ so\ close\ you\ can\ touch\ it',}
\DoxyCodeLine{\ \ link:\ '/blog/alpha-\/centuari',}
\DoxyCodeLine{\ \ pubDate:\ new\ Date('2023-\/06-\/04'),}
\DoxyCodeLine{\ \ description:}
\DoxyCodeLine{\ \ \ \ 'Alpha\ Centauri\ is\ a\ triple\ star\ system,\ containing\ Proxima\ Centauri,\ the\ closest\ star\ to\ our\ sun\ at\ only\ 4.24\ light-\/years\ away.',}
\DoxyCodeLine{\ \ categories:\ ['stars',\ 'space'],}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1137}{}\doxysubsubsection{\texorpdfstring{{\ttfamily title}}{{\ttfamily title}}}\label{README.md_autotoc_md1137}
Type\+: {\ttfamily string (required)}

The title of the item in the feed.\hypertarget{README.md_autotoc_md1138}{}\doxysubsubsection{\texorpdfstring{{\ttfamily link}}{{\ttfamily link}}}\label{README.md_autotoc_md1138}
Type\+: {\ttfamily string (required)}

The URL of the item on the web.\hypertarget{README.md_autotoc_md1139}{}\doxysubsubsection{\texorpdfstring{{\ttfamily pub\+Date}}{{\ttfamily pub\+Date}}}\label{README.md_autotoc_md1139}
Type\+: {\ttfamily Date (required)}

Indicates when the item was published.\hypertarget{README.md_autotoc_md1140}{}\doxysubsubsection{\texorpdfstring{{\ttfamily description}}{{\ttfamily description}}}\label{README.md_autotoc_md1140}
Type\+: {\ttfamily string (optional)}

A synopsis of your item when you are publishing the full content of the item in the {\ttfamily content} field. The {\ttfamily description} may alternatively be the full content of the item in the feed if you are not using the {\ttfamily content} field (entity-\/coded HTML is permitted).\hypertarget{README.md_autotoc_md1141}{}\doxysubsubsection{\texorpdfstring{{\ttfamily content}}{{\ttfamily content}}}\label{README.md_autotoc_md1141}
Type\+: {\ttfamily string (optional)}

The full text content of the item suitable for presentation as HTML. If used, you should also provide a short article summary in the {\ttfamily description} field.

See the \href{https://www.rssboard.org/rss-profile\#namespace-elements-content-encoded}{\texttt{ recommendations from the RSS spec for how to use and differentiate between {\ttfamily description} and {\ttfamily content}}}.\hypertarget{README.md_autotoc_md1142}{}\doxysubsubsection{\texorpdfstring{{\ttfamily categories}}{{\ttfamily categories}}}\label{README.md_autotoc_md1142}
Type\+: {\ttfamily string\mbox{[}\mbox{]} (optional)}

A list of any tags or categories to categorize your content. They will be output as multiple {\ttfamily \texorpdfstring{$<$}{<}category\texorpdfstring{$>$}{>}} elements.\hypertarget{README.md_autotoc_md1143}{}\doxysubsubsection{\texorpdfstring{{\ttfamily author}}{{\ttfamily author}}}\label{README.md_autotoc_md1143}
Type\+: {\ttfamily string (optional)}

The email address of the item author. This is useful for indicating the author of a post on multi-\/author blogs.\hypertarget{README.md_autotoc_md1144}{}\doxysubsubsection{\texorpdfstring{{\ttfamily comments\+Url}}{{\ttfamily comments\+Url}}}\label{README.md_autotoc_md1144}
Type\+: {\ttfamily string (optional)}

The URL of a web page that contains comments on the item.\hypertarget{README.md_autotoc_md1145}{}\doxysubsubsection{\texorpdfstring{{\ttfamily source}}{{\ttfamily source}}}\label{README.md_autotoc_md1145}
Type\+: {\ttfamily object (optional)}

An object that defines the {\ttfamily title} and {\ttfamily url} of the original feed for items that have been republished from another source. Both are required properties of {\ttfamily source} for proper attribution.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ item\ =\ \{}
\DoxyCodeLine{\ \ title:\ 'Alpha\ Centauri:\ so\ close\ you\ can\ touch\ it',}
\DoxyCodeLine{\ \ link:\ '/blog/alpha-\/centuari',}
\DoxyCodeLine{\ \ pubDate:\ new\ Date('2023-\/06-\/04'),}
\DoxyCodeLine{\ \ description:}
\DoxyCodeLine{\ \ \ \ 'Alpha\ Centauri\ is\ a\ triple\ star\ system,\ containing\ Proxima\ Centauri,\ the\ closest\ star\ to\ our\ sun\ at\ only\ 4.24\ light-\/years\ away.',}
\DoxyCodeLine{\ \ source:\ \{}
\DoxyCodeLine{\ \ \ \ title:\ 'The\ Galactic\ Times',}
\DoxyCodeLine{\ \ \ \ url:\ 'https://galactictimes.space/feed.xml',}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1146}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily source.\+title}}{{\ttfamily source.\+title}}}\label{README.md_autotoc_md1146}
Type\+: {\ttfamily string (required)}

The name of the original feed in which the item was published. (Note that this is the feed\textquotesingle{}s title, not the individual article title.)\hypertarget{README.md_autotoc_md1147}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily source.\+url}}{{\ttfamily source.\+url}}}\label{README.md_autotoc_md1147}
Type\+: {\ttfamily string (required)}

The URL of the original feed in which the item was published.\hypertarget{README.md_autotoc_md1148}{}\doxysubsubsection{\texorpdfstring{{\ttfamily enclosure}}{{\ttfamily enclosure}}}\label{README.md_autotoc_md1148}
Type\+: {\ttfamily object (optional)}

An object to specify properties for an included media source (e.\+g. a podcast) with three required values\+: {\ttfamily url}, {\ttfamily length}, and {\ttfamily type}.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ item\ =\ \{}
\DoxyCodeLine{\ \ title:\ 'Alpha\ Centauri:\ so\ close\ you\ can\ touch\ it',}
\DoxyCodeLine{\ \ link:\ '/blog/alpha-\/centuari',}
\DoxyCodeLine{\ \ pubDate:\ new\ Date('2023-\/06-\/04'),}
\DoxyCodeLine{\ \ description:}
\DoxyCodeLine{\ \ \ \ 'Alpha\ Centauri\ is\ a\ triple\ star\ system,\ containing\ Proxima\ Centauri,\ the\ closest\ star\ to\ our\ sun\ at\ only\ 4.24\ light-\/years\ away.',}
\DoxyCodeLine{\ \ enclosure:\ \{}
\DoxyCodeLine{\ \ \ \ url:\ '/media/alpha-\/centauri.aac',}
\DoxyCodeLine{\ \ \ \ length:\ 124568,}
\DoxyCodeLine{\ \ \ \ type:\ 'audio/aac',}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1149}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily enclosure.\+url}}{{\ttfamily enclosure.\+url}}}\label{README.md_autotoc_md1149}
Type\+: {\ttfamily string (required)}

The URL where the media can be found. If the media is hosted outside of your own domain you must provide a full URL.\hypertarget{README.md_autotoc_md1150}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily enclosure.\+length}}{{\ttfamily enclosure.\+length}}}\label{README.md_autotoc_md1150}
Type\+: {\ttfamily number (required)}

The size of the file found at the {\ttfamily url} in bytes.\hypertarget{README.md_autotoc_md1151}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily enclosure.\+type}}{{\ttfamily enclosure.\+type}}}\label{README.md_autotoc_md1151}
Type\+: {\ttfamily string (required)}

The \href{https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types}{\texttt{ MIME type}} for the media item found at the {\ttfamily url}.\hypertarget{README.md_autotoc_md1152}{}\doxysubsection{\texorpdfstring{{\ttfamily rss\+Schema}}{{\ttfamily rss\+Schema}}}\label{README.md_autotoc_md1152}
When using content collections, you can configure your collection schema to enforce expected \`{}\+RSSFeed\+Item\`{} properties. Import and apply {\ttfamily rss\+Schema} to ensure that each collection entry produces a valid RSS feed item\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ "{}schema:\ rssSchema,"{}}
\DoxyCodeLine{import\ \{\ defineCollection\ \}\ from\ 'astro:content';}
\DoxyCodeLine{import\ \{\ rssSchema\ \}\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ blog\ =\ defineCollection(\{}
\DoxyCodeLine{\ \ schema:\ rssSchema,}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{export\ const\ collections\ =\ \{\ blog\ \};}

\end{DoxyCode}


If you have an existing schema, you can merge extra properties using {\ttfamily extends()}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ "{}.extends(\{\ extraProperty:\ z.string()\ \}),"{}}
\DoxyCodeLine{import\ \{\ defineCollection\ \}\ from\ 'astro:content';}
\DoxyCodeLine{import\ \{\ rssSchema\ \}\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ blog\ =\ defineCollection(\{}
\DoxyCodeLine{\ \ schema:\ rssSchema.extends(\{\ extraProperty:\ z.string()\ \}),}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1153}{}\doxysubsection{\texorpdfstring{{\ttfamily pages\+Glob\+To\+Rss\+Items()}}{{\ttfamily pages\+Glob\+To\+Rss\+Items()}}}\label{README.md_autotoc_md1153}
To create an RSS feed from documents in {\ttfamily src/pages/}, use the {\ttfamily pages\+Glob\+To\+Rss\+Items()} helper. This accepts an {\ttfamily import.\+meta.\+glob} result (\href{https://vitejs.dev/guide/features.html\#glob-import}{\texttt{ see Vite documentation}}) and outputs an array of valid \`{}\+RSSFeed\+Item\`{}s.

This function assumes, but does not verify, you are globbing for items inside {\ttfamily src/pages/}, and all necessary feed properties are present in each document\textquotesingle{}s frontmatter. If you encounter errors, verify each page frontmatter manually.


\begin{DoxyCode}{0}
\DoxyCodeLine{\ "{}pagesGlobToRssItems"{}}
\DoxyCodeLine{//\ src/pages/rss.xml.js}
\DoxyCodeLine{import\ rss,\ \{\ pagesGlobToRssItems\ \}\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ async\ function\ GET(context)\ \{}
\DoxyCodeLine{\ \ return\ rss(\{}
\DoxyCodeLine{\ \ \ \ title:\ 'Buzz’s\ Blog',}
\DoxyCodeLine{\ \ \ \ description:\ 'A\ humble\ Astronaut’s\ guide\ to\ the\ stars',}
\DoxyCodeLine{\ \ \ \ site:\ context.site,}
\DoxyCodeLine{\ \ \ \ items:\ await\ pagesGlobToRssItems(import.meta.glob('./blog/*.\{md,mdx\}')),}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md1154}{}\doxysubsection{\texorpdfstring{{\ttfamily get\+Rss\+String()}}{{\ttfamily get\+Rss\+String()}}}\label{README.md_autotoc_md1154}
As {\ttfamily rss()} returns a {\ttfamily Response}, you can also use {\ttfamily get\+Rss\+String()} to get the RSS string directly and use it in your own response\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\ "{}getRssString"{}}
\DoxyCodeLine{//\ src/pages/rss.xml.js}
\DoxyCodeLine{import\ \{\ getRssString\ \}\ from\ '@astrojs/rss';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ async\ function\ GET(context)\ \{}
\DoxyCodeLine{\ \ const\ rssString\ =\ await\ getRssString(\{}
\DoxyCodeLine{\ \ \ \ title:\ 'Buzz’s\ Blog',}
\DoxyCodeLine{\ \ \ \ ...}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ return\ new\ Response(rssString,\ \{}
\DoxyCodeLine{\ \ \ \ headers:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ 'Content-\/Type':\ 'application/xml',}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\}}

\end{DoxyCode}


For more on building with Astro, \href{https://docs.astro.build/en/guides/rss/\#using-astrojsrss-recommended}{\texttt{ visit the Astro docs}}. 