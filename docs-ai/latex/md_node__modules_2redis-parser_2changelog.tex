\chapter{Changelog}
\hypertarget{md_node__modules_2redis-parser_2changelog}{}\label{md_node__modules_2redis-parser_2changelog}\index{Changelog@{Changelog}}
\label{md_node__modules_2redis-parser_2changelog_autotoc_md28043}%
\Hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28043}%
\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28044}{}\doxysection{\texorpdfstring{v.\+3.\+0.\+0 -\/ 25 May, 2017}{v.\+3.\+0.\+0 -\/ 25 May, 2017}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28044}
Breaking Changes


\begin{DoxyItemize}
\item Drop support for Node.\+js \texorpdfstring{$<$}{<} 4
\item Removed support for hiredis completely
\end{DoxyItemize}

Internals


\begin{DoxyItemize}
\item Due to the changes to ES6 the error performance improved by factor 2-\/3x
\item Improved length calculation performance (bulk strings + arrays)
\end{DoxyItemize}

Features


\begin{DoxyItemize}
\item The parser now handles weird input graceful
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28045}{}\doxysection{\texorpdfstring{v.\+2.\+6.\+0 -\/ 03 Apr, 2017}{v.\+2.\+6.\+0 -\/ 03 Apr, 2017}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28045}
Internals


\begin{DoxyItemize}
\item Use Buffer.\+alloc\+Unsafe instead of new Buffer() with modern Node.\+js versions
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28046}{}\doxysection{\texorpdfstring{v.\+2.\+5.\+0 -\/ 11 Mar, 2017}{v.\+2.\+5.\+0 -\/ 11 Mar, 2017}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28046}
Features


\begin{DoxyItemize}
\item Added a {\ttfamily Parser\+Error} class to differentiate them to Reply\+Errors. The class is also exported
\end{DoxyItemize}

Bugfixes


\begin{DoxyItemize}
\item All errors now show their error message again next to the error name in the stack trace
\item Parser\+Errors now show the offset and buffer attributes while being logged
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28047}{}\doxysection{\texorpdfstring{v.\+2.\+4.\+1 -\/ 05 Feb, 2017}{v.\+2.\+4.\+1 -\/ 05 Feb, 2017}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28047}
Bugfixes


\begin{DoxyItemize}
\item Fixed minimal memory consumption overhead for chunked buffers
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28048}{}\doxysection{\texorpdfstring{v.\+2.\+4.\+0 -\/ 25 Jan, 2017}{v.\+2.\+4.\+0 -\/ 25 Jan, 2017}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28048}
Features


\begin{DoxyItemize}
\item Added {\ttfamily reset} function to reset the parser to it\textquotesingle{}s initial values
\item Added {\ttfamily set\+Return\+Buffers} function to reset the return\+Buffers option (Only for the JSParser)
\item Added {\ttfamily set\+String\+Numbers} function to reset the string\+Numbers option (Only for the JSParser)
\item All Errors are now of sub classes of the new {\ttfamily Redis\+Error} class. It is also exported.
\item Improved bulk string chunked data handling performance
\end{DoxyItemize}

Bugfixes


\begin{DoxyItemize}
\item Parsing time for big nested arrays is now linear
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28049}{}\doxysection{\texorpdfstring{v.\+2.\+3.\+0 -\/ 25 Nov, 2016}{v.\+2.\+3.\+0 -\/ 25 Nov, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28049}
Features


\begin{DoxyItemize}
\item Parsing time for big arrays (e.\+g. 4mb+) is now linear and works well for arbitrary array sizes
\end{DoxyItemize}

This case is a magnitude faster than before \begin{DoxyVerb}OLD STR: * big array x 1.09 ops/sec ±2.15% (7 runs sampled)
OLD BUF: * big array x 1.23 ops/sec ±2.67% (8 runs sampled)

NEW STR: * big array x 273 ops/sec ±2.09% (85 runs sampled)
NEW BUF: * big array x 259 ops/sec ±1.32% (85 runs sampled)
(~10mb array with 1000 entries)
\end{DoxyVerb}
\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28050}{}\doxysection{\texorpdfstring{v.\+2.\+2.\+0 -\/ 18 Nov, 2016}{v.\+2.\+2.\+0 -\/ 18 Nov, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28050}
Features


\begin{DoxyItemize}
\item Improve {\ttfamily string\+Numbers} parsing performance by up to 100\%
\end{DoxyItemize}

Bugfixes


\begin{DoxyItemize}
\item Do not unref the interval anymore due to issues with Node\+JS
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28051}{}\doxysection{\texorpdfstring{v.\+2.\+1.\+1 -\/ 31 Oct, 2016}{v.\+2.\+1.\+1 -\/ 31 Oct, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28051}
Bugfixes


\begin{DoxyItemize}
\item Remove erroneously added const to support Node.\+js 0.\+10
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28052}{}\doxysection{\texorpdfstring{v.\+2.\+1.\+0 -\/ 30 Oct, 2016}{v.\+2.\+1.\+0 -\/ 30 Oct, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28052}
Features


\begin{DoxyItemize}
\item Improve parser errors by adding more detailed information to them
\item Accept manipulated Object.\+prototypes
\item Unref the interval if used
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28053}{}\doxysection{\texorpdfstring{v.\+2.\+0.\+4 -\/ 21 Jul, 2016}{v.\+2.\+0.\+4 -\/ 21 Jul, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28053}
Bugfixes


\begin{DoxyItemize}
\item Fixed multi byte characters getting corrupted
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28054}{}\doxysection{\texorpdfstring{v.\+2.\+0.\+3 -\/ 17 Jun, 2016}{v.\+2.\+0.\+3 -\/ 17 Jun, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28054}
Bugfixes


\begin{DoxyItemize}
\item Fixed parser not working with huge buffers (e.\+g. 300 MB)
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28055}{}\doxysection{\texorpdfstring{v.\+2.\+0.\+2 -\/ 08 Jun, 2016}{v.\+2.\+0.\+2 -\/ 08 Jun, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28055}
Bugfixes


\begin{DoxyItemize}
\item Fixed parser with return\+Buffers option returning corrupted data
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28056}{}\doxysection{\texorpdfstring{v.\+2.\+0.\+1 -\/ 04 Jun, 2016}{v.\+2.\+0.\+1 -\/ 04 Jun, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28056}
Bugfixes


\begin{DoxyItemize}
\item Fixed multiple parsers working concurrently resulting in faulty data in some cases
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28057}{}\doxysection{\texorpdfstring{v.\+2.\+0.\+0 -\/ 29 May, 2016}{v.\+2.\+0.\+0 -\/ 29 May, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28057}
The javascript parser got completely rewritten by \href{https://github.com/Salakar}{\texttt{ Michael Diarmid}} and \href{https://github.com/BridgeAR}{\texttt{ Ruben Bridgewater}} and is now a lot faster than the hiredis parser. Therefore the hiredis parser was deprecated and should only be used for testing purposes and benchmarking comparison.

All Errors returned by the parser are from now on of class Reply\+Error

Features


\begin{DoxyItemize}
\item Improved performance by up to 15x as fast as before
\item Improved options validation
\item Added Reply\+Error Class
\item Added parser benchmark
\item Switched default parser from hiredis to JS, no matter if hiredis is installed or not
\end{DoxyItemize}

Removed


\begin{DoxyItemize}
\item Deprecated hiredis support
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28058}{}\doxysection{\texorpdfstring{v.\+1.\+3.\+0 -\/ 27 Mar, 2016}{v.\+1.\+3.\+0 -\/ 27 Mar, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28058}
Features


\begin{DoxyItemize}
\item Added {\ttfamily auto} as parser name option to check what parser is available
\item Non existing requested parsers falls back into auto mode instead of always choosing the JS parser
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28059}{}\doxysection{\texorpdfstring{v.\+1.\+2.\+0 -\/ 27 Mar, 2016}{v.\+1.\+2.\+0 -\/ 27 Mar, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28059}
Features


\begin{DoxyItemize}
\item Added {\ttfamily string\+Numbers} option to make sure all numbers are returned as string instead of a js number for precision
\item The parser is from now on going to print warnings if a parser is explicitly requested that does not exist and gracefully chooses the JS parser
\end{DoxyItemize}\hypertarget{md_node__modules_2redis-parser_2changelog_autotoc_md28060}{}\doxysection{\texorpdfstring{v.\+1.\+1.\+0 -\/ 26 Jan, 2016}{v.\+1.\+1.\+0 -\/ 26 Jan, 2016}}\label{md_node__modules_2redis-parser_2changelog_autotoc_md28060}
Features


\begin{DoxyItemize}
\item The parser is from now on going to reset itself on protocol errors 
\end{DoxyItemize}