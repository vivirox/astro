\doxysection{node\+\_\+modules/@octokit/auth-\/oauth-\/user Directory Reference}
\hypertarget{dir_0980a7b08fcb7981bc189b26b8dc67f5}{}\label{dir_0980a7b08fcb7981bc189b26b8dc67f5}\index{node\_modules/"@octokit/auth-\/oauth-\/user Directory Reference@{node\_modules/"@octokit/auth-\/oauth-\/user Directory Reference}}


\doxysubsection{Detailed Description}
\begin{quote}
Octokit authentication strategy for OAuth user authentication \end{quote}


\href{https://www.npmjs.com/package/@octokit/auth-oauth-user}{\texttt{ }} \href{https://github.com/octokit/auth-oauth-user.js/actions?query=workflow\%3ATest+branch\%3Amain}{\texttt{ }}

{\bfseries{Important\+:}} {\ttfamily @octokit/auth-\/oauth-\/user} requires your app\textquotesingle{}s {\ttfamily client\+\_\+secret}, which must not be exposed. If you are looking for an OAuth user authentication strategy that can be used on a client (browser, IoT, CLI), check out \href{https://github.com/octokit/auth-oauth-user-client.js\#readme}{\texttt{ {\ttfamily @octokit/auth-\/oauth-\/user-\/client}}}. Note that {\ttfamily @octokit/auth-\/oauth-\/user-\/client} requires a backend. The only exception is \href{https://github.com/octokit/auth-oauth-device.js\#readme}{\texttt{ {\ttfamily @octokit/auth-\/oauth-\/device}}} which does not require the {\ttfamily client\+\_\+secret}, but does not work in browsers due to CORS constraints.



{\bfseries{Table of contents}}\begin{adjustwidth}{1em}{0em}



\begin{DoxyItemize}
\item \doxylink{md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g_features}{Features}
\item Standalone usage
\begin{DoxyItemize}
\item Exchange code from OAuth web flow
\item OAuth Device flow
\item Use an existing authentication
\end{DoxyItemize}
\item Usage with Octokit
\item \`{}create\+OAuth\+User\+Auth(options)\`{} or \`{}new Octokit(\{ auth \})\`{}
\begin{DoxyItemize}
\item When using Git\+Hub\textquotesingle{}s OAuth web flow
\item When using Git\+Hub\textquotesingle{}s OAuth device flow
\item When passing an existing authentication object
\end{DoxyItemize}
\item \`{}auth(options)\`{} or \`{}octokit.auth(options)\`{}
\item Authentication object
\begin{DoxyItemize}
\item OAuth APP authentication token
\item Git\+Hub APP user authentication token with expiring disabled
\item Git\+Hub APP user authentication token with expiring enabled
\end{DoxyItemize}
\item \`{}auth.hook(request, route, parameters)\`{} or \`{}auth.hook(request, options)\`{}
\item \doxylink{readme.md_types}{Types}
\item \doxylink{md_node__modules_2chai_2_c_o_n_t_r_i_b_u_t_i_n_g_contributing}{Contributing}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{README.md_autotoc_md5175}{}\doxysubsection{\texorpdfstring{Features}{Features}}\label{README.md_autotoc_md5175}

\begin{DoxyItemize}
\item Code for token exchange from \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#web-application-flow}{\texttt{ Git\+Hub\textquotesingle{}s OAuth web flow}}
\item \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#device-flow}{\texttt{ Git\+Hub\textquotesingle{}s OAuth device flow}}
\item Caches token for succesive calls
\item Auto-\/refreshing for \href{https://docs.github.com/en/developers/apps/refreshing-user-to-server-access-tokens}{\texttt{ expiring user access tokens}}
\item Applies the correct authentication strategy based on the request URL when using with {\ttfamily Octokit}
\item Token verification
\item Token reset
\item Token invalidation
\item Application grant revocation
\end{DoxyItemize}\hypertarget{README.md_autotoc_md5176}{}\doxysubsection{\texorpdfstring{Standalone usage}{Standalone usage}}\label{README.md_autotoc_md5176}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ 

Browsers

}&

Load {\ttfamily @octokit/auth-\/oauth-\/user} directly from \href{https://esm.sh}{\texttt{ esm.\+sh}}


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{\ createOAuthUserAuth\ \}\ from\ "{}https://esm.sh/@octokit/auth-\/oauth-\/user"{};}
\DoxyCodeLine{</script>}

\end{DoxyCode}


\\\cline{1-2}
\cellcolor{\tableheadbgcolor}\textbf{ 

Node

}&

Install with {\ttfamily npm install @octokit/auth-\/oauth-\/user}


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ createOAuthUserAuth\ \}\ from\ "{}@octokit/auth-\/oauth-\/user"{};}

\end{DoxyCode}


\\\cline{1-2}
\end{longtabu}
\hypertarget{README.md_autotoc_md5177}{}\doxysubsubsection{\texorpdfstring{Exchange code from OAuth web flow}{Exchange code from OAuth web flow}}\label{README.md_autotoc_md5177}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ auth\ =\ createOAuthUserAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ code:\ "{}code123"{},}
\DoxyCodeLine{\ \ //\ optional}
\DoxyCodeLine{\ \ state:\ "{}state123"{},}
\DoxyCodeLine{\ \ redirectUrl:\ "{}https://acme-\/inc.com/login"{},}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Exchanges\ the\ code\ for\ the\ user\ access\ token\ authentication\ on\ first\ call}
\DoxyCodeLine{//\ and\ caches\ the\ authentication\ for\ successive\ calls}
\DoxyCodeLine{const\ \{\ token\ \}\ =\ await\ auth();}

\end{DoxyCode}


About \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#web-application-flow}{\texttt{ Git\+Hub\textquotesingle{}s OAuth web flow}}\hypertarget{README.md_autotoc_md5178}{}\doxysubsubsection{\texorpdfstring{OAuth Device flow}{OAuth Device flow}}\label{README.md_autotoc_md5178}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ auth\ =\ createOAuthUserAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ onVerification(verification)\ \{}
\DoxyCodeLine{\ \ \ \ //\ verification\ example}
\DoxyCodeLine{\ \ \ \ //\ \{}
\DoxyCodeLine{\ \ \ \ //\ \ \ device\_code:\ "{}3584d83530557fdd1f46af8289938c8ef79f9dc5"{},}
\DoxyCodeLine{\ \ \ \ //\ \ \ user\_code:\ "{}WDJB-\/MJHT"{},}
\DoxyCodeLine{\ \ \ \ //\ \ \ verification\_uri:\ "{}https://github.com/login/device"{},}
\DoxyCodeLine{\ \ \ \ //\ \ \ expires\_in:\ 900,}
\DoxyCodeLine{\ \ \ \ //\ \ \ interval:\ 5,}
\DoxyCodeLine{\ \ \ \ //\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ console.log("{}Open\ \%s"{},\ verification.verification\_uri);}
\DoxyCodeLine{\ \ \ \ console.log("{}Enter\ code:\ \%s"{},\ verification.user\_code);}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ resolves\ once\ the\ user\ entered\ the\ \`{}user\_code`\ on\ \`{}verification\_uri`}
\DoxyCodeLine{const\ \{\ token\ \}\ =\ await\ auth();}

\end{DoxyCode}


About \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#device-flow}{\texttt{ Git\+Hub\textquotesingle{}s OAuth device flow}}\hypertarget{README.md_autotoc_md5179}{}\doxysubsubsection{\texorpdfstring{Use an existing authentication}{Use an existing authentication}}\label{README.md_autotoc_md5179}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ auth\ =\ createOAuthUserAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ clientType:\ "{}oauth-\/app"{},}
\DoxyCodeLine{\ \ token:\ "{}token123"{},}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ will\ return\ the\ passed\ authentication}
\DoxyCodeLine{const\ \{\ token\ \}\ =\ await\ auth();}

\end{DoxyCode}


See Authentication object.\hypertarget{README.md_autotoc_md5180}{}\doxysubsection{\texorpdfstring{Usage with Octokit}{Usage with Octokit}}\label{README.md_autotoc_md5180}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ 

Browsers

}&

{\ttfamily @octokit/auth-\/oauth-\/user} cannot be used in the browser. It requires {\ttfamily client\+Secret} to be set which must not be exposed to clients, and some of the OAuth APIs it uses do not support CORS.

\\\cline{1-2}
\cellcolor{\tableheadbgcolor}\textbf{ 

Node

}&

Install with {\ttfamily npm install @octokit/core @octokit/auth-\/oauth-\/user}. Optionally replace {\ttfamily @octokit/core} with a compatible module


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ Octokit\ \}\ from\ "{}@octokit/core"{};}
\DoxyCodeLine{import\ \{\ createOAuthUserAuth\ \}\ from\ "{}@octokit/auth-\/oauth-\/user"{};}

\end{DoxyCode}


\\\cline{1-2}
\end{longtabu}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ octokit\ =\ new\ Octokit(\{}
\DoxyCodeLine{\ \ authStrategy:\ createOAuthUserAuth,}
\DoxyCodeLine{\ \ auth:\ \{}
\DoxyCodeLine{\ \ \ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ \ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ \ \ code:\ "{}code123"{},}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Exchanges\ the\ code\ for\ the\ user\ access\ token\ authentication\ on\ first\ request}
\DoxyCodeLine{//\ and\ caches\ the\ authentication\ for\ successive\ requests}
\DoxyCodeLine{const\ \{}
\DoxyCodeLine{\ \ data:\ \{\ login\ \},}
\DoxyCodeLine{\}\ =\ await\ octokit.request("{}GET\ /user"{});}
\DoxyCodeLine{console.log("{}Hello,\ \%s!"{},\ login);}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md5181}{}\doxysubsection{\texorpdfstring{{\ttfamily create\+OAuth\+User\+Auth(options)} or {\ttfamily new Octokit(\{ auth \})}}{{\ttfamily create\+OAuth\+User\+Auth(options)} or {\ttfamily new Octokit(\{ auth \})}}}\label{README.md_autotoc_md5181}
The {\ttfamily create\+OAuth\+User\+Auth} method accepts a single {\ttfamily options} object as argument. The same set of options can be passed as {\ttfamily auth} to the {\ttfamily Octokit} constructor when setting {\ttfamily auth\+Strategy\+: create\+OAuth\+User\+Auth}\hypertarget{README.md_autotoc_md5182}{}\doxysubsubsection{\texorpdfstring{When using Git\+Hub\textquotesingle{}s OAuth web flow}{When using Git\+Hub\textquotesingle{}s OAuth web flow}}\label{README.md_autotoc_md5182}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client ID of your Git\+Hub/\+OAuth App. Find it on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client Secret for your Git\+Hub/\+OAuth App. Create one on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Either {\ttfamily "{}oauth-\/app"{}} or {\ttfamily "{}github-\/app"{}}. Defaults to {\ttfamily "{}oauth-\/app"{}}.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily code}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&

{\bfseries{Required.}} The authorization code which was passed as query parameter to the callback URL from \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#web-application-flow}{\texttt{ Git\+Hub\textquotesingle{}s OAuth web application flow}}.

\\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily state}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&

The unguessable random string you provided in \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#1-request-a-users-github-identity}{\texttt{ Step 1 of Git\+Hub\textquotesingle{}s OAuth web application flow}}.

\\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily redirect\+Url}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&

The {\ttfamily redirect\+\_\+uri} parameter you provided in \href{https://docs.github.com/en/developers/apps/authorizing-oauth-apps\#1-request-a-users-github-identity}{\texttt{ Step 1 of Git\+Hub\textquotesingle{}s OAuth web application flow}}.

\\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily request}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&You can pass in your own \href{https://github.com/octokit/request.js}{\texttt{ {\ttfamily @octokit/request}}} instance. For usage with enterprise, set {\ttfamily base\+Url} to the API root endpoint. Example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ request\ \}\ from\ "{}@octokit/request"{};}
\DoxyCodeLine{createOAuthAppAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ request:\ request.defaults(\{}
\DoxyCodeLine{\ \ \ \ baseUrl:\ "{}https://ghe.my-\/company.com/api/v3"{},}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{\});}

\end{DoxyCode}


\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5183}{}\doxysubsubsection{\texorpdfstring{When using Git\+Hub\textquotesingle{}s OAuth device flow}{When using Git\+Hub\textquotesingle{}s OAuth device flow}}\label{README.md_autotoc_md5183}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client ID of your Git\+Hub/\+OAuth App. Find it on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client Secret for your Git\+Hub/\+OAuth App. The {\ttfamily client\+Secret} is not needed for the OAuth device flow itself, but it is required for resetting, refreshing, and invalidating a token. Find the Client Secret on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Either {\ttfamily "{}oauth-\/app"{}} or {\ttfamily "{}github-\/app"{}}. Defaults to {\ttfamily "{}oauth-\/app"{}}.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily on\+Verification}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&

{\bfseries{Required}}. A function that is called once the device and user codes were retrieved

The {\ttfamily on\+Verification()} callback can be used to pause until the user completes step 2, which might result in a better user experience.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ auth\ =\ createOAuthUserAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ onVerification(verification)\ \{}
\DoxyCodeLine{\ \ \ \ console.log("{}Open\ \%s"{},\ verification.verification\_uri);}
\DoxyCodeLine{\ \ \ \ console.log("{}Enter\ code:\ \%s"{},\ verification.user\_code);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ await\ prompt("{}press\ enter\ when\ you\ are\ ready\ to\ continue"{});}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\});}

\end{DoxyCode}


\\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily request}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&You can pass in your own \href{https://github.com/octokit/request.js}{\texttt{ {\ttfamily @octokit/request}}} instance. For usage with enterprise, set {\ttfamily base\+Url} to the API root endpoint. Example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ request\ \}\ from\ "{}@octokit/request"{};}
\DoxyCodeLine{createOAuthAppAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ onVerification(verification)\ \{}
\DoxyCodeLine{\ \ \ \ console.log("{}Open\ \%s"{},\ verification.verification\_uri);}
\DoxyCodeLine{\ \ \ \ console.log("{}Enter\ code:\ \%s"{},\ verification.user\_code);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ await\ prompt("{}press\ enter\ when\ you\ are\ ready\ to\ continue"{});}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ request:\ request.defaults(\{}
\DoxyCodeLine{\ \ \ \ baseUrl:\ "{}https://ghe.my-\/company.com/api/v3"{},}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{\});}

\end{DoxyCode}


\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5184}{}\doxysubsubsection{\texorpdfstring{When passing an existing authentication object}{When passing an existing authentication object}}\label{README.md_autotoc_md5184}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Either {\ttfamily "{}oauth-\/app"{}} or {\ttfamily "{}github"{}}.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client ID of your Git\+Hub/\+OAuth App. Find it on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. Client Secret for your Git\+Hub/\+OAuth App. Create one on your app\textquotesingle{}s settings page.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\bfseries{Required}}. The user access token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily scopes}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily array of strings}  }&{\bfseries{Required if {\ttfamily client\+Type} is set to {\ttfamily "{}oauth-\/app"{}}}}. Array of OAuth scope names the token was granted   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily refresh\+Token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Only relevant if {\ttfamily client\+Type} is set to {\ttfamily "{}github-\/app"{}} and token expiration is enabled.   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily expires\+At}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Only relevant if {\ttfamily client\+Type} is set to {\ttfamily "{}github-\/app"{}} and token expiration is enabled. Date timestamp in \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString}{\texttt{ ISO 8601}} standard. Example\+: {\ttfamily 2022-\/01-\/01T08\+:00\+:0.\+000Z}    \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily refresh\+Token\+Expires\+At}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Only relevant if {\ttfamily client\+Type} is set to {\ttfamily "{}github-\/app"{}} and token expiration is enabled. Date timestamp in \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString}{\texttt{ ISO 8601}} standard. Example\+: {\ttfamily 2021-\/07-\/01T00\+:00\+:0.\+000Z}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily request}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&You can pass in your own \href{https://github.com/octokit/request.js}{\texttt{ {\ttfamily @octokit/request}}} instance. For usage with enterprise, set {\ttfamily base\+Url} to the API root endpoint. Example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ request\ \}\ from\ "{}@octokit/request"{};}
\DoxyCodeLine{createOAuthAppAuth(\{}
\DoxyCodeLine{\ \ clientId:\ "{}1234567890abcdef1234"{},}
\DoxyCodeLine{\ \ clientSecret:\ "{}1234567890abcdef1234567890abcdef12345678"{},}
\DoxyCodeLine{\ \ request:\ request.defaults(\{}
\DoxyCodeLine{\ \ \ \ baseUrl:\ "{}https://ghe.my-\/company.com/api/v3"{},}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{\});}

\end{DoxyCode}


\\\cline{1-3}
\end{longtabu}


\begin{DoxyImportant}{Important}
As we use \href{https://nodejs.org/api/packages.html\#conditional-exports}{\texttt{ conditional exports}}, you will need to adapt your {\ttfamily tsconfig.\+json} by setting {\ttfamily "{}module\+Resolution"{}\+: "{}node16"{}, "{}module"{}\+: "{}node16"{}}. ~\newline
~\newline
 See the Type\+Script docs on \href{https://www.typescriptlang.org/docs/handbook/modules/reference.html\#packagejson-exports}{\texttt{ package.\+json "{}exports"{}}}.~\newline
 See this \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ helpful guide on transitioning to ESM}} from \href{https://github.com/sindresorhus}{\texttt{ @sindresorhus}}
\end{DoxyImportant}
\hypertarget{README.md_autotoc_md5185}{}\doxysubsection{\texorpdfstring{{\ttfamily auth(options)} or {\ttfamily octokit.\+auth(options)}}{{\ttfamily auth(options)} or {\ttfamily octokit.\+auth(options)}}}\label{README.md_autotoc_md5185}
The async {\ttfamily auth()} method is returned by {\ttfamily create\+OAuth\+User\+Auth(options)} or set on the {\ttfamily octokit} instance when the {\ttfamily Octokit} constructor was called with {\ttfamily auth\+Strategy\+: create\+OAuth\+User\+Auth}.

Once {\ttfamily auth()} receives a valid authentication object it caches it in memory and uses it for subsequent calls. It also caches if the token is invalid and no longer tries to send any requests. If the authentication is using a refresh token, a new token will be requested as needed. Calling {\ttfamily auth(\{ type\+: "{}reset"{} \})} will replace the internally cached authentication.

Resolves with an authentication object.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&

Without setting {\ttfamily type} auth will return the current authentication object, or exchange the {\ttfamily code} from the strategy options on first call. If the current authentication token is expired, the tokens will be refreshed.

Possible values for {\ttfamily type} are


\begin{DoxyItemize}
\item {\ttfamily "{}get"{}}\+: returns the token from internal state and creates it if none was created yet
\item {\ttfamily "{}check"{}}\+: sends request to verify the validity of the current token
\item {\ttfamily "{}reset"{}}\+: invalidates current token and replaces it with a new one
\item {\ttfamily "{}refresh"{}}\+: Git\+Hub Apps only, and only if expiring user tokens are enabled.
\item {\ttfamily "{}delete"{}}\+: invalidates current token
\item {\ttfamily "{}delete\+Authorization"{}}\+: revokes OAuth access for application. All tokens for the current user created by the same app are invalidated. The user will be prompted to grant access again during the next OAuth web flow.
\end{DoxyItemize}

\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5186}{}\doxysubsection{\texorpdfstring{Authentication object}{Authentication object}}\label{README.md_autotoc_md5186}
There are three possible results


\begin{DoxyEnumerate}
\item OAuth APP authentication token
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Git\+Hub APP user authentication token with expiring disabled
\end{DoxyEnumerate}
\begin{DoxyEnumerate}
\item Git\+Hub APP user authentication token with expiring enabled
\end{DoxyEnumerate}

The differences are


\begin{DoxyEnumerate}
\item {\ttfamily scopes} is only present for OAuth Apps
\item {\ttfamily refresh\+Token}, {\ttfamily expires\+At}, {\ttfamily refresh\+Token\+Expires\+At} are only present for Git\+Hub Apps, and only if token expiration is enabled
\end{DoxyEnumerate}\hypertarget{README.md_autotoc_md5187}{}\doxysubsubsection{\texorpdfstring{OAuth APP authentication token}{OAuth APP authentication token}}\label{README.md_autotoc_md5187}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}token"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}oauth"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}oauth-\/app"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Id} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Secret} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The user access token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily scopes}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily array of strings}  }&array of scope names enabled for the token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily on\+Token\+Created}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&callback invoked when a token is "{}reset"{} or "{}refreshed"{}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily invalid}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily boolean}  }&

Either {\ttfamily undefined} or {\ttfamily true}. Will be set to {\ttfamily true} if the token was invalided explicitly or found to be invalid

\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5188}{}\doxysubsubsection{\texorpdfstring{Git\+Hub APP user authentication token with expiring disabled}{Git\+Hub APP user authentication token with expiring disabled}}\label{README.md_autotoc_md5188}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}token"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}oauth"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}github-\/app"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Id} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Secret} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The user access token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily on\+Token\+Created}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily function}  }&callback invoked when a token is "{}reset"{} or "{}refreshed"{}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily invalid}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily boolean}  }&

Either {\ttfamily undefined} or {\ttfamily true}. Will be set to {\ttfamily true} if the token was invalided explicitly or found to be invalid

\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5189}{}\doxysubsubsection{\texorpdfstring{Git\+Hub APP user authentication token with expiring enabled}{Git\+Hub APP user authentication token with expiring enabled}}\label{README.md_autotoc_md5189}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ name  }&\cellcolor{\tableheadbgcolor}\textbf{ type  }&\cellcolor{\tableheadbgcolor}\textbf{ description     }\\\cline{1-3}
\endhead
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}token"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}oauth"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Type}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&{\ttfamily "{}github-\/app"{}}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Id}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Id} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily client\+Secret}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The {\ttfamily client\+Secret} from the strategy options   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The user access token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily refresh\+Token}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&The refresh token   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily expires\+At}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Date timestamp in \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString}{\texttt{ ISO 8601}} standard. Example\+: {\ttfamily 2022-\/01-\/01T08\+:00\+:0.\+000Z}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily refresh\+Token\+Expires\+At}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily string}  }&Date timestamp in \href{https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString}{\texttt{ ISO 8601}} standard. Example\+: {\ttfamily 2021-\/07-\/01T00\+:00\+:0.\+000Z}   \\\cline{1-3}
\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily invalid}  }&\cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily boolean}  }&

Either {\ttfamily undefined} or {\ttfamily true}. Will be set to {\ttfamily true} if the token was invalided explicitly or found to be invalid

\\\cline{1-3}
\end{longtabu}
\hypertarget{README.md_autotoc_md5190}{}\doxysubsection{\texorpdfstring{{\ttfamily auth.\+hook(request, route, parameters)} or {\ttfamily auth.\+hook(request, options)}}{{\ttfamily auth.\+hook(request, route, parameters)} or {\ttfamily auth.\+hook(request, options)}}}\label{README.md_autotoc_md5190}
{\ttfamily auth.\+hook()} hooks directly into the request life cycle. It amends the request to authenticate correctly based on the request URL.

The {\ttfamily request} option is an instance of \href{https://github.com/octokit/request.js\#readme}{\texttt{ {\ttfamily @octokit/request}}}. The {\ttfamily route}/{\ttfamily options} parameters are the same as for the \href{https://github.com/octokit/request.js\#request}{\texttt{ {\ttfamily request()} method}}.

{\ttfamily auth.\+hook()} can be called directly to send an authenticated request


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ data:\ user\ \}\ =\ await\ auth.hook(request,\ "{}GET\ /user"{});}

\end{DoxyCode}


Or it can be passed as option to \href{https://github.com/octokit/request.js\#request}{\texttt{ {\ttfamily request()}}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ requestWithAuth\ =\ request.defaults(\{}
\DoxyCodeLine{\ \ request:\ \{}
\DoxyCodeLine{\ \ \ \ hook:\ auth.hook,}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{\ data:\ user\ \}\ =\ await\ requestWithAuth("{}GET\ /user"{});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md5191}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{README.md_autotoc_md5191}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{}
\DoxyCodeLine{\ \ GitHubAppAuthentication,}
\DoxyCodeLine{\ \ GitHubAppAuthenticationWithExpiration,}
\DoxyCodeLine{\ \ GitHubAppAuthOptions,}
\DoxyCodeLine{\ \ GitHubAppStrategyOptions,}
\DoxyCodeLine{\ \ GitHubAppStrategyOptionsDeviceFlow,}
\DoxyCodeLine{\ \ GitHubAppStrategyOptionsExistingAuthentication,}
\DoxyCodeLine{\ \ GitHubAppStrategyOptionsExistingAuthenticationWithExpiration,}
\DoxyCodeLine{\ \ GitHubAppStrategyOptionsWebFlow,}
\DoxyCodeLine{\ \ OAuthAppAuthentication,}
\DoxyCodeLine{\ \ OAuthAppAuthOptions,}
\DoxyCodeLine{\ \ OAuthAppStrategyOptions,}
\DoxyCodeLine{\ \ OAuthAppStrategyOptionsDeviceFlow,}
\DoxyCodeLine{\ \ OAuthAppStrategyOptionsExistingAuthentication,}
\DoxyCodeLine{\ \ OAuthAppStrategyOptionsWebFlow,}
\DoxyCodeLine{\}\ from\ "{}@octokit/auth-\/oauth-\/user"{};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md5192}{}\doxysubsection{\texorpdfstring{Contributing}{Contributing}}\label{README.md_autotoc_md5192}
See \doxylink{zod-to-json-schema_2_c_o_n_t_r_i_b_u_t_i_n_g_8md}{CONTRIBUTING.md}\hypertarget{README.md_autotoc_md5193}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md5193}
\mbox{[}MIT\mbox{]}(LICENSE) 