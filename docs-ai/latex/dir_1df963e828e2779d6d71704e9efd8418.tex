\doxysection{node\+\_\+modules/jest-\/changed-\/files/node\+\_\+modules/execa Directory Reference}
\hypertarget{dir_1df963e828e2779d6d71704e9efd8418}{}\label{dir_1df963e828e2779d6d71704e9efd8418}\index{node\_modules/jest-\/changed-\/files/node\_modules/execa Directory Reference@{node\_modules/jest-\/changed-\/files/node\_modules/execa Directory Reference}}


\doxysubsection{Detailed Description}
 ~\newline


\href{https://codecov.io/gh/sindresorhus/execa}{\texttt{ }}

\begin{quote}
Process execution for humans \end{quote}
\hypertarget{readme.md_autotoc_md19433}{}\doxysubsubsection{\texorpdfstring{Why}{Why}}\label{readme.md_autotoc_md19433}
This package improves \href{https://nodejs.org/api/child_process.html}{\texttt{ {\ttfamily child\+\_\+process}}} methods with\+:


\begin{DoxyItemize}
\item Promise interface.
\item Strips the final newline from the output so you don\textquotesingle{}t have to do {\ttfamily stdout.\+trim()}.
\item Supports \href{https://en.wikipedia.org/wiki/Shebang_(Unix)}{\texttt{ shebang}} binaries cross-\/platform.
\item \href{https://github.com/IndigoUnited/node-cross-spawn\#why}{\texttt{ Improved Windows support.}}
\item Higher max buffer. 100 MB instead of 200 KB.
\item Executes locally installed binaries by name.
\item Cleans up spawned processes when the parent process dies.
\item Get interleaved output from {\ttfamily stdout} and {\ttfamily stderr} similar to what is printed on the terminal. \texorpdfstring{$\ast$}{*}(Async only)\texorpdfstring{$\ast$}{*}
\item Can specify file and arguments as a single string without a shell
\item More descriptive errors.
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19434}{}\doxysubsubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md19434}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ execa}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19435}{}\doxysubsubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md19435}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ \{stdout\}\ =\ await\ execa('echo',\ ['unicorns']);}
\DoxyCodeLine{\ \ \ \ console.log(stdout);}
\DoxyCodeLine{\ \ \ \ //=>\ 'unicorns'}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19436}{}\doxysubsubsubsection{\texorpdfstring{Pipe the child process stdout to the parent}{Pipe the child process stdout to the parent}}\label{readme.md_autotoc_md19436}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{execa('echo',\ ['unicorns']).stdout.pipe(process.stdout);}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19437}{}\doxysubsubsubsection{\texorpdfstring{Handling Errors}{Handling Errors}}\label{readme.md_autotoc_md19437}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ //\ Catching\ an\ error}
\DoxyCodeLine{\ \ \ \ try\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ await\ execa('unknown',\ ['command']);}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(error);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ /*}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ message:\ 'Command\ failed\ with\ ENOENT:\ unknown\ command\ spawn\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ errno:\ -\/2,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ code:\ 'ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ syscall:\ 'spawn\ unknown',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ path:\ 'unknown',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ spawnargs:\ ['command'],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ originalMessage:\ 'spawn\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ shortMessage:\ 'Command\ failed\ with\ ENOENT:\ unknown\ command\ spawn\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ command:\ 'unknown\ command',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ escapedCommand:\ 'unknown\ command',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ stdout:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ stderr:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ all:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ failed:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ timedOut:\ false,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ isCanceled:\ false,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ killed:\ false}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ */}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19438}{}\doxysubsubsubsection{\texorpdfstring{Cancelling a spawned process}{Cancelling a spawned process}}\label{readme.md_autotoc_md19438}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ subprocess\ =\ execa('node');}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ setTimeout(()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ subprocess.cancel();}
\DoxyCodeLine{\ \ \ \ \},\ 1000);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ try\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ await\ subprocess;}
\DoxyCodeLine{\ \ \ \ \}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(subprocess.killed);\ //\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log(error.isCanceled);\ //\ true}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\})()}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19439}{}\doxysubsubsubsection{\texorpdfstring{Catching an error with the sync method}{Catching an error with the sync method}}\label{readme.md_autotoc_md19439}

\begin{DoxyCode}{0}
\DoxyCodeLine{try\ \{}
\DoxyCodeLine{\ \ \ \ execa.sync('unknown',\ ['command']);}
\DoxyCodeLine{\}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ \ \ console.log(error);}
\DoxyCodeLine{\ \ \ \ /*}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ message:\ 'Command\ failed\ with\ ENOENT:\ unknown\ command\ spawnSync\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ errno:\ -\/2,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ code:\ 'ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ syscall:\ 'spawnSync\ unknown',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ path:\ 'unknown',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ spawnargs:\ ['command'],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ originalMessage:\ 'spawnSync\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ shortMessage:\ 'Command\ failed\ with\ ENOENT:\ unknown\ command\ spawnSync\ unknown\ ENOENT',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ command:\ 'unknown\ command',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ escapedCommand:\ 'unknown\ command',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ stdout:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ stderr:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ all:\ '',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ failed:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ timedOut:\ false,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ isCanceled:\ false,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ killed:\ false}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ */}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19440}{}\doxysubsubsubsection{\texorpdfstring{Kill a process}{Kill a process}}\label{readme.md_autotoc_md19440}
Using SIGTERM, and after 2 seconds, kill it with SIGKILL.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ subprocess\ =\ execa('node');}
\DoxyCodeLine{}
\DoxyCodeLine{setTimeout(()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ subprocess.kill('SIGTERM',\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ forceKillAfterTimeout:\ 2000}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\},\ 1000);}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19441}{}\doxysubsubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md19441}
\hypertarget{readme.md_autotoc_md19442}{}\doxysubsubsubsection{\texorpdfstring{execa(file, arguments, options?)}{execa(file, arguments, options?)}}\label{readme.md_autotoc_md19442}
Execute a file. Think of this as a mix of \href{https://nodejs.org/api/child_process.html\#child_process_child_process_execfile_file_args_options_callback}{\texttt{ {\ttfamily child\+\_\+process.\+exec\+File()}}} and \href{https://nodejs.org/api/child_process.html\#child_process_child_process_spawn_command_args_options}{\texttt{ {\ttfamily child\+\_\+process.\+spawn()}}}.

No escaping/quoting is needed.

Unless the \`{}shell\`{} option is used, no shell interpreter (Bash, {\ttfamily cmd.\+exe}, etc.) is used, so shell features such as variables substitution ({\ttfamily echo \$PATH}) are not allowed.

Returns a \href{https://nodejs.org/api/child_process.html\#child_process_class_childprocess}{\texttt{ {\ttfamily child\+\_\+process} instance}} which\+:
\begin{DoxyItemize}
\item is also a {\ttfamily Promise} resolving or rejecting with a \`{}child\+Process\+Result\`{}.
\item exposes the following additional methods and properties.
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19443}{}\doxysubsubsubsubsection{\texorpdfstring{kill(signal?, options?)}{kill(signal?, options?)}}\label{readme.md_autotoc_md19443}
Same as the original \href{https://nodejs.org/api/child_process.html\#child_process_subprocess_kill_signal}{\texttt{ {\ttfamily child\+\_\+process\#kill()}}} except\+: if {\ttfamily signal} is {\ttfamily SIGTERM} (the default value) and the child process is not terminated after 5 seconds, force it by sending {\ttfamily SIGKILL}.\hypertarget{readme.md_autotoc_md19444}{}\doxysubsubsubsubsubsection{\texorpdfstring{options.\+force\+Kill\+After\+Timeout}{options.\+force\+Kill\+After\+Timeout}}\label{readme.md_autotoc_md19444}
Type\+: {\ttfamily number \texorpdfstring{$\vert$}{|} false}\textbackslash{} Default\+: {\ttfamily 5000}

Milliseconds to wait for the child process to terminate before sending {\ttfamily SIGKILL}.

Can be disabled with {\ttfamily false}.\hypertarget{readme.md_autotoc_md19445}{}\doxysubsubsubsubsection{\texorpdfstring{cancel()}{cancel()}}\label{readme.md_autotoc_md19445}
Similar to \href{https://nodejs.org/api/child_process.html\#child_process_subprocess_kill_signal}{\texttt{ {\ttfamily child\+Process.\+kill()}}}. This is preferred when cancelling the child process execution as the error is more descriptive and \`{}child\+Process\+Result.is\+Canceled\`{} is set to {\ttfamily true}.\hypertarget{readme.md_autotoc_md19446}{}\doxysubsubsubsubsection{\texorpdfstring{all}{all}}\label{readme.md_autotoc_md19446}
Type\+: {\ttfamily Readable\+Stream \texorpdfstring{$\vert$}{|} undefined}

Stream combining/interleaving \href{https://nodejs.org/api/child_process.html\#child_process_subprocess_stdout}{\texttt{ {\ttfamily stdout}}} and \href{https://nodejs.org/api/child_process.html\#child_process_subprocess_stderr}{\texttt{ {\ttfamily stderr}}}.

This is {\ttfamily undefined} if either\+:
\begin{DoxyItemize}
\item the \`{}all\`{} option is {\ttfamily false} (the default value)
\item both \`{}stdout\`{} and \`{}stderr\`{} options are set to \href{https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html\#child_process_options_stdio}{\texttt{ `\textquotesingle{}inherit'{\ttfamily ,}\textquotesingle{}ipc\textquotesingle{}{\ttfamily ,}Stream{\ttfamily or}integer\`{}}}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19447}{}\doxysubsubsubsection{\texorpdfstring{execa.\+sync(file, arguments?, options?)}{execa.\+sync(file, arguments?, options?)}}\label{readme.md_autotoc_md19447}
Execute a file synchronously.

Returns or throws a \`{}child\+Process\+Result\`{}.\hypertarget{readme.md_autotoc_md19448}{}\doxysubsubsubsection{\texorpdfstring{execa.\+command(command, options?)}{execa.\+command(command, options?)}}\label{readme.md_autotoc_md19448}
Same as \`{}execa()\`{} except both file and arguments are specified in a single {\ttfamily command} string. For example, `execa(\textquotesingle{}echo', \mbox{[}\textquotesingle{}unicorns\textquotesingle{}\mbox{]}){\ttfamily is the same as}execa.\+command(\textquotesingle{}echo unicorns\textquotesingle{})\`{}.

If the file or an argument contains spaces, they must be escaped with backslashes. This matters especially if {\ttfamily command} is not a constant but a variable, for example with {\ttfamily \+\_\+\+\_\+dirname} or {\ttfamily process.\+cwd()}. Except for spaces, no escaping/quoting is needed.

The \`{}shell\`{} option must be used if the {\ttfamily command} uses shell-\/specific features (for example, {\ttfamily \&\&} or {\ttfamily \texorpdfstring{$\vert$}{|}\texorpdfstring{$\vert$}{|}}), as opposed to being a simple {\ttfamily file} followed by its {\ttfamily arguments}.\hypertarget{readme.md_autotoc_md19449}{}\doxysubsubsubsection{\texorpdfstring{execa.\+command\+Sync(command, options?)}{execa.\+command\+Sync(command, options?)}}\label{readme.md_autotoc_md19449}
Same as \`{}execa.command()\`{} but synchronous.

Returns or throws a \`{}child\+Process\+Result\`{}.\hypertarget{readme.md_autotoc_md19450}{}\doxysubsubsubsection{\texorpdfstring{execa.\+node(script\+Path, arguments?, options?)}{execa.\+node(script\+Path, arguments?, options?)}}\label{readme.md_autotoc_md19450}
Execute a Node.\+js script as a child process.

Same as `execa(\textquotesingle{}node', \mbox{[}script\+Path, ...arguments\mbox{]}, options){\ttfamily except (like \mbox{[}}child\+\_\+process\#fork(){\ttfamily \mbox{]}(\href{https://nodejs.org/api/child_process.html}{\texttt{ https\+://nodejs.\+org/api/child\+\_\+process.\+html}}\#child\+\_\+process\+\_\+child\+\_\+process\+\_\+fork\+\_\+modulepath\+\_\+args\+\_\+options))\+:
\begin{DoxyItemize}
\item the current Node version and options are used. This can be overridden using the \mbox{[}
\end{DoxyItemize}}node\+Path{\ttfamily \mbox{]}(\#nodepath-\/for-\/node-\/only) and \mbox{[}}node\+Options{\ttfamily \mbox{]}(\#nodeoptions-\/for-\/node-\/only) options.
\begin{DoxyItemize}
\item the \mbox{[}
\end{DoxyItemize}}shell{\ttfamily \mbox{]}(\#shell) option cannot be used
\begin{DoxyItemize}
\item an extra channel \mbox{[}
\end{DoxyItemize}}ipc{\ttfamily \mbox{]}(\href{https://nodejs.org/api/child_process.html}{\texttt{ https\+://nodejs.\+org/api/child\+\_\+process.\+html}}\#child\+\_\+process\+\_\+options\+\_\+stdio) is passed to \mbox{[}}stdio\`{}\mbox{]}(\#stdio)\hypertarget{readme.md_autotoc_md19451}{}\doxysubsubsubsection{\texorpdfstring{child\+Process\+Result}{child\+Process\+Result}}\label{readme.md_autotoc_md19451}
Type\+: {\ttfamily object}

Result of a child process execution. On success this is a plain object. On failure this is also an {\ttfamily Error} instance.

The child process fails when\+:
\begin{DoxyItemize}
\item its exit code is not {\ttfamily 0}
\item it was killed with a signal
\item timing out
\item being canceled
\item there\textquotesingle{}s not enough memory or there are already too many child processes
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19452}{}\doxysubsubsubsubsection{\texorpdfstring{command}{command}}\label{readme.md_autotoc_md19452}
Type\+: {\ttfamily string}

The file and arguments that were run, for logging purposes.

This is not escaped and should not be executed directly as a process, including using \`{}execa()\`{} or \`{}execa.command()\`{}.\hypertarget{readme.md_autotoc_md19453}{}\doxysubsubsubsubsection{\texorpdfstring{escaped\+Command}{escaped\+Command}}\label{readme.md_autotoc_md19453}
Type\+: {\ttfamily string}

Same as \`{}command\`{} but escaped.

This is meant to be copy and pasted into a shell, for debugging purposes. Since the escaping is fairly basic, this should not be executed directly as a process, including using \`{}execa()\`{} or \`{}execa.command()\`{}.\hypertarget{readme.md_autotoc_md19454}{}\doxysubsubsubsubsection{\texorpdfstring{exit\+Code}{exit\+Code}}\label{readme.md_autotoc_md19454}
Type\+: {\ttfamily number}

The numeric exit code of the process that was run.\hypertarget{readme.md_autotoc_md19455}{}\doxysubsubsubsubsection{\texorpdfstring{stdout}{stdout}}\label{readme.md_autotoc_md19455}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} Buffer}

The output of the process on stdout.\hypertarget{readme.md_autotoc_md19456}{}\doxysubsubsubsubsection{\texorpdfstring{stderr}{stderr}}\label{readme.md_autotoc_md19456}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} Buffer}

The output of the process on stderr.\hypertarget{readme.md_autotoc_md19457}{}\doxysubsubsubsubsection{\texorpdfstring{all}{all}}\label{readme.md_autotoc_md19457}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} Buffer \texorpdfstring{$\vert$}{|} undefined}

The output of the process with {\ttfamily stdout} and {\ttfamily stderr} interleaved.

This is {\ttfamily undefined} if either\+:
\begin{DoxyItemize}
\item the \`{}all\`{} option is {\ttfamily false} (the default value)
\item {\ttfamily execa.\+sync()} was used
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19458}{}\doxysubsubsubsubsection{\texorpdfstring{failed}{failed}}\label{readme.md_autotoc_md19458}
Type\+: {\ttfamily boolean}

Whether the process failed to run.\hypertarget{readme.md_autotoc_md19459}{}\doxysubsubsubsubsection{\texorpdfstring{timed\+Out}{timed\+Out}}\label{readme.md_autotoc_md19459}
Type\+: {\ttfamily boolean}

Whether the process timed out.\hypertarget{readme.md_autotoc_md19460}{}\doxysubsubsubsubsection{\texorpdfstring{is\+Canceled}{is\+Canceled}}\label{readme.md_autotoc_md19460}
Type\+: {\ttfamily boolean}

Whether the process was canceled.\hypertarget{readme.md_autotoc_md19461}{}\doxysubsubsubsubsection{\texorpdfstring{killed}{killed}}\label{readme.md_autotoc_md19461}
Type\+: {\ttfamily boolean}

Whether the process was killed.\hypertarget{readme.md_autotoc_md19462}{}\doxysubsubsubsubsection{\texorpdfstring{signal}{signal}}\label{readme.md_autotoc_md19462}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} undefined}

The name of the signal that was used to terminate the process. For example, {\ttfamily SIGFPE}.

If a signal terminated the process, this property is defined and included in the error message. Otherwise it is {\ttfamily undefined}.\hypertarget{readme.md_autotoc_md19463}{}\doxysubsubsubsubsection{\texorpdfstring{signal\+Description}{signal\+Description}}\label{readme.md_autotoc_md19463}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} undefined}

A human-\/friendly description of the signal that was used to terminate the process. For example, {\ttfamily Floating point arithmetic error}.

If a signal terminated the process, this property is defined and included in the error message. Otherwise it is {\ttfamily undefined}. It is also {\ttfamily undefined} when the signal is very uncommon which should seldomly happen.\hypertarget{readme.md_autotoc_md19464}{}\doxysubsubsubsubsection{\texorpdfstring{message}{message}}\label{readme.md_autotoc_md19464}
Type\+: {\ttfamily string}

Error message when the child process failed to run. In addition to the underlying error message, it also contains some information related to why the child process errored.

The child process stderr then stdout are appended to the end, separated with newlines and not interleaved.\hypertarget{readme.md_autotoc_md19465}{}\doxysubsubsubsubsection{\texorpdfstring{short\+Message}{short\+Message}}\label{readme.md_autotoc_md19465}
Type\+: {\ttfamily string}

This is the same as the \`{}message\`{} property except it does not include the child process stdout/stderr.\hypertarget{readme.md_autotoc_md19466}{}\doxysubsubsubsubsection{\texorpdfstring{original\+Message}{original\+Message}}\label{readme.md_autotoc_md19466}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} undefined}

Original error message. This is the same as the {\ttfamily message} property except it includes neither the child process stdout/stderr nor some additional information added by Execa.

This is {\ttfamily undefined} unless the child process exited due to an {\ttfamily error} event or a timeout.\hypertarget{readme.md_autotoc_md19467}{}\doxysubsubsubsection{\texorpdfstring{options}{options}}\label{readme.md_autotoc_md19467}
Type\+: {\ttfamily object}\hypertarget{readme.md_autotoc_md19468}{}\doxysubsubsubsubsection{\texorpdfstring{cleanup}{cleanup}}\label{readme.md_autotoc_md19468}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

Kill the spawned process when the parent process exits unless either\+:
\begin{DoxyItemize}
\item the spawned process is \href{https://nodejs.org/api/child_process.html\#child_process_options_detached}{\texttt{ {\ttfamily detached}}}
\item the parent process is terminated abruptly, for example, with {\ttfamily SIGKILL} as opposed to {\ttfamily SIGTERM} or a normal exit
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19469}{}\doxysubsubsubsubsection{\texorpdfstring{prefer\+Local}{prefer\+Local}}\label{readme.md_autotoc_md19469}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily false}

Prefer locally installed binaries when looking for a binary to execute.\textbackslash{} If you {\ttfamily \$ npm install foo}, you can then `execa(\textquotesingle{}foo')\`{}.\hypertarget{readme.md_autotoc_md19470}{}\doxysubsubsubsubsection{\texorpdfstring{local\+Dir}{local\+Dir}}\label{readme.md_autotoc_md19470}
Type\+: {\ttfamily string}\textbackslash{} Default\+: {\ttfamily process.\+cwd()}

Preferred path to find locally installed binaries in (use with {\ttfamily prefer\+Local}).\hypertarget{readme.md_autotoc_md19471}{}\doxysubsubsubsubsection{\texorpdfstring{exec\+Path}{exec\+Path}}\label{readme.md_autotoc_md19471}
Type\+: {\ttfamily string}\textbackslash{} Default\+: {\ttfamily process.\+exec\+Path} (Current Node.\+js executable)

Path to the Node.\+js executable to use in child processes.

This can be either an absolute path or a path relative to the \`{}cwd\`{} option.

Requires \`{}prefer\+Local\`{} to be {\ttfamily true}.

For example, this can be used together with \href{https://github.com/ehmicky/get-node}{\texttt{ {\ttfamily get-\/node}}} to run a specific Node.\+js version in a child process.\hypertarget{readme.md_autotoc_md19472}{}\doxysubsubsubsubsection{\texorpdfstring{buffer}{buffer}}\label{readme.md_autotoc_md19472}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

Buffer the output from the spawned process. When set to {\ttfamily false}, you must read the output of \`{}stdout\`{} and \`{}stderr\`{} (or \`{}all\`{} if the \`{}all\`{} option is {\ttfamily true}). Otherwise the returned promise will not be resolved/rejected.

If the spawned process fails, \`{}error.stdout\`{}, \`{}error.stderr\`{}, and \`{}error.all\`{} will contain the buffered data.\hypertarget{readme.md_autotoc_md19473}{}\doxysubsubsubsubsection{\texorpdfstring{input}{input}}\label{readme.md_autotoc_md19473}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} Buffer \texorpdfstring{$\vert$}{|} stream.\+Readable}

Write some input to the {\ttfamily stdin} of your binary.\textbackslash{} Streams are not allowed when using the synchronous methods.\hypertarget{readme.md_autotoc_md19474}{}\doxysubsubsubsubsection{\texorpdfstring{stdin}{stdin}}\label{readme.md_autotoc_md19474}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} number \texorpdfstring{$\vert$}{|} Stream \texorpdfstring{$\vert$}{|} undefined}\textbackslash{} Default\+: {\ttfamily pipe}

Same options as \href{https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html\#child_process_options_stdio}{\texttt{ {\ttfamily stdio}}}.\hypertarget{readme.md_autotoc_md19475}{}\doxysubsubsubsubsection{\texorpdfstring{stdout}{stdout}}\label{readme.md_autotoc_md19475}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} number \texorpdfstring{$\vert$}{|} Stream \texorpdfstring{$\vert$}{|} undefined}\textbackslash{} Default\+: {\ttfamily pipe}

Same options as \href{https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html\#child_process_options_stdio}{\texttt{ {\ttfamily stdio}}}.\hypertarget{readme.md_autotoc_md19476}{}\doxysubsubsubsubsection{\texorpdfstring{stderr}{stderr}}\label{readme.md_autotoc_md19476}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} number \texorpdfstring{$\vert$}{|} Stream \texorpdfstring{$\vert$}{|} undefined}\textbackslash{} Default\+: {\ttfamily pipe}

Same options as \href{https://nodejs.org/dist/latest-v6.x/docs/api/child_process.html\#child_process_options_stdio}{\texttt{ {\ttfamily stdio}}}.\hypertarget{readme.md_autotoc_md19477}{}\doxysubsubsubsubsection{\texorpdfstring{all}{all}}\label{readme.md_autotoc_md19477}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily false}

Add an {\ttfamily .all} property on the promise and the resolved value. The property contains the output of the process with {\ttfamily stdout} and {\ttfamily stderr} interleaved.\hypertarget{readme.md_autotoc_md19478}{}\doxysubsubsubsubsection{\texorpdfstring{reject}{reject}}\label{readme.md_autotoc_md19478}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

Setting this to {\ttfamily false} resolves the promise with the error instead of rejecting it.\hypertarget{readme.md_autotoc_md19479}{}\doxysubsubsubsubsection{\texorpdfstring{strip\+Final\+Newline}{strip\+Final\+Newline}}\label{readme.md_autotoc_md19479}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

Strip the final \href{https://en.wikipedia.org/wiki/Newline}{\texttt{ newline character}} from the output.\hypertarget{readme.md_autotoc_md19480}{}\doxysubsubsubsubsection{\texorpdfstring{extend\+Env}{extend\+Env}}\label{readme.md_autotoc_md19480}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

Set to {\ttfamily false} if you don\textquotesingle{}t want to extend the environment variables when providing the {\ttfamily env} property.

\DoxyHorRuler{0}


Execa also accepts the below options which are the same as the options for \href{https://nodejs.org/api/child_process.html\#child_process_child_process_spawn_command_args_options}{\texttt{ {\ttfamily child\+\_\+process\#spawn()}}}/\href{https://nodejs.org/api/child_process.html\#child_process_child_process_exec_command_options_callback}{\texttt{ {\ttfamily child\+\_\+process\#exec()}}}\hypertarget{readme.md_autotoc_md19482}{}\doxysubsubsubsubsection{\texorpdfstring{cwd}{cwd}}\label{readme.md_autotoc_md19482}
Type\+: {\ttfamily string}\textbackslash{} Default\+: {\ttfamily process.\+cwd()}

Current working directory of the child process.\hypertarget{readme.md_autotoc_md19483}{}\doxysubsubsubsubsection{\texorpdfstring{env}{env}}\label{readme.md_autotoc_md19483}
Type\+: {\ttfamily object}\textbackslash{} Default\+: {\ttfamily process.\+env}

Environment key-\/value pairs. Extends automatically from {\ttfamily process.\+env}. Set \`{}extend\+Env\`{} to {\ttfamily false} if you don\textquotesingle{}t want this.\hypertarget{readme.md_autotoc_md19484}{}\doxysubsubsubsubsection{\texorpdfstring{argv0}{argv0}}\label{readme.md_autotoc_md19484}
Type\+: {\ttfamily string}

Explicitly set the value of {\ttfamily argv\mbox{[}0\mbox{]}} sent to the child process. This will be set to {\ttfamily file} if not specified.\hypertarget{readme.md_autotoc_md19485}{}\doxysubsubsubsubsection{\texorpdfstring{stdio}{stdio}}\label{readme.md_autotoc_md19485}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} string\mbox{[}\mbox{]}}\textbackslash{} Default\+: {\ttfamily pipe}

Child\textquotesingle{}s \href{https://nodejs.org/api/child_process.html\#child_process_options_stdio}{\texttt{ stdio}} configuration.\hypertarget{readme.md_autotoc_md19486}{}\doxysubsubsubsubsection{\texorpdfstring{serialization}{serialization}}\label{readme.md_autotoc_md19486}
Type\+: {\ttfamily string}\textbackslash{} Default\+: `\textquotesingle{}json'\`{}

Specify the kind of serialization used for sending messages between processes when using the \`{}stdio\+: \textquotesingle{}ipc\textquotesingle{}\`{} option or \`{}execa.node()\`{}\+:
\begin{DoxyItemize}
\item {\ttfamily json}\+: Uses {\ttfamily JSON.\+stringify()} and {\ttfamily JSON.\+parse()}.
\item {\ttfamily advanced}\+: Uses \href{https://nodejs.org/api/v8.html\#v8_v8_serialize_value}{\texttt{ {\ttfamily v8.\+serialize()}}}
\end{DoxyItemize}

Requires Node.\+js {\ttfamily 13.\+2.\+0} or later.

\href{https://nodejs.org/api/child_process.html\#child_process_advanced_serialization}{\texttt{ More info.}}\hypertarget{readme.md_autotoc_md19487}{}\doxysubsubsubsubsection{\texorpdfstring{detached}{detached}}\label{readme.md_autotoc_md19487}
Type\+: {\ttfamily boolean}

Prepare child to run independently of its parent process. Specific behavior \href{https://nodejs.org/api/child_process.html\#child_process_options_detached}{\texttt{ depends on the platform}}.\hypertarget{readme.md_autotoc_md19488}{}\doxysubsubsubsubsection{\texorpdfstring{uid}{uid}}\label{readme.md_autotoc_md19488}
Type\+: {\ttfamily number}

Sets the user identity of the process.\hypertarget{readme.md_autotoc_md19489}{}\doxysubsubsubsubsection{\texorpdfstring{gid}{gid}}\label{readme.md_autotoc_md19489}
Type\+: {\ttfamily number}

Sets the group identity of the process.\hypertarget{readme.md_autotoc_md19490}{}\doxysubsubsubsubsection{\texorpdfstring{shell}{shell}}\label{readme.md_autotoc_md19490}
Type\+: {\ttfamily boolean \texorpdfstring{$\vert$}{|} string}\textbackslash{} Default\+: {\ttfamily false}

If {\ttfamily true}, runs {\ttfamily file} inside of a shell. Uses {\ttfamily /bin/sh} on UNIX and {\ttfamily cmd.\+exe} on Windows. A different shell can be specified as a string. The shell should understand the {\ttfamily -\/c} switch on UNIX or {\ttfamily /d /s /c} on Windows.

We recommend against using this option since it is\+:
\begin{DoxyItemize}
\item not cross-\/platform, encouraging shell-\/specific syntax.
\item slower, because of the additional shell interpretation.
\item unsafe, potentially allowing command injection.
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19491}{}\doxysubsubsubsubsection{\texorpdfstring{encoding}{encoding}}\label{readme.md_autotoc_md19491}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} null}\textbackslash{} Default\+: {\ttfamily utf8}

Specify the character encoding used to decode the {\ttfamily stdout} and {\ttfamily stderr} output. If set to {\ttfamily null}, then {\ttfamily stdout} and {\ttfamily stderr} will be a {\ttfamily Buffer} instead of a string.\hypertarget{readme.md_autotoc_md19492}{}\doxysubsubsubsubsection{\texorpdfstring{timeout}{timeout}}\label{readme.md_autotoc_md19492}
Type\+: {\ttfamily number}\textbackslash{} Default\+: {\ttfamily 0}

If timeout is greater than {\ttfamily 0}, the parent will send the signal identified by the {\ttfamily kill\+Signal} property (the default is {\ttfamily SIGTERM}) if the child runs longer than timeout milliseconds.\hypertarget{readme.md_autotoc_md19493}{}\doxysubsubsubsubsection{\texorpdfstring{max\+Buffer}{max\+Buffer}}\label{readme.md_autotoc_md19493}
Type\+: {\ttfamily number}\textbackslash{} Default\+: {\ttfamily 100\+\_\+000\+\_\+000} (100 MB)

Largest amount of data in bytes allowed on {\ttfamily stdout} or {\ttfamily stderr}.\hypertarget{readme.md_autotoc_md19494}{}\doxysubsubsubsubsection{\texorpdfstring{kill\+Signal}{kill\+Signal}}\label{readme.md_autotoc_md19494}
Type\+: {\ttfamily string \texorpdfstring{$\vert$}{|} number}\textbackslash{} Default\+: {\ttfamily SIGTERM}

Signal value to be used when the spawned process will be killed.\hypertarget{readme.md_autotoc_md19495}{}\doxysubsubsubsubsection{\texorpdfstring{windows\+Verbatim\+Arguments}{windows\+Verbatim\+Arguments}}\label{readme.md_autotoc_md19495}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily false}

If {\ttfamily true}, no quoting or escaping of arguments is done on Windows. Ignored on other platforms. This is set to {\ttfamily true} automatically when the {\ttfamily shell} option is {\ttfamily true}.\hypertarget{readme.md_autotoc_md19496}{}\doxysubsubsubsubsection{\texorpdfstring{windows\+Hide}{windows\+Hide}}\label{readme.md_autotoc_md19496}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily true}

On Windows, do not create a new console window. Please note this also prevents {\ttfamily CTRL-\/C} \href{https://github.com/nodejs/node/issues/29837}{\texttt{ from working}} on Windows.\hypertarget{readme.md_autotoc_md19497}{}\doxysubsubsubsubsection{\texorpdfstring{node\+Path {\itshape (For {\ttfamily .node()} only)}}{node\+Path {\itshape (For {\ttfamily .node()} only)}}}\label{readme.md_autotoc_md19497}
Type\+: {\ttfamily string}\textbackslash{} Default\+: \href{https://nodejs.org/api/process.html\#process_process_execpath}{\texttt{ {\ttfamily process.\+exec\+Path}}}

Node.\+js executable used to create the child process.\hypertarget{readme.md_autotoc_md19498}{}\doxysubsubsubsubsection{\texorpdfstring{node\+Options {\itshape (For {\ttfamily .node()} only)}}{node\+Options {\itshape (For {\ttfamily .node()} only)}}}\label{readme.md_autotoc_md19498}
Type\+: {\ttfamily string\mbox{[}\mbox{]}}\textbackslash{} Default\+: \href{https://nodejs.org/api/process.html\#process_process_execargv}{\texttt{ {\ttfamily process.\+exec\+Argv}}}

List of \href{https://nodejs.org/api/cli.html\#cli_options}{\texttt{ CLI options}} passed to the Node.\+js executable.\hypertarget{readme.md_autotoc_md19499}{}\doxysubsubsection{\texorpdfstring{Tips}{Tips}}\label{readme.md_autotoc_md19499}
\hypertarget{readme.md_autotoc_md19500}{}\doxysubsubsubsection{\texorpdfstring{Retry on error}{Retry on error}}\label{readme.md_autotoc_md19500}
Gracefully handle failures by using automatic retries and exponential backoff with the \href{https://github.com/sindresorhus/p-retry}{\texttt{ {\ttfamily p-\/retry}}} package\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ pRetry\ =\ require('p-\/retry');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ run\ =\ async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ results\ =\ await\ execa('curl',\ ['-\/sSL',\ 'https://sindresorhus.com/unicorn']);}
\DoxyCodeLine{\ \ \ \ return\ results;}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(await\ pRetry(run,\ \{retries:\ 5\}));}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19501}{}\doxysubsubsubsection{\texorpdfstring{Save and pipe output from a child process}{Save and pipe output from a child process}}\label{readme.md_autotoc_md19501}
Let\textquotesingle{}s say you want to show the output of a child process in real-\/time while also saving it to a variable.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ subprocess\ =\ execa('echo',\ ['foo']);}
\DoxyCodeLine{subprocess.stdout.pipe(process.stdout);}
\DoxyCodeLine{}
\DoxyCodeLine{(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ const\ \{stdout\}\ =\ await\ subprocess;}
\DoxyCodeLine{\ \ \ \ console.log('child\ output:',\ stdout);}
\DoxyCodeLine{\})();}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19502}{}\doxysubsubsubsection{\texorpdfstring{Redirect output to a file}{Redirect output to a file}}\label{readme.md_autotoc_md19502}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ subprocess\ =\ execa('echo',\ ['foo'])}
\DoxyCodeLine{subprocess.stdout.pipe(fs.createWriteStream('stdout.txt'))}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19503}{}\doxysubsubsubsection{\texorpdfstring{Redirect input from a file}{Redirect input from a file}}\label{readme.md_autotoc_md19503}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ execa\ =\ require('execa');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ subprocess\ =\ execa('cat')}
\DoxyCodeLine{fs.createReadStream('stdin.txt').pipe(subprocess.stdin)}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md19504}{}\doxysubsubsubsection{\texorpdfstring{Execute the current package\textquotesingle{}s binary}{Execute the current package\textquotesingle{}s binary}}\label{readme.md_autotoc_md19504}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{getBinPathSync\}\ =\ require('get-\/bin-\/path');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ binPath\ =\ getBinPathSync();}
\DoxyCodeLine{const\ subprocess\ =\ execa(binPath);}

\end{DoxyCode}


{\ttfamily execa} can be combined with \href{https://github.com/ehmicky/get-bin-path}{\texttt{ {\ttfamily get-\/bin-\/path}}} to test the current package\textquotesingle{}s binary. As opposed to hard-\/coding the path to the binary, this validates that the {\ttfamily package.\+json} {\ttfamily bin} field is correctly set up.\hypertarget{readme.md_autotoc_md19505}{}\doxysubsubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md19505}

\begin{DoxyItemize}
\item \href{https://github.com/ehmicky/gulp-execa}{\texttt{ gulp-\/execa}} -\/ Gulp plugin for {\ttfamily execa}
\item \href{https://github.com/ehmicky/nvexeca}{\texttt{ nvexeca}} -\/ Run {\ttfamily execa} using any Node.\+js version
\item \href{https://github.com/jorangreef/sudo-prompt}{\texttt{ sudo-\/prompt}} -\/ Run commands with elevated privileges.
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md19506}{}\doxysubsubsection{\texorpdfstring{Maintainers}{Maintainers}}\label{readme.md_autotoc_md19506}

\begin{DoxyItemize}
\item \href{https://github.com/sindresorhus}{\texttt{ Sindre Sorhus}}
\item \href{https://github.com/ehmicky}{\texttt{ @ehmicky}}
\end{DoxyItemize}

\DoxyHorRuler{0}


 {\bfseries{ \href{https://tidelift.com/subscription/pkg/npm-execa?utm_source=npm-execa&utm_medium=referral&utm_campaign=readme}{\texttt{ Get professional support for this package with a Tidelift subscription}} }} ~\newline
 \textsubscript{ Tidelift helps make open source sustainable for maintainers while giving companies~\newline
assurances about security, maintenance, and licensing for their dependencies. }  