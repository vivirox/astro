\doxysection{node\+\_\+modules/estree-\/util-\/visit Directory Reference}
\hypertarget{dir_21fa4e88cb1bde866a5631d1cb7f98a2}{}\label{dir_21fa4e88cb1bde866a5631d1cb7f98a2}\index{node\_modules/estree-\/util-\/visit Directory Reference@{node\_modules/estree-\/util-\/visit Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/syntax-tree/estree-util-visit/actions}{\texttt{ }} \href{https://codecov.io/github/syntax-tree/estree-util-visit}{\texttt{ }} \href{https://www.npmjs.com/package/estree-util-visit}{\texttt{ }} \href{https://bundlejs.com/?q=estree-util-visit}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/syntax-tree/unist/discussions}{\texttt{ }}

\href{https://github.com/estree/estree}{\texttt{ estree}} (and \href{https://github.com/syntax-tree/esast}{\texttt{ esast}}) utility to visit nodes.\hypertarget{readme.md_autotoc_md14658}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md14658}

\begin{DoxyItemize}
\item What is this?
\item When should I use this?
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}visit(tree, visitor\texorpdfstring{$\vert$}{|}visitors)\`{}
\item \`{}\+CONTINUE\`{}
\item \`{}\+EXIT\`{}
\item \`{}\+SKIP\`{}
\item \`{}\+Action\`{}
\item \`{}\+Action\+Tuple\`{}
\item \doxylink{README.md_index}{\`{}\+Index\`{}}
\item \`{}\+Visitor\`{}
\item \`{}\+Visitors\`{}
\end{DoxyItemize}
\item \doxylink{readme.md_types}{Types}
\item Compatibility
\item Related
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14659}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md14659}
This package is a utility that helps you walk the tree.\hypertarget{readme.md_autotoc_md14660}{}\doxysubsection{\texorpdfstring{When should I use this?}{When should I use this?}}\label{readme.md_autotoc_md14660}
This package helps when dealing with Java\+Script ASTs. Use \href{https://github.com/syntax-tree/unist-util-visit}{\texttt{ {\ttfamily unist-\/util-\/visit}}} for other unist ASTs.\hypertarget{readme.md_autotoc_md14661}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md14661}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ estree-\/util-\/visit}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{visit\}\ from\ 'https://esm.sh/estree-\/util-\/visit@2'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{visit\}\ from\ 'https://esm.sh/estree-\/util-\/visit@2?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14662}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md14662}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{parse\}\ from\ 'acorn'}
\DoxyCodeLine{import\ \{visit\}\ from\ 'estree-\/util-\/visit'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ tree\ =\ parse(}
\DoxyCodeLine{\ \ 'export\ function\ x()\ \{\ console.log(1\ +\ "{}2"{});\ process.exit(3)\ \}',}
\DoxyCodeLine{\ \ \{sourceType:\ 'module',\ ecmaVersion:\ 2020\}}
\DoxyCodeLine{)}
\DoxyCodeLine{}
\DoxyCodeLine{visit(tree,\ function\ (node)\ \{}
\DoxyCodeLine{\ \ if\ (node.type\ ===\ 'Literal'\ \&\&\ 'value'\ in\ node)\ console.log(node.value)}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Both\ enter\ and\ leave:}
\DoxyCodeLine{walk(tree,\ \{}
\DoxyCodeLine{\ \ enter(node,\ field,\ index,\ parents)\ \{\ /*\ …\ */\ \},}
\DoxyCodeLine{\ \ leave(node,\ field,\ index,\ parents)\ \{\ /*\ …\ */\ \}}
\DoxyCodeLine{\})}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{1}
\DoxyCodeLine{\textcolor{stringliteral}{"{}2"{}}}
\DoxyCodeLine{3}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14663}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md14663}
This package exports the identifiers \`{}\+CONTINUE\`{}, \`{}\+EXIT\`{}, \`{}\+SKIP\`{}, and \`{}visit\`{}. There is no default export.\hypertarget{readme.md_autotoc_md14664}{}\doxysubsubsection{\texorpdfstring{{\ttfamily visit(tree, visitor\texorpdfstring{$\vert$}{|}visitors)}}{{\ttfamily visit(tree, visitor\texorpdfstring{$\vert$}{|}visitors)}}}\label{readme.md_autotoc_md14664}
Visit nodes, with ancestral information.

This algorithm performs \href{https://github.com/syntax-tree/unist\#depth-first-traversal}{\texttt{ {\itshape depth-\/first}}} \href{https://github.com/syntax-tree/unist\#tree-traversal}{\texttt{ {\itshape tree traversal}}} in \href{https://github.com/syntax-tree/unist\#preorder}{\texttt{ {\itshape preorder}}} ({\bfseries{NLR}}) and/or \href{https://github.com/syntax-tree/unist\#postorder}{\texttt{ {\itshape postorder}}} ({\bfseries{LRN}}).

Compared to other estree walkers, this does not need a dictionary of which fields are nodes, because it ducktypes instead.

Walking the tree is an intensive task. Make use of the return values of the visitor(s) when possible. Instead of walking a tree multiple times, walk it once, use \href{https://github.com/syntax-tree/unist-util-is}{\texttt{ {\ttfamily unist-\/util-\/is}}} to check if a node matches, and then perform different operations.\hypertarget{readme.md_autotoc_md14665}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md14665}

\begin{DoxyItemize}
\item {\ttfamily tree} (\href{https://github.com/syntax-tree/esast\#node}{\texttt{ {\ttfamily Node}}}) — tree to traverse
\item {\ttfamily visitor} (\`{}\+Visitor\`{}) — same as passing {\ttfamily \{enter\+: visitor\}}
\item {\ttfamily visitors} (\`{}\+Visitors\`{}) — handle each node
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14666}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md14666}
Nothing ({\ttfamily undefined}).\hypertarget{readme.md_autotoc_md14667}{}\doxysubsubsection{\texorpdfstring{{\ttfamily CONTINUE}}{{\ttfamily CONTINUE}}}\label{readme.md_autotoc_md14667}
Continue traversing as normal ({\ttfamily symbol}).\hypertarget{readme.md_autotoc_md14668}{}\doxysubsubsection{\texorpdfstring{{\ttfamily EXIT}}{{\ttfamily EXIT}}}\label{readme.md_autotoc_md14668}
Stop traversing immediately ({\ttfamily symbol}).\hypertarget{readme.md_autotoc_md14669}{}\doxysubsubsection{\texorpdfstring{{\ttfamily SKIP}}{{\ttfamily SKIP}}}\label{readme.md_autotoc_md14669}
Do not traverse this node’s children ({\ttfamily symbol}).\hypertarget{readme.md_autotoc_md14670}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Action}}{{\ttfamily Action}}}\label{readme.md_autotoc_md14670}
Union of the action types (Type\+Script type).\hypertarget{readme.md_autotoc_md14671}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md14671}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ Action\ =\ typeof\ CONTINUE\ |\ typeof\ EXIT\ |\ typeof\ SKIP}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14672}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Action\+Tuple}}{{\ttfamily Action\+Tuple}}}\label{readme.md_autotoc_md14672}
List with one or two values, the first an action, the second an index (Type\+Script type).\hypertarget{readme.md_autotoc_md14673}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md14673}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ ActionTuple\ =\ [}
\DoxyCodeLine{\ \ (Action\ |\ null\ |\ undefined\ |\ void)?,}
\DoxyCodeLine{\ \ (Index\ |\ null\ |\ undefined)?}
\DoxyCodeLine{]}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14674}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Index}}{{\ttfamily Index}}}\label{readme.md_autotoc_md14674}
Move to the sibling at {\ttfamily index} next (after node itself is completely traversed), when moving in an array (Type\+Script type).

Useful if mutating the tree, such as removing the node the visitor is currently on, or any of its previous siblings. Results less than 0 or greater than or equal to {\ttfamily children.\+length} stop traversing the parent.\hypertarget{readme.md_autotoc_md14675}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md14675}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ Index\ =\ number}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14676}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Visitor}}{{\ttfamily Visitor}}}\label{readme.md_autotoc_md14676}
Handle a node (Type\+Script type).

Visitors are free to transform {\ttfamily node}. They can also transform the parent of node (the last of {\ttfamily ancestors}).

Replacing {\ttfamily node} itself, if {\ttfamily SKIP} is not returned, still causes its descendants to be walked (which is a bug).

When adding or removing previous siblings of {\ttfamily node}, the {\ttfamily Visitor} should return a new {\ttfamily Index} to specify the sibling to traverse after {\ttfamily node} is traversed. Adding or removing next siblings of {\ttfamily node} is handled as expected without needing to return a new {\ttfamily Index}.\hypertarget{readme.md_autotoc_md14677}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md14677}

\begin{DoxyItemize}
\item {\ttfamily node} (\href{https://github.com/syntax-tree/esast\#node}{\texttt{ {\ttfamily Node}}}) — found node
\item {\ttfamily key} ({\ttfamily string} or {\ttfamily undefined}) — field at which {\ttfamily node} lives in its parent (or where a list of nodes lives)
\item {\ttfamily index} ({\ttfamily number} or {\ttfamily undefined}) — index where {\ttfamily node} lives if {\ttfamily parent\mbox{[}key\mbox{]}} is an array
\item {\ttfamily ancestors} (\href{https://github.com/syntax-tree/esast\#node}{\texttt{ {\ttfamily Array\texorpdfstring{$<$}{<}Node\texorpdfstring{$>$}{>}}}}) — ancestors of {\ttfamily node}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14678}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md14678}
What to do next (\`{}\+Action\`{}, \doxylink{README.md_index}{\`{}\+Index\`{}}, or \`{}\+Action\+Tuple\`{}, optional).

An {\ttfamily Index} is treated as a tuple of {\ttfamily \mbox{[}CONTINUE, Index\mbox{]}}. An {\ttfamily Action} is treated as a tuple of {\ttfamily \mbox{[}Action\mbox{]}}.

Passing a tuple back only makes sense if the {\ttfamily Action} is {\ttfamily SKIP}. When the {\ttfamily Action} is {\ttfamily EXIT}, that action can be returned. When the {\ttfamily Action} is {\ttfamily CONTINUE}, {\ttfamily Index} can be returned.\hypertarget{readme.md_autotoc_md14679}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Visitors}}{{\ttfamily Visitors}}}\label{readme.md_autotoc_md14679}
Handle nodes when entering (preorder) and leaving (postorder) (Type\+Script type).\hypertarget{readme.md_autotoc_md14680}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md14680}

\begin{DoxyItemize}
\item {\ttfamily enter} (\`{}\+Visitor\`{}, optional) — handle nodes when entering (preorder)
\item {\ttfamily leave} (\`{}\+Visitor\`{}, optional) — handle nodes when leaving (postorder)
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14681}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md14681}
This package is fully typed with \href{https://www.typescriptlang.org}{\texttt{ Type\+Script}}. It exports the additional types \`{}\+Action\`{}, \`{}\+Action\+Tuple\`{}, \doxylink{README.md_index}{\`{}\+Index\`{}}, \`{}\+Visitor\`{}, and \`{}\+Visitors\`{}.\hypertarget{readme.md_autotoc_md14682}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md14682}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily estree-\/util-\/visit@\texorpdfstring{$^\wedge$}{\string^}2}, compatible with Node.\+js 16.\hypertarget{readme.md_autotoc_md14683}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md14683}

\begin{DoxyItemize}
\item \href{https://github.com/syntax-tree/unist-util-visit}{\texttt{ {\ttfamily unist-\/util-\/visit}}} — walk any unist tree
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14684}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md14684}
See \href{https://github.com/syntax-tree/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md}}} in \href{https://github.com/syntax-tree/.github}{\texttt{ {\ttfamily syntax-\/tree/.github}}} for ways to get started. See \href{https://github.com/syntax-tree/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/syntax-tree/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md14685}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md14685}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} © \href{https://wooorm.com}{\texttt{ Titus Wormer}} 