\doxysection{node\+\_\+modules/feedparser Directory Reference}
\hypertarget{dir_dc3a00a25510d85038de7890fa91564a}{}\label{dir_dc3a00a25510d85038de7890fa91564a}\index{node\_modules/feedparser Directory Reference@{node\_modules/feedparser Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://greenkeeper.io/}{\texttt{ }}

\href{https://gitter.im/danmactough/node-feedparser?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge}{\texttt{ }}

\href{https://travis-ci.org/danmactough/node-feedparser}{\texttt{ }}

\href{https://nodei.co/npm/feedparser/}{\texttt{ }}

Feedparser is for parsing RSS, Atom, and RDF feeds in node.\+js.

It has a couple features you don\textquotesingle{}t usually see in other feed parsers\+:


\begin{DoxyEnumerate}
\item It resolves relative URLs (such as those seen in Tim Bray\textquotesingle{}s "{}ongoing"{} \href{https://www.tbray.org/ongoing/ongoing.atom}{\texttt{ feed}}).
\item It properly handles XML namespaces (including those in unusual feeds that define a non-\/default namespace for the main feed elements).
\end{DoxyEnumerate}\hypertarget{README.md_autotoc_md15372}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md15372}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ feedparser}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md15373}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md15373}
This example is just to briefly demonstrate basic concepts.

{\bfseries{Please}} also review the \href{examples/complete.js}{\texttt{ complete example}} for a thorough working example that is a suitable starting point for your app.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ FeedParser\ =\ require('feedparser');}
\DoxyCodeLine{var\ fetch\ =\ require('node-\/fetch');\ //\ for\ fetching\ the\ feed}
\DoxyCodeLine{}
\DoxyCodeLine{var\ req\ =\ fetch('http://somefeedurl.xml')}
\DoxyCodeLine{var\ feedparser\ =\ new\ FeedParser([options]);}
\DoxyCodeLine{}
\DoxyCodeLine{req.then(function\ (res)\ \{}
\DoxyCodeLine{\ \ if\ (res.status\ !==\ 200)\ \{}
\DoxyCodeLine{\ \ \ \ throw\ new\ Error('Bad\ status\ code');}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ else\ \{}
\DoxyCodeLine{\ \ \ \ //\ The\ response\ \`{}body`\ -\/-\/\ res.body\ -\/-\/\ is\ a\ stream}
\DoxyCodeLine{\ \ \ \ res.body.pipe(feedparser);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\},\ function\ (err)\ \{}
\DoxyCodeLine{\ \ //\ handle\ any\ request\ errors}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{feedparser.on('error',\ function\ (error)\ \{}
\DoxyCodeLine{\ \ //\ always\ handle\ errors}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{feedparser.on('readable',\ function\ ()\ \{}
\DoxyCodeLine{\ \ //\ This\ is\ where\ the\ action\ is!}
\DoxyCodeLine{\ \ var\ stream\ =\ this;\ //\ \`{}this`\ is\ \`{}feedparser`,\ which\ is\ a\ stream}
\DoxyCodeLine{\ \ var\ meta\ =\ this.meta;\ //\ **NOTE**\ the\ "{}meta"{}\ is\ always\ available\ in\ the\ context\ of\ the\ feedparser\ instance}
\DoxyCodeLine{\ \ var\ item;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ while\ (item\ =\ stream.read())\ \{}
\DoxyCodeLine{\ \ \ \ console.log(item);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


You can also check out this nice \href{https://github.com/scripting/feedRead}{\texttt{ working implementation}} that demonstrates one way to handle all the hard and annoying stuff. \+:smiley\+:\hypertarget{README.md_autotoc_md15374}{}\doxysubsubsection{\texorpdfstring{options}{options}}\label{README.md_autotoc_md15374}

\begin{DoxyItemize}
\item {\ttfamily normalize} -\/ Set to {\ttfamily false} to override Feedparser\textquotesingle{}s default behavior, which is to parse feeds into an object that contains the generic properties patterned after (although not identical to) the RSS 2.\+0 format, regardless of the feed\textquotesingle{}s format.
\item {\ttfamily addmeta} -\/ Set to {\ttfamily false} to override Feedparser\textquotesingle{}s default behavior, which is to add the feed\textquotesingle{}s {\ttfamily meta} information to each article.
\item {\ttfamily feedurl} -\/ The url (string) of the feed. Feed\+Parser is very good at resolving relative urls in feeds. But some feeds use relative urls without declaring the {\ttfamily xml\+:base} attribute any place in the feed. This is perfectly valid, but we don\textquotesingle{}t know know the feed\textquotesingle{}s url before we start parsing the feed and trying to resolve those relative urls. If we discover the feed\textquotesingle{}s url, we will go back and resolve the relative urls we\textquotesingle{}ve already seen, but this takes a little time (not much). If you want to be sure we never have to re-\/resolve relative urls (or if Feed\+Parser is failing to properly resolve relative urls), you should set the {\ttfamily feedurl} option. Otherwise, feel free to ignore this option.
\item {\ttfamily resume\+\_\+saxerror} -\/ Set to {\ttfamily false} to override Feedparser\textquotesingle{}s default behavior, which is to emit any {\ttfamily SAXError} on {\ttfamily error} and then automatically resume parsing. In my experience, {\ttfamily SAXErrors} are not usually fatal, so this is usually helpful behavior. If you want total control over handling these errors and optionally aborting parsing the feed, use this option.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md15375}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{README.md_autotoc_md15375}
See the \href{examples/}{\texttt{ {\ttfamily examples}}} directory.\hypertarget{README.md_autotoc_md15376}{}\doxysubsection{\texorpdfstring{API}{API}}\label{README.md_autotoc_md15376}
\hypertarget{README.md_autotoc_md15377}{}\doxysubsubsection{\texorpdfstring{Transform Stream}{Transform Stream}}\label{README.md_autotoc_md15377}
Feedparser is a \href{https://nodejs.org/api/stream.html\#stream_class_stream_transform}{\texttt{ transform stream}} operating in "{}object mode"{}\+: XML in -\/\texorpdfstring{$>$}{>} Javascript objects out. Each readable chunk is an object representing an article in the feed.\hypertarget{README.md_autotoc_md15378}{}\doxysubsubsection{\texorpdfstring{Events Emitted}{Events Emitted}}\label{README.md_autotoc_md15378}

\begin{DoxyItemize}
\item {\ttfamily meta} -\/ called with feed {\ttfamily meta} when it has been parsed
\item {\ttfamily error} -\/ called with {\ttfamily error} whenever there is a Feedparser error of any kind (SAXError, Feedparser error, etc.)
\end{DoxyItemize}\hypertarget{README.md_autotoc_md15379}{}\doxysubsection{\texorpdfstring{What is the parsed output produced by feedparser?}{What is the parsed output produced by feedparser?}}\label{README.md_autotoc_md15379}
Feedparser parses each feed into a {\ttfamily meta} (emitted on the {\ttfamily meta} event) portion and one or more {\ttfamily articles} (emited on the {\ttfamily data} event or readable after the {\ttfamily readable} is emitted).

Regardless of the format of the feed, the {\ttfamily meta} and each {\ttfamily article} contain a uniform set of generic properties patterned after (although not identical to) the RSS 2.\+0 format, as well as all of the properties originally contained in the feed. So, for example, an Atom feed may have a {\ttfamily meta.\+description} property, but it will also have a `meta\mbox{[}\textquotesingle{}atom\+:subtitle'\mbox{]}\`{} property.

The purpose of the generic properties is to provide the user a uniform interface for accessing a feed\textquotesingle{}s information without needing to know the feed\textquotesingle{}s format (i.\+e., RSS versus Atom) or having to worry about handling the differences between the formats. However, the original information is also there, in case you need it. In addition, Feedparser supports some popular namespace extensions (or portions of them), such as portions of the {\ttfamily itunes}, {\ttfamily media}, {\ttfamily feedburner} and {\ttfamily pheedo} extensions. So, for example, if a feed article contains either an {\ttfamily itunes\+:image} or {\ttfamily media\+:thumbnail}, the url for that image will be contained in the article\textquotesingle{}s {\ttfamily image.\+url} property.

All generic properties are "{}pre-\/initialized"{} to {\ttfamily null} (or empty arrays or objects for certain properties). This should save you from having to do a lot of checking for {\ttfamily undefined}, such as, for example, when you are using jade templates.

In addition, all properties (and namespace prefixes) use only lowercase letters, regardless of how they were capitalized in the original feed. ("{}xml\+Url"{} and "{}pub\+Date"{} also are still used to provide backwards compatibility.) This decision places ease-\/of-\/use over purity -- hopefully, you will never need to think about whether you should camel\+Case "{}pub\+Date"{} ever again.

The {\ttfamily title} and {\ttfamily description} properties of {\ttfamily meta} and the {\ttfamily title} property of each {\ttfamily article} have any HTML stripped if you let feedparser normalize the output. If you really need the HTML in those elements, there are always the originals\+: e.\+g., `meta\mbox{[}\textquotesingle{}atom\+:subtitle'\mbox{]}\mbox{[}\textquotesingle{}\#\textquotesingle{}\mbox{]}\`{}.\hypertarget{README.md_autotoc_md15380}{}\doxysubsubsection{\texorpdfstring{List of meta properties}{List of meta properties}}\label{README.md_autotoc_md15380}

\begin{DoxyItemize}
\item title
\item description
\item link (website link)
\item xmlurl (the canonical link to the feed, as specified by the feed)
\item date (most recent update)
\item pubdate (original published date)
\item author
\item language
\item image (an Object containing {\ttfamily url} and {\ttfamily title} properties)
\item favicon (a link to the favicon -- only provided by Atom feeds)
\item copyright
\item generator
\item categories (an Array of Strings)
\end{DoxyItemize}\hypertarget{README.md_autotoc_md15381}{}\doxysubsubsection{\texorpdfstring{List of article properties}{List of article properties}}\label{README.md_autotoc_md15381}

\begin{DoxyItemize}
\item title
\item description (frequently, the full article content)
\item summary (frequently, an excerpt of the article content)
\item link
\item origlink (when Feed\+Burner or Pheedo puts a special tracking url in the {\ttfamily link} property, {\ttfamily origlink} contains the original link)
\item permalink (when an RSS feed has a {\ttfamily guid} field and the {\ttfamily is\+Permalink} attribute is not set to {\ttfamily false}, {\ttfamily permalink} contains the value of {\ttfamily guid})
\item date (most recent update)
\item pubdate (original published date)
\item author
\item guid (a unique identifier for the article)
\item comments (a link to the article\textquotesingle{}s comments section)
\item image (an Object containing {\ttfamily url} and {\ttfamily title} properties)
\item categories (an Array of Strings)
\item source (an Object containing {\ttfamily url} and {\ttfamily title} properties pointing to the original source for an article; see the \href{https://cyber.law.harvard.edu/rss/rss.html\#ltsourcegtSubelementOfLtitemgt}{\texttt{ RSS Spec}} for an explanation of this element)
\item enclosures (an Array of Objects, each representing a podcast or other enclosure and having a {\ttfamily url} property and possibly {\ttfamily type} and {\ttfamily length} properties)
\item meta (an Object containing all the feed meta properties; especially handy when using the Event\+Emitter interface to listen to {\ttfamily article} emissions)
\end{DoxyItemize}\hypertarget{README.md_autotoc_md15382}{}\doxysubsection{\texorpdfstring{Help}{Help}}\label{README.md_autotoc_md15382}

\begin{DoxyItemize}
\item Don\textquotesingle{}t be afraid to report an \href{https://github.com/danmactough/node-feedparser/issues}{\texttt{ issue}}.
\item You can drop by \href{https://gitter.im/danmactough/node-feedparser?utm_source=badge&utm_medium=badge&utm_campaign=pr-badge&utm_content=badge}{\texttt{ Gitter}}, too.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md15383}{}\doxysubsection{\texorpdfstring{Contributors}{Contributors}}\label{README.md_autotoc_md15383}
View all the \href{https://github.com/danmactough/node-feedparser/graphs/contributors}{\texttt{ contributors}}.

Although {\ttfamily node-\/feedparser} no longer shares any code with {\ttfamily node-\/easyrss}, it was the original inspiration and a starting point.\hypertarget{README.md_autotoc_md15384}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md15384}
(The MIT License)

Copyright (c) 2011-\/2020 Dan Mac\+Tough and contributors

Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \textquotesingle{}Software\textquotesingle{}), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions\+:

The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED \textquotesingle{}AS IS\textquotesingle{}, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. 