\doxysection{operations.\+h}
\hypertarget{operations_8h_source}{}\label{operations_8h_source}\index{node\_modules/sharp/src/operations.h@{node\_modules/sharp/src/operations.h}}
\mbox{\hyperlink{operations_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2013\ Lovell\ Fuller\ and\ others.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ SPDX-\/License-\/Identifier:\ Apache-\/2.0}}
\DoxyCodeLine{00003\ }
\DoxyCodeLine{00004\ \textcolor{preprocessor}{\#ifndef\ SRC\_OPERATIONS\_H\_}}
\DoxyCodeLine{00005\ \textcolor{preprocessor}{\#define\ SRC\_OPERATIONS\_H\_}}
\DoxyCodeLine{00006\ }
\DoxyCodeLine{00007\ \textcolor{preprocessor}{\#include\ <algorithm>}}
\DoxyCodeLine{00008\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00009\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#include\ <vips/vips8>}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{using\ }vips::VImage;}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespacesharp}{sharp}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ \ *\ Tint\ an\ image\ using\ the\ provided\ RGB.}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00020\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_ac49cfec880ce50dc5a33a4d69e031c09}{Tint}}(VImage\ image,\ std::vector<double>\ \textcolor{keyword}{const}\ tint);}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ \ \ *\ Stretch\ luminance\ to\ cover\ full\ dynamic\ range.}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00025\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_aec915aa3abc965997bb4dabea41a8446}{Normalise}}(VImage\ image,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ lower,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ upper);}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00028\ \textcolor{comment}{\ \ \ *\ Contrast\ limiting\ adapative\ histogram\ equalization\ (CLAHE)}}
\DoxyCodeLine{00029\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00030\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_add8a6ae148927d80e8092cf29a8788df}{Clahe}}(VImage\ image,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ width,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ height,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ maxSlope);}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ *\ Gamma\ encoding/decoding}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00035\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a19a235cf0741db74b1b72887a17578ef}{Gamma}}(VImage\ image,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ exponent);}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ *\ Flatten\ image\ to\ remove\ alpha\ channel}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00040\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a51d0785c2fa6ed6fee7d4b49c95d32f9}{Flatten}}(VImage\ image,\ std::vector<double>\ flattenBackground);}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ \ *\ Produce\ the\ "{}negative"{}\ of\ the\ image.}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00045\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_af204b1afcdeb289cb3806d6d0bb77505}{Negate}}(VImage\ image,\ \textcolor{keywordtype}{bool}\ \textcolor{keyword}{const}\ negateAlpha);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00048\ \textcolor{comment}{\ \ \ *\ Gaussian\ blur.\ Use\ sigma\ of\ -\/1.0\ for\ fast\ blur.}}
\DoxyCodeLine{00049\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00050\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_ac2c14bafdf632a3f67367f5b50a95eac}{Blur}}(VImage\ image,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ sigma,\ VipsPrecision\ precision,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ minAmpl);}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ \ *\ Convolution\ with\ a\ kernel.}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00055\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a8e5b9668a9d11b1c1742784fefbe45fa}{Convolve}}(VImage\ image,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ width,\ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ height,}
\DoxyCodeLine{00056\ \ \ \ \ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ scale,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ offset,\ std::vector<double>\ \textcolor{keyword}{const}\ \&kernel\_v);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ \ *\ Sharpen\ flat\ and\ jagged\ areas.\ Use\ sigma\ of\ -\/1.0\ for\ fast\ sharpen.}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00061\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_ad17042d192510736626be627996ea18b}{Sharpen}}(VImage\ image,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ sigma,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ m1,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ m2,}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ x1,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ y2,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ y3);}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ Threshold\ an\ image}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00067\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a1969e73bf425609c0d511dbf0144a3c4}{Threshold}}(VImage\ image,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ threshold,\ \textcolor{keywordtype}{bool}\ \textcolor{keyword}{const}\ thresholdColor);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ \ \ \ Perform\ boolean/bitwise\ operation\ on\ image\ color\ channels\ -\/\ results\ in\ one\ channel\ image}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00072\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a596cded20828f25fa5e86bf104874d0f}{Bandbool}}(VImage\ image,\ VipsOperationBoolean\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{boolean});}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ Perform\ bitwise\ boolean\ operation\ between\ images}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00077\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a1bcc804ff9e82a7dab2834ac1128c176}{Boolean}}(VImage\ image,\ VImage\ imageR,\ VipsOperationBoolean\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{boolean});}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ Trim\ an\ image}}
\DoxyCodeLine{00081\ \textcolor{comment}{\ \ */}}
\DoxyCodeLine{00082\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_ab5336fa736b1a730f7058e89c940cff6}{Trim}}(VImage\ image,\ std::vector<double>\ background,\ \textcolor{keywordtype}{double}\ threshold,\ \textcolor{keywordtype}{bool}\ \textcolor{keyword}{const}\ lineArt);}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00085\ \textcolor{comment}{\ \ \ *\ Linear\ adjustment\ (a\ *\ in\ +\ b)}}
\DoxyCodeLine{00086\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00087\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a480dbca562782c182e0a65f431be3682}{Linear}}(VImage\ image,\ std::vector<double>\ \textcolor{keyword}{const}\ a,\ \ std::vector<double>\ \textcolor{keyword}{const}\ b);}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00090\ \textcolor{comment}{\ \ \ *\ Unflatten}}
\DoxyCodeLine{00091\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00092\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_af81c60597e6e40d3adb1ff340d95f36a}{Unflatten}}(VImage\ image);}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00095\ \textcolor{comment}{\ \ \ *\ Recomb\ with\ a\ Matrix\ of\ the\ given\ bands/channel\ size.}}
\DoxyCodeLine{00096\ \textcolor{comment}{\ \ \ *\ Eg.\ RGB\ will\ be\ a\ 3x3\ matrix.}}
\DoxyCodeLine{00097\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00098\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_acc1ba0213228b57626e77afa5bcefc23}{Recomb}}(VImage\ image,\ std::vector<double>\ \textcolor{keyword}{const}\ \&matrix);}
\DoxyCodeLine{00099\ }
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00101\ \textcolor{comment}{\ \ \ *\ Modulate\ brightness,\ saturation,\ hue\ and\ lightness}}
\DoxyCodeLine{00102\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00103\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_aab59329bba83ce23554b220d37fb3d2d}{Modulate}}(VImage\ image,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ brightness,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ saturation,}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ \textcolor{keyword}{const}\ hue,\ \textcolor{keywordtype}{double}\ \textcolor{keyword}{const}\ lightness);}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00107\ \textcolor{comment}{\ \ \ *\ Ensure\ the\ image\ is\ in\ a\ given\ colourspace}}
\DoxyCodeLine{00108\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00109\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_a8958077ee32ccf3d77c27d1795cdadc0}{EnsureColourspace}}(VImage\ image,\ VipsInterpretation\ colourspace);}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00112\ \textcolor{comment}{\ \ \ *\ Split\ and\ crop\ each\ frame,\ reassemble,\ and\ update\ pageHeight.}}
\DoxyCodeLine{00113\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00114\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_ab7f4e5cf2278c6d8c290a71778813705}{CropMultiPage}}(VImage\ image,\ \textcolor{keywordtype}{int}\ left,\ \textcolor{keywordtype}{int}\ top,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height,}
\DoxyCodeLine{00115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ nPages,\ \textcolor{keywordtype}{int}\ *pageHeight);}
\DoxyCodeLine{00116\ }
\DoxyCodeLine{00117\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00118\ \textcolor{comment}{\ \ \ *\ Split\ into\ frames,\ embed\ each\ frame,\ reassemble,\ and\ update\ pageHeight.}}
\DoxyCodeLine{00119\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00120\ \ \ VImage\ \mbox{\hyperlink{namespacesharp_adab5980f2268835b2a76849206292ab9}{EmbedMultiPage}}(VImage\ image,\ \textcolor{keywordtype}{int}\ left,\ \textcolor{keywordtype}{int}\ top,\ \textcolor{keywordtype}{int}\ width,\ \textcolor{keywordtype}{int}\ height,}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ VipsExtend\ extendWith,\ std::vector<double>\ background,\ \textcolor{keywordtype}{int}\ nPages,\ \textcolor{keywordtype}{int}\ *pageHeight);}
\DoxyCodeLine{00122\ }
\DoxyCodeLine{00123\ \}\ \ \textcolor{comment}{//\ namespace\ sharp}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ SRC\_OPERATIONS\_H\_}}

\end{DoxyCode}
