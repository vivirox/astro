\doxysection{node\+\_\+modules/merge2 Directory Reference}
\hypertarget{dir_1f74242074288cee77af036503757ab3}{}\label{dir_1f74242074288cee77af036503757ab3}\index{node\_modules/merge2 Directory Reference@{node\_modules/merge2 Directory Reference}}


\doxysubsection{Detailed Description}
Merge multiple streams into one stream in sequence or parallel.

\href{https://npmjs.org/package/merge2}{\texttt{ }} \href{https://travis-ci.org/teambition/merge2}{\texttt{ }} \href{https://npmjs.org/package/merge2}{\texttt{ }}\hypertarget{README.md_autotoc_md23097}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{README.md_autotoc_md23097}
Install with \href{https://npmjs.org/package/merge2}{\texttt{ npm}}


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ merge2}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md23098}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md23098}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ gulp\ =\ require('gulp')}
\DoxyCodeLine{const\ merge2\ =\ require('merge2')}
\DoxyCodeLine{const\ concat\ =\ require('gulp-\/concat')}
\DoxyCodeLine{const\ minifyHtml\ =\ require('gulp-\/minify-\/html')}
\DoxyCodeLine{const\ ngtemplate\ =\ require('gulp-\/ngtemplate')}
\DoxyCodeLine{}
\DoxyCodeLine{gulp.task('app-\/js',\ function\ ()\ \{}
\DoxyCodeLine{\ \ return\ merge2(}
\DoxyCodeLine{\ \ \ \ \ \ gulp.src('static/src/tpl/*.html')}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .pipe(minifyHtml(\{empty:\ true\}))}
\DoxyCodeLine{\ \ \ \ \ \ \ \ .pipe(ngtemplate(\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ module:\ 'genTemplates',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ standalone:\ true}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \})}
\DoxyCodeLine{\ \ \ \ \ \ ),\ gulp.src([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/app.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/locale\_zh-\/cn.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/router.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/tools.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/services.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/filters.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/directives.js',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ 'static/src/js/controllers.js'}
\DoxyCodeLine{\ \ \ \ \ \ ])}
\DoxyCodeLine{\ \ \ \ )}
\DoxyCodeLine{\ \ \ \ .pipe(concat('app.js'))}
\DoxyCodeLine{\ \ \ \ .pipe(gulp.dest('static/dist/js/'))}
\DoxyCodeLine{\})}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ stream\ =\ merge2([stream1,\ stream2],\ stream3,\ \{end:\ false\})}
\DoxyCodeLine{//...}
\DoxyCodeLine{stream.add(stream4,\ stream5)}
\DoxyCodeLine{//..}
\DoxyCodeLine{stream.end()}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ equal\ to\ merge2([stream1,\ stream2],\ stream3)}
\DoxyCodeLine{const\ stream\ =\ merge2()}
\DoxyCodeLine{stream.add([stream1,\ stream2])}
\DoxyCodeLine{stream.add(stream3)}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ merge\ order:}
\DoxyCodeLine{//\ \ \ 1.\ merge\ \`{}stream1`;}
\DoxyCodeLine{//\ \ \ 2.\ merge\ \`{}stream2`\ and\ \`{}stream3`\ in\ parallel\ after\ \`{}stream1`\ merged;}
\DoxyCodeLine{//\ \ \ 3.\ merge\ 'stream4'\ after\ \`{}stream2`\ and\ \`{}stream3`\ merged;}
\DoxyCodeLine{const\ stream\ =\ merge2(stream1,\ [stream2,\ stream3],\ stream4)}
\DoxyCodeLine{}
\DoxyCodeLine{//\ merge\ order:}
\DoxyCodeLine{//\ \ \ 1.\ merge\ \`{}stream5`\ and\ \`{}stream6`\ in\ parallel\ after\ \`{}stream4`\ merged;}
\DoxyCodeLine{//\ \ \ 2.\ merge\ 'stream7'\ after\ \`{}stream5`\ and\ \`{}stream6`\ merged;}
\DoxyCodeLine{stream.add([stream5,\ stream6],\ stream7)}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ nest\ merge}
\DoxyCodeLine{//\ equal\ to\ merge2(stream1,\ stream2,\ stream6,\ stream3,\ [stream4,\ stream5]);}
\DoxyCodeLine{const\ streamA\ =\ merge2(stream1,\ stream2)}
\DoxyCodeLine{const\ streamB\ =\ merge2(stream3,\ [stream4,\ stream5])}
\DoxyCodeLine{const\ stream\ =\ merge2(streamA,\ streamB)}
\DoxyCodeLine{streamA.add(stream6)}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md23099}{}\doxysubsection{\texorpdfstring{API}{API}}\label{README.md_autotoc_md23099}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ merge2\ =\ require('merge2')}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md23100}{}\doxysubsubsection{\texorpdfstring{merge2()}{merge2()}}\label{README.md_autotoc_md23100}
\hypertarget{README.md_autotoc_md23101}{}\doxysubsubsection{\texorpdfstring{merge2(options)}{merge2(options)}}\label{README.md_autotoc_md23101}
\hypertarget{README.md_autotoc_md23102}{}\doxysubsubsection{\texorpdfstring{merge2(stream1, stream2, ..., stream\+N)}{merge2(stream1, stream2, ..., stream\+N)}}\label{README.md_autotoc_md23102}
\hypertarget{README.md_autotoc_md23103}{}\doxysubsubsection{\texorpdfstring{merge2(stream1, stream2, ..., stream\+N, options)}{merge2(stream1, stream2, ..., stream\+N, options)}}\label{README.md_autotoc_md23103}
\hypertarget{README.md_autotoc_md23104}{}\doxysubsubsection{\texorpdfstring{merge2(stream1, \mbox{[}stream2, stream3, ...\mbox{]}, stream\+N, options)}{merge2(stream1, \mbox{[}stream2, stream3, ...\mbox{]}, stream\+N, options)}}\label{README.md_autotoc_md23104}
return a duplex stream (merged\+Stream). streams in array will be merged in parallel.\hypertarget{README.md_autotoc_md23105}{}\doxysubsubsection{\texorpdfstring{merged\+Stream.\+add(stream)}{merged\+Stream.\+add(stream)}}\label{README.md_autotoc_md23105}
\hypertarget{README.md_autotoc_md23106}{}\doxysubsubsection{\texorpdfstring{merged\+Stream.\+add(stream1, \mbox{[}stream2, stream3, ...\mbox{]}, ...)}{merged\+Stream.\+add(stream1, \mbox{[}stream2, stream3, ...\mbox{]}, ...)}}\label{README.md_autotoc_md23106}
return the merged\+Stream.\hypertarget{README.md_autotoc_md23107}{}\doxysubsubsection{\texorpdfstring{merged\+Stream.\+on(\textquotesingle{}queue\+Drain\textquotesingle{}, function() \{\})}{merged\+Stream.\+on(\textquotesingle{}queue\+Drain\textquotesingle{}, function() \{\})}}\label{README.md_autotoc_md23107}
It will emit \textquotesingle{}queue\+Drain\textquotesingle{} when all streams merged. If you set {\ttfamily end === false} in options, this event give you a notice that should add more streams to merge or end the merged\+Stream.\hypertarget{README.md_autotoc_md23108}{}\doxysubsubsubsection{\texorpdfstring{stream}{stream}}\label{README.md_autotoc_md23108}
{\itshape option} Type\+: {\ttfamily Readable} or {\ttfamily Duplex} or {\ttfamily Transform} stream.\hypertarget{README.md_autotoc_md23109}{}\doxysubsubsubsection{\texorpdfstring{options}{options}}\label{README.md_autotoc_md23109}
{\itshape option} Type\+: {\ttfamily Object}.


\begin{DoxyItemize}
\item {\bfseries{end}} -\/ {\ttfamily Boolean} -\/ if {\ttfamily end === false} then merged\+Stream will not be auto ended, you should end by yourself. {\bfseries{Default\+:}} {\ttfamily undefined}
\item {\bfseries{pipe\+Error}} -\/ {\ttfamily Boolean} -\/ if {\ttfamily pipe\+Error === true} then merged\+Stream will emit {\ttfamily error} event from source streams. {\bfseries{Default\+:}} {\ttfamily undefined}
\item {\bfseries{object\+Mode}} -\/ {\ttfamily Boolean} . {\bfseries{Default\+:}} {\ttfamily true}
\end{DoxyItemize}

{\ttfamily object\+Mode} and other options({\ttfamily high\+Water\+Mark}, {\ttfamily default\+Encoding} ...) is same as Node.\+js {\ttfamily Stream}.\hypertarget{README.md_autotoc_md23110}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md23110}
MIT Â© \href{https://www.teambition.com}{\texttt{ Teambition}} 