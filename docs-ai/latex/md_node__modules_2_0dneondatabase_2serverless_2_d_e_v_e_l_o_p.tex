\chapter{Development and contributing}
\hypertarget{md_node__modules_2_0dneondatabase_2serverless_2_d_e_v_e_l_o_p}{}\label{md_node__modules_2_0dneondatabase_2serverless_2_d_e_v_e_l_o_p}\index{Development and contributing@{Development and contributing}}
\label{md_node__modules_2_0dneondatabase_2serverless_2_d_e_v_e_l_o_p_autotoc_md5014}%
\Hypertarget{md_node__modules_2_0dneondatabase_2serverless_2_d_e_v_e_l_o_p_autotoc_md5014}%


The code is at \href{https://github.com/neondatabase/serverless}{\texttt{ https\+://github.\+com/neondatabase/serverless}}. Most of the interesting stuff is in {\ttfamily shims/net/index.\+ts} and the {\ttfamily export/} folder.


\begin{DoxyItemize}
\item To update the npm \& jsr package\+:
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ run\ export}
\DoxyCodeLine{cd\ dist/npm}
\DoxyCodeLine{npm\ version\ patch\ \ \#\ or\ minor\ or\ major}
\DoxyCodeLine{npm\ publish}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Copy\ npm\ version}
\DoxyCodeLine{jq\ -\/-\/arg\ v\ "{}\$(jq\ -\/r\ .version\ dist/npm/package.json)"{}\ '.version\ =\ \$v'\ dist/jsr/jsr.json\ >\ dist/jsr/jsr.json.tmp\ \&\&\ mv\ dist/jsr/jsr.json.tmp\ dist/jsr/jsr.json}
\DoxyCodeLine{}
\DoxyCodeLine{\#\ Publish\ jsr\ package}
\DoxyCodeLine{npx\ jsr\ publish}

\end{DoxyCode}



\begin{DoxyItemize}
\item To run or deploy the simple test app on Cloudflare, create a {\ttfamily .dev.\+vars} file containing {\ttfamily NEON\+\_\+\+DB\+\_\+\+URL=postgres\+://connection\+\_\+string}, run {\ttfamily npx wrangler dev -\/-\/local} or {\ttfamily npx wrangler publish}.
\item To run the latencies test app in a browser, create a {\ttfamily .dev.\+vars} file as above, run {\ttfamily npm run browser} and visit {\ttfamily \href{http://localhost:7070/dist/browser/}{\texttt{ http\+://localhost\+:7070/dist/browser/}}}. To include debug output and avoid minification, use {\ttfamily npm run browser\+Debug} instead.
\item To run the latencies test app in node, create a {\ttfamily .dev.\+vars} file as above and run {\ttfamily npm run node}. To include debug output and avoid minification, use {\ttfamily npm run node\+Debug} instead. 
\end{DoxyItemize}