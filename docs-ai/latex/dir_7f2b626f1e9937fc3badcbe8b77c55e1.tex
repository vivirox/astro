\doxysection{node\+\_\+modules/remark-\/rehype Directory Reference}
\hypertarget{dir_7f2b626f1e9937fc3badcbe8b77c55e1}{}\label{dir_7f2b626f1e9937fc3badcbe8b77c55e1}\index{node\_modules/remark-\/rehype Directory Reference@{node\_modules/remark-\/rehype Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/remarkjs/remark-rehype/actions}{\texttt{ }} \href{https://codecov.io/github/remarkjs/remark-rehype}{\texttt{ }} \href{https://www.npmjs.com/package/remark-rehype}{\texttt{ }} \href{https://bundlejs.com/?q=remark-rehype}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/remarkjs/remark/discussions}{\texttt{ }}

{\bfseries{\href{https://github.com/remarkjs/remark}{\texttt{ remark}}}} plugin that turns markdown into HTML to support {\bfseries{\href{https://github.com/rehypejs/rehype}{\texttt{ rehype}}}}.\hypertarget{readme.md_autotoc_md29222}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md29222}

\begin{DoxyItemize}
\item What is this?
\item When should I use this?
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)\`{}
\item \`{}default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)\`{}
\item \`{}default\+Handlers\`{}
\item \`{}unified().use(remark\+Rehype\mbox{[}, destination\mbox{]}\mbox{[}, options\mbox{]})\`{}
\item \doxylink{README.md_options}{\`{}\+Options\`{}}
\end{DoxyItemize}
\item \doxylink{README.md_examples}{Examples}
\begin{DoxyItemize}
\item Example\+: supporting HTML in markdown naïvely
\item Example\+: supporting HTML in markdown properly
\item Example\+: footnotes in languages other than English
\end{DoxyItemize}
\item HTML
\item CSS
\item Syntax tree
\item \doxylink{readme.md_types}{Types}
\item Compatibility
\item Security
\item Related
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md29223}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md29223}
This package is a \href{https://github.com/unifiedjs/unified}{\texttt{ unified}} (\href{https://github.com/remarkjs/remark}{\texttt{ remark}}) plugin that switches from remark (the markdown ecosystem) to rehype (the HTML ecosystem). It does this by transforming the current markdown (mdast) syntax tree into an HTML (hast) syntax tree. remark plugins deal with mdast and rehype plugins deal with hast, so plugins used after {\ttfamily remark-\/rehype} have to be rehype plugins.

The reason that there are different ecosystems for markdown and HTML is that turning markdown into HTML is, while frequently needed, not the only purpose of markdown. Checking (linting) and formatting markdown are also common use cases for remark and markdown. There are several aspects of markdown that do not translate 1-\/to-\/1 to HTML. In some cases markdown contains more information than HTML\+: for example, there are several ways to add a link in markdown (as in, autolinks\+: {\ttfamily \texorpdfstring{$<$}{<}\href{https://url}{\texttt{ https\+://url}}\texorpdfstring{$>$}{>}}, resource links\+: {\ttfamily \mbox{[}label\mbox{]}(url)}, and reference links with definitions\+: {\ttfamily \mbox{[}label\mbox{]}\mbox{[}id\mbox{]}} and {\ttfamily \mbox{[}id\mbox{]}\+: url}). In other cases HTML contains more information than markdown\+: there are many tags, which add new meaning (semantics), available in HTML that aren’t available in markdown. If there was just one AST, it would be quite hard to perform the tasks that several remark and rehype plugins currently do.\hypertarget{readme.md_autotoc_md29224}{}\doxysubsection{\texorpdfstring{When should I use this?}{When should I use this?}}\label{readme.md_autotoc_md29224}
This project is useful when you want to turn markdown to HTML. It opens up a whole new ecosystem with tons of plugins to do all kinds of things. You can \href{https://github.com/rehypejs/rehype-minify}{\texttt{ minify HTML}}, \href{https://github.com/rehypejs/rehype-format}{\texttt{ format HTML}}, \href{https://github.com/rehypejs/rehype-sanitize}{\texttt{ make sure it’s safe}}, \href{https://github.com/rehypejs/rehype-highlight}{\texttt{ highlight code}}, \href{https://github.com/rehypejs/rehype-meta}{\texttt{ add metadata}}, and a lot more.

A different plugin, \href{https://github.com/rehypejs/rehype-raw}{\texttt{ {\ttfamily rehype-\/raw}}}, adds support for raw HTML written inside markdown. This is a separate plugin because supporting HTML inside markdown is a heavy task (performance and bundle size) and not always needed. To use both together, you also have to configure {\ttfamily remark-\/rehype} with {\ttfamily allow\+Dangerous\+Html\+: true} and then use {\ttfamily rehype-\/raw}.

The rehype plugin \href{https://github.com/rehypejs/rehype-remark}{\texttt{ {\ttfamily rehype-\/remark}}} does the inverse of this plugin. It turns HTML into markdown.

If you don’t use plugins and want to access syntax trees, you can use \href{https://github.com/syntax-tree/mdast-util-to-hast}{\texttt{ {\ttfamily mdast-\/util-\/to-\/hast}}}.\hypertarget{readme.md_autotoc_md29225}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md29225}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ remark-\/rehype}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ remarkRehype\ from\ 'https://esm.sh/remark-\/rehype@11'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ remarkRehype\ from\ 'https://esm.sh/remark-\/rehype@11?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md29226}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md29226}
Say our document {\ttfamily example.\+md} contains\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Pluto}
\DoxyCodeLine{}
\DoxyCodeLine{**Pluto**\ (minor-\/planet\ designation:\ **134340\ Pluto**)\ is\ a}
\DoxyCodeLine{[dwarf\ planet](https://en.wikipedia.org/wiki/Dwarf\_planet)\ in\ the}
\DoxyCodeLine{[Kuiper\ belt](https://en.wikipedia.org/wiki/Kuiper\_belt).}

\end{DoxyCode}


…and our module {\ttfamily example.\+js} contains\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rehypeDocument\ from\ 'rehype-\/document'}
\DoxyCodeLine{import\ rehypeFormat\ from\ 'rehype-\/format'}
\DoxyCodeLine{import\ rehypeStringify\ from\ 'rehype-\/stringify'}
\DoxyCodeLine{import\ remarkParse\ from\ 'remark-\/parse'}
\DoxyCodeLine{import\ remarkRehype\ from\ 'remark-\/rehype'}
\DoxyCodeLine{import\ \{read\}\ from\ 'to-\/vfile'}
\DoxyCodeLine{import\ \{unified\}\ from\ 'unified'}
\DoxyCodeLine{import\ \{reporter\}\ from\ 'vfile-\/reporter'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ file\ =\ await\ unified()}
\DoxyCodeLine{\ \ .use(remarkParse)}
\DoxyCodeLine{\ \ .use(remarkRehype)}
\DoxyCodeLine{\ \ .use(rehypeDocument)}
\DoxyCodeLine{\ \ .use(rehypeFormat)}
\DoxyCodeLine{\ \ .use(rehypeStringify)}
\DoxyCodeLine{\ \ .process(await\ read('example.md'))}
\DoxyCodeLine{}
\DoxyCodeLine{console.error(reporter(file))}
\DoxyCodeLine{console.log(String(file))}

\end{DoxyCode}


…then running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{example.md:\ no\ issues\ found}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{<!doctype\ html>}
\DoxyCodeLine{<html\ lang="{}en"{}>}
\DoxyCodeLine{\ \ <head>}
\DoxyCodeLine{\ \ \ \ <meta\ charset="{}utf-\/8"{}>}
\DoxyCodeLine{\ \ \ \ <title>example</title>}
\DoxyCodeLine{\ \ \ \ <meta\ content="{}width=device-\/width,\ initial-\/scale=1"{}\ name="{}viewport"{}>}
\DoxyCodeLine{\ \ </head>}
\DoxyCodeLine{\ \ <body>}
\DoxyCodeLine{\ \ \ \ <h1>Pluto</h1>}
\DoxyCodeLine{\ \ \ \ <p>}
\DoxyCodeLine{\ \ \ \ \ \ <strong>Pluto</strong>\ (minor-\/planet\ designation:\ <strong>134340\ Pluto</strong>)\ is\ a}
\DoxyCodeLine{\ \ \ \ \ \ <a\ href="{}https://en.wikipedia.org/wiki/Dwarf\_planet"{}>dwarf\ planet</a>\ in\ the}
\DoxyCodeLine{\ \ \ \ \ \ <a\ href="{}https://en.wikipedia.org/wiki/Kuiper\_belt"{}>Kuiper\ belt</a>.}
\DoxyCodeLine{\ \ \ \ </p>}
\DoxyCodeLine{\ \ </body>}
\DoxyCodeLine{</html>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md29227}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md29227}
This package exports the identifiers \`{}default\+Footnote\+Back\+Content\`{}, \`{}default\+Footnote\+Back\+Label\`{}, and \`{}default\+Handlers\`{}. The default export is \`{}remark\+Rehype\`{}.\hypertarget{readme.md_autotoc_md29228}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)}}{{\ttfamily default\+Footnote\+Back\+Content(reference\+Index, rereference\+Index)}}}\label{readme.md_autotoc_md29228}
See \href{https://github.com/syntax-tree/mdast-util-to-hast\#defaultfootnotebackcontentreferenceindex-rereferenceindex}{\texttt{ {\ttfamily default\+Footnote\+Back\+Content} from {\ttfamily mdast-\/util-\/to-\/hast}}}\hypertarget{readme.md_autotoc_md29229}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)}}{{\ttfamily default\+Footnote\+Back\+Label(reference\+Index, rereference\+Index)}}}\label{readme.md_autotoc_md29229}
See \href{https://github.com/syntax-tree/mdast-util-to-hast\#defaultfootnotebacklabelreferenceindex-rereferenceindex}{\texttt{ {\ttfamily default\+Footnote\+Back\+Label} from {\ttfamily mdast-\/util-\/to-\/hast}}}\hypertarget{readme.md_autotoc_md29230}{}\doxysubsubsection{\texorpdfstring{{\ttfamily default\+Handlers}}{{\ttfamily default\+Handlers}}}\label{readme.md_autotoc_md29230}
See \href{https://github.com/syntax-tree/mdast-util-to-hast\#defaulthandlers}{\texttt{ {\ttfamily default\+Handlers} from {\ttfamily mdast-\/util-\/to-\/hast}}}\hypertarget{readme.md_autotoc_md29231}{}\doxysubsubsection{\texorpdfstring{{\ttfamily unified().use(remark\+Rehype\mbox{[}, destination\mbox{]}\mbox{[}, options\mbox{]})}}{{\ttfamily unified().use(remark\+Rehype\mbox{[}, destination\mbox{]}\mbox{[}, options\mbox{]})}}}\label{readme.md_autotoc_md29231}
Turn markdown into HTML.\hypertarget{readme.md_autotoc_md29232}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md29232}

\begin{DoxyItemize}
\item {\ttfamily destination} (\href{https://github.com/unifiedjs/unified\#processor}{\texttt{ {\ttfamily Processor}}}, optional) — processor
\item {\ttfamily options} (\doxylink{README.md_options}{\`{}\+Options\`{}}, optional) — configuration
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md29233}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md29233}
Transform (\href{https://github.com/unifiedjs/unified\#transformer}{\texttt{ {\ttfamily Transformer}}}).\hypertarget{readme.md_autotoc_md29234}{}\doxysubsubsubsubsection{\texorpdfstring{Notes}{Notes}}\label{readme.md_autotoc_md29234}
\hypertarget{readme.md_autotoc_md29235}{}\doxysubsubsubsubsubsection{\texorpdfstring{Signature}{Signature}}\label{readme.md_autotoc_md29235}

\begin{DoxyItemize}
\item if a \href{https://github.com/unifiedjs/unified\#processor}{\texttt{ processor}} is given, runs the (rehype) plugins used on it with a hast tree, then discards the result (\href{https://github.com/unifiedjs/unified\#transforming-between-ecosystems}{\texttt{ {\itshape bridge mode}}})
\item otherwise, returns a hast tree, the plugins used after {\ttfamily remark\+Rehype} are rehype plugins (\href{https://github.com/unifiedjs/unified\#transforming-between-ecosystems}{\texttt{ {\itshape mutate mode}}})
\end{DoxyItemize}

\begin{quote}
👉 {\bfseries{Note}}\+: It’s highly unlikely that you want to pass a {\ttfamily processor}. \end{quote}
\hypertarget{readme.md_autotoc_md29236}{}\doxysubsubsubsubsubsection{\texorpdfstring{HTML}{HTML}}\label{readme.md_autotoc_md29236}
Raw HTML is available in mdast as \href{https://github.com/syntax-tree/mdast\#html}{\texttt{ {\ttfamily html}}} nodes and can be embedded in hast as semistandard {\ttfamily raw} nodes. Most plugins ignore {\ttfamily raw} nodes but two notable ones don’t\+:


\begin{DoxyItemize}
\item \href{https://github.com/rehypejs/rehype/tree/main/packages/rehype-stringify}{\texttt{ {\ttfamily rehype-\/stringify}}} also has an option {\ttfamily allow\+Dangerous\+Html} which will output the raw HTML. This is typically discouraged as noted by the option name but is useful if you completely trust authors
\item \href{https://github.com/rehypejs/rehype-raw}{\texttt{ {\ttfamily rehype-\/raw}}} can handle the raw embedded HTML strings by parsing them into standard hast nodes ({\ttfamily element}, {\ttfamily text}, etc). This is a heavy task as it needs a full HTML parser, but it is the only way to support untrusted content
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md29237}{}\doxysubsubsubsubsubsection{\texorpdfstring{Footnotes}{Footnotes}}\label{readme.md_autotoc_md29237}
Many options supported here relate to footnotes. Footnotes are not specified by Common\+Mark, which we follow by default. They are supported by Git\+Hub, so footnotes can be enabled in markdown with \href{https://github.com/remarkjs/remark-gfm}{\texttt{ {\ttfamily remark-\/gfm}}}.

The options {\ttfamily footnote\+Back\+Label} and {\ttfamily footnote\+Label} define natural language that explains footnotes, which is hidden for sighted users but shown to assistive technology. When your page is not in English, you must define translated values.

Back references use ARIA attributes, but the section label itself uses a heading that is hidden with an {\ttfamily sr-\/only} class. To show it to sighted users, define different attributes in {\ttfamily footnote\+Label\+Properties}.\hypertarget{readme.md_autotoc_md29238}{}\doxysubsubsubsubsubsection{\texorpdfstring{Clobbering}{Clobbering}}\label{readme.md_autotoc_md29238}
Footnotes introduces a problem, as it links footnote calls to footnote definitions on the page through {\ttfamily id} attributes generated from user content, which results in DOM clobbering.

DOM clobbering is this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p\ id=x></p>}
\DoxyCodeLine{<script>alert(x)\ //\ \`{}x`\ now\ refers\ to\ the\ DOM\ \`{}p\#x`\ element</script>}

\end{DoxyCode}


Elements by their ID are made available by browsers on the {\ttfamily window} object, which is a security risk. Using a prefix solves this problem.

More information on how to handle clobbering and the prefix is explained in \href{https://github.com/rehypejs/rehype-sanitize\#example-headings-dom-clobbering}{\texttt{ {\itshape Example\+: headings (DOM clobbering)} in {\ttfamily rehype-\/sanitize}}}.\hypertarget{readme.md_autotoc_md29239}{}\doxysubsubsubsubsubsection{\texorpdfstring{Unknown nodes}{Unknown nodes}}\label{readme.md_autotoc_md29239}
Unknown nodes are nodes with a type that isn’t in {\ttfamily handlers} or {\ttfamily pass\+Through}. The default behavior for unknown nodes is\+:


\begin{DoxyItemize}
\item when the node has a {\ttfamily value} (and doesn’t have {\ttfamily data.\+h\+Name}, {\ttfamily data.\+h\+Properties}, or {\ttfamily data.\+h\+Children}, see later), create a hast {\ttfamily text} node
\item otherwise, create a {\ttfamily \texorpdfstring{$<$}{<}div\texorpdfstring{$>$}{>}} element (which could be changed with {\ttfamily data.\+h\+Name}), with its children mapped from mdast to hast as well
\end{DoxyItemize}

This behavior can be changed by passing an {\ttfamily unknown\+Handler}.\hypertarget{readme.md_autotoc_md29240}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Options}}{{\ttfamily Options}}}\label{readme.md_autotoc_md29240}
Configuration (Type\+Script type).\hypertarget{readme.md_autotoc_md29241}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md29241}

\begin{DoxyItemize}
\item {\ttfamily allow\+Dangerous\+Html} ({\ttfamily boolean}, default\+: {\ttfamily false}) — whether to persist raw HTML in markdown in the hast tree
\item {\ttfamily clobber\+Prefix} ({\ttfamily string}, default\+: `\textquotesingle{}user-\/content-\/'{\ttfamily ) — prefix to use before the}id{\ttfamily property on footnotes to prevent them from \texorpdfstring{$\ast$}{*}clobbering\texorpdfstring{$\ast$}{*} \texorpdfstring{$\ast$}{*}}footnote\+Back\+Content{\ttfamily  (\mbox{[}}Footnote\+Back\+Content\+Template{\ttfamily from }mdast-\/util-\/to-\/hast{\ttfamily \mbox{]}\mbox{[}mdast-\/util-\/to-\/hast-\/footnote-\/back-\/content-\/template\mbox{]} or}string{\ttfamily , default\+: \mbox{[}}default\+Footnote\+Back\+Content{\ttfamily from }mdast-\/util-\/to-\/hast{\ttfamily \mbox{]}\mbox{[}mdast-\/util-\/to-\/hast-\/default-\/footnote-\/back-\/content\mbox{]}) — content of the backreference back to references \texorpdfstring{$\ast$}{*}}footnote\+Back\+Label{\ttfamily  (\mbox{[}}Footnote\+Back\+Label\+Template{\ttfamily from }mdast-\/util-\/to-\/hast{\ttfamily \mbox{]}\mbox{[}mdast-\/util-\/to-\/hast-\/footnote-\/back-\/label-\/template\mbox{]} or}string{\ttfamily , default\+: \mbox{[}}default\+Footnote\+Back\+Label{\ttfamily from }mdast-\/util-\/to-\/hast{\ttfamily \mbox{]}\mbox{[}mdast-\/util-\/to-\/hast-\/default-\/footnote-\/back-\/label\mbox{]}) — label to describe the backreference back to references \texorpdfstring{$\ast$}{*}}footnote\+Label{\ttfamily (}string{\ttfamily , default\+:}\textquotesingle{}Footnotes\textquotesingle{}{\ttfamily ) — label to use for the footnotes section (affects screen readers) \texorpdfstring{$\ast$}{*}}footnote\+Label\+Properties{\ttfamily  (\mbox{[}}Properties{\ttfamily from}@types/hast{\ttfamily \mbox{]}\mbox{[}hast-\/properties\mbox{]}, default\+: }\{class\+Name\+: \mbox{[}\textquotesingle{}sr-\/only\textquotesingle{}\mbox{]}\}{\ttfamily ) — properties to use on the footnote label (note that}id\+: \textquotesingle{}footnote-\/label\textquotesingle{}{\ttfamily is always added as footnote calls use it with}aria-\/describedby{\ttfamily to provide an accessible label) \texorpdfstring{$\ast$}{*}}footnote\+Label\+Tag\+Name{\ttfamily (}string{\ttfamily , default\+:}h2{\ttfamily ) — tag name to use for the footnote label \texorpdfstring{$\ast$}{*}}handlers{\ttfamily (\mbox{[}}Handlers{\ttfamily from }mdast-\/util-\/to-\/hast{\ttfamily \mbox{]}\mbox{[}mdast-\/util-\/to-\/hast-\/handlers\mbox{]}, optional) — extra handlers for nodes \texorpdfstring{$\ast$}{*}}pass\+Through{\ttfamily (}Array\texorpdfstring{$<$}{<}Nodes\mbox{[}\textquotesingle{}type\textquotesingle{}\mbox{]}\texorpdfstring{$>$}{>}{\ttfamily , optional) — list of custom mdast node types to pass through (keep) in hast (note that the node itself is passed, but eventual children are transformed) \texorpdfstring{$\ast$}{*}}unknown\+Handler{\ttfamily (\mbox{[}}Handler{\ttfamily from }mdast-\/util-\/to-\/hast\`{}\mbox{]}\href{https://github.com/syntax-tree/mdast-util-to-hast\#handler}{\texttt{ mdast-\/util-\/to-\/hast-\/handler}}, optional) — handle all unknown nodes
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md29242}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{readme.md_autotoc_md29242}
\hypertarget{readme.md_autotoc_md29243}{}\doxysubsubsection{\texorpdfstring{Example\+: supporting HTML in markdown naïvely}{Example\+: supporting HTML in markdown naïvely}}\label{readme.md_autotoc_md29243}
If you completely trust the authors of the input markdown and want to allow them to write HTML inside markdown, you can pass {\ttfamily allow\+Dangerous\+Html} to {\ttfamily remark-\/rehype} and {\ttfamily rehype-\/stringify}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rehypeStringify\ from\ 'rehype-\/stringify'}
\DoxyCodeLine{import\ remarkParse\ from\ 'remark-\/parse'}
\DoxyCodeLine{import\ remarkRehype\ from\ 'remark-\/rehype'}
\DoxyCodeLine{import\ \{unified\}\ from\ 'unified'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ file\ =\ await\ unified()}
\DoxyCodeLine{\ \ .use(remarkParse)}
\DoxyCodeLine{\ \ .use(remarkRehype,\ \{allowDangerousHtml:\ true\})}
\DoxyCodeLine{\ \ .use(rehypeStringify,\ \{allowDangerousHtml:\ true\})}
\DoxyCodeLine{\ \ .process('<a\ href="{}/wiki/Dysnomia\_(moon)"{}\ onclick="{}alert(1)"{}>Dysnomia</a>')}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(String(file))}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><a\ href="{}/wiki/Dysnomia\_(moon)"{}\ onclick="{}alert(1)"{}>Dysnomia</a></p>}

\end{DoxyCode}


\begin{quote}
⚠️ {\bfseries{Danger}}\+: observe that the XSS attack through {\ttfamily onclick} is present. \end{quote}
\hypertarget{readme.md_autotoc_md29244}{}\doxysubsubsection{\texorpdfstring{Example\+: supporting HTML in markdown properly}{Example\+: supporting HTML in markdown properly}}\label{readme.md_autotoc_md29244}
If you do not trust the authors of the input markdown, or if you want to make sure that rehype plugins can see HTML embedded in markdown, use \href{https://github.com/rehypejs/rehype-raw}{\texttt{ {\ttfamily rehype-\/raw}}}. The following example passes {\ttfamily allow\+Dangerous\+Html} to {\ttfamily remark-\/rehype}, then turns the raw embedded HTML into proper HTML nodes with {\ttfamily rehype-\/raw}, and finally sanitizes the HTML by only allowing safe things with {\ttfamily rehype-\/sanitize}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ rehypeSanitize\ from\ 'rehype-\/sanitize'}
\DoxyCodeLine{import\ rehypeStringify\ from\ 'rehype-\/stringify'}
\DoxyCodeLine{import\ rehypeRaw\ from\ 'rehype-\/raw'}
\DoxyCodeLine{import\ remarkParse\ from\ 'remark-\/parse'}
\DoxyCodeLine{import\ remarkRehype\ from\ 'remark-\/rehype'}
\DoxyCodeLine{import\ \{unified\}\ from\ 'unified'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ file\ =\ await\ unified()}
\DoxyCodeLine{\ \ .use(remarkParse)}
\DoxyCodeLine{\ \ .use(remarkRehype,\ \{allowDangerousHtml:\ true\})}
\DoxyCodeLine{\ \ .use(rehypeRaw)}
\DoxyCodeLine{\ \ .use(rehypeSanitize)}
\DoxyCodeLine{\ \ .use(rehypeStringify)}
\DoxyCodeLine{\ \ .process('<a\ href="{}/wiki/Dysnomia\_(moon)"{}\ onclick="{}alert(1)"{}>Dysnomia</a>')}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(String(file))}

\end{DoxyCode}


Running that code yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p><a\ href="{}/wiki/Dysnomia\_(moon)"{}>Dysnomia</a></p>}

\end{DoxyCode}


\begin{quote}
⚠️ {\bfseries{Danger}}\+: observe that the XSS attack through {\ttfamily onclick} is {\bfseries{not}} present. \end{quote}
\hypertarget{readme.md_autotoc_md29245}{}\doxysubsubsection{\texorpdfstring{Example\+: footnotes in languages other than English}{Example\+: footnotes in languages other than English}}\label{readme.md_autotoc_md29245}
If you know that the markdown is authored in a language other than English, and you’re using {\ttfamily remark-\/gfm} to match how Git\+Hub renders markdown, and you know that footnotes are (or can?) be used, you should translate the labels associated with them.

Let’s first set the stage\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{unified\}\ from\ 'unified'}
\DoxyCodeLine{import\ remarkParse\ from\ 'remark-\/parse'}
\DoxyCodeLine{import\ remarkGfm\ from\ 'remark-\/gfm'}
\DoxyCodeLine{import\ remarkRehype\ from\ 'remark-\/rehype'}
\DoxyCodeLine{import\ rehypeStringify\ from\ 'rehype-\/stringify'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ doc\ =\ \`{}}
\DoxyCodeLine{Ceres\ ist\ nach\ der\ römischen\ Göttin\ des\ Ackerbaus\ benannt;}
\DoxyCodeLine{ihr\ astronomisches\ Symbol\ ist\ daher\ eine\ stilisierte\ Sichel:\ ⚳.[\string^nasa-\/2015]}
\DoxyCodeLine{}
\DoxyCodeLine{[\string^nasa-\/2015]:\ JPL/NASA:}
\DoxyCodeLine{\ \ \ \ [*What\ is\ a\ Dwarf\ Planet?*](https://www.jpl.nasa.gov/infographics/what-\/is-\/a-\/dwarf-\/planet)}
\DoxyCodeLine{\ \ \ \ In:\ Jet\ Propulsion\ Laboratory.}
\DoxyCodeLine{\ \ \ \ 22.\ April\ 2015,}
\DoxyCodeLine{\ \ \ \ abgerufen\ am\ 19.\ Januar\ 2022\ (englisch).}
\DoxyCodeLine{\`{}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ file\ =\ await\ unified()}
\DoxyCodeLine{\ \ .use(remarkParse)}
\DoxyCodeLine{\ \ .use(remarkGfm)}
\DoxyCodeLine{\ \ .use(remarkRehype)}
\DoxyCodeLine{\ \ .use(rehypeStringify)}
\DoxyCodeLine{\ \ .process(doc)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(String(file))}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>Ceres\ ist\ nach\ der\ römischen\ Göttin\ des\ Ackerbaus\ benannt;}
\DoxyCodeLine{ihr\ astronomisches\ Symbol\ ist\ daher\ eine\ stilisierte\ Sichel:\ ⚳.<sup><a\ href="{}\#user-\/content-\/fn-\/nasa-\/2015"{}\ id="{}user-\/content-\/fnref-\/nasa-\/2015"{}\ data-\/footnote-\/ref\ aria-\/describedby="{}footnote-\/label"{}>1</a></sup></p>}
\DoxyCodeLine{<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Footnotes</h2>}
\DoxyCodeLine{<ol>}
\DoxyCodeLine{<li\ id="{}user-\/content-\/fn-\/nasa-\/2015"{}>}
\DoxyCodeLine{<p>JPL/NASA:}
\DoxyCodeLine{<a\ href="{}https://www.jpl.nasa.gov/infographics/what-\/is-\/a-\/dwarf-\/planet"{}><em>What\ is\ a\ Dwarf\ Planet?</em></a>}
\DoxyCodeLine{In:\ Jet\ Propulsion\ Laboratory.}
\DoxyCodeLine{22.\ April\ 2015,}
\DoxyCodeLine{abgerufen\ am\ 19.\ Januar\ 2022\ (englisch).\ <a\ href="{}\#user-\/content-\/fnref-\/nasa-\/2015"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Back\ to\ reference\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{</li>}
\DoxyCodeLine{</ol>}
\DoxyCodeLine{</section>}

\end{DoxyCode}


This is a mix of English and German that isn’t very accessible, such as that screen readers can’t handle it nicely. Let’s say our program {\itshape does} know that the markdown is in German. In that case, it’s important to translate and define the labels relating to footnotes so that screen reader users can properly pronounce the page\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@@\ -\/18,7\ +18,16\ @@\ ihr\ astronomisches\ Symbol\ ist\ daher\ eine\ stilisierte\ Sichel:\ ⚳.[\string^nasa-\/2015]}
\DoxyCodeLine{\ const\ file\ =\ await\ unified()}
\DoxyCodeLine{\ \ \ .use(remarkParse)}
\DoxyCodeLine{\ \ \ .use(remarkGfm)}
\DoxyCodeLine{-\/\ \ .use(remarkRehype)}
\DoxyCodeLine{+\ \ .use(remarkRehype,\ \{}
\DoxyCodeLine{+\ \ \ \ footnoteBackLabel(referenceIndex,\ rereferenceIndex)\ \{}
\DoxyCodeLine{+\ \ \ \ \ \ return\ (}
\DoxyCodeLine{+\ \ \ \ \ \ \ \ 'Hochspringen\ nach:\ '\ +}
\DoxyCodeLine{+\ \ \ \ \ \ \ \ (referenceIndex\ +\ 1)\ +}
\DoxyCodeLine{+\ \ \ \ \ \ \ \ (rereferenceIndex\ >\ 1\ ?\ '-\/'\ +\ rereferenceIndex\ :\ '')}
\DoxyCodeLine{+\ \ \ \ \ \ )}
\DoxyCodeLine{+\ \ \ \ \},}
\DoxyCodeLine{+\ \ \ \ footnoteLabel:\ 'Fußnoten'}
\DoxyCodeLine{+\ \ \})}
\DoxyCodeLine{\ \ \ .use(rehypeStringify)}
\DoxyCodeLine{\ \ \ .process(doc)}

\end{DoxyCode}


Running the code with the above patch applied, yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{@@\ -\/1,13\ +1,13\ @@}
\DoxyCodeLine{\ <p>Ceres\ ist\ nach\ der\ römischen\ Göttin\ des\ Ackerbaus\ benannt;}
\DoxyCodeLine{\ ihr\ astronomisches\ Symbol\ ist\ daher\ eine\ stilisierte\ Sichel:\ ⚳.<sup><a\ href="{}\#user-\/content-\/fn-\/nasa-\/2015"{}\ id="{}user-\/content-\/fnref-\/nasa-\/2015"{}\ data-\/footnote-\/ref\ aria-\/describedby="{}footnote-\/label"{}>1</a></sup></p>}
\DoxyCodeLine{-\/<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Footnotes</h2>}
\DoxyCodeLine{+<section\ data-\/footnotes\ class="{}footnotes"{}><h2\ class="{}sr-\/only"{}\ id="{}footnote-\/label"{}>Fußnoten</h2>}
\DoxyCodeLine{\ <ol>}
\DoxyCodeLine{\ <li\ id="{}user-\/content-\/fn-\/nasa-\/2015"{}>}
\DoxyCodeLine{\ <p>JPL/NASA:}
\DoxyCodeLine{\ <a\ href="{}https://www.jpl.nasa.gov/infographics/what-\/is-\/a-\/dwarf-\/planet"{}><em>What\ is\ a\ Dwarf\ Planet?</em></a>}
\DoxyCodeLine{\ In:\ Jet\ Propulsion\ Laboratory.}
\DoxyCodeLine{\ 22.\ April\ 2015,}
\DoxyCodeLine{-\/abgerufen\ am\ 19.\ Januar\ 2022\ (englisch).\ <a\ href="{}\#user-\/content-\/fnref-\/nasa-\/2015"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Back\ to\ reference\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{+abgerufen\ am\ 19.\ Januar\ 2022\ (englisch).\ <a\ href="{}\#user-\/content-\/fnref-\/nasa-\/2015"{}\ data-\/footnote-\/backref="{}"{}\ aria-\/label="{}Hochspringen\ nach:\ 1"{}\ class="{}data-\/footnote-\/backref"{}>↩</a></p>}
\DoxyCodeLine{\ </li>}
\DoxyCodeLine{\ </ol>}
\DoxyCodeLine{\ </section>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md29246}{}\doxysubsection{\texorpdfstring{HTML}{HTML}}\label{readme.md_autotoc_md29246}
See \href{https://github.com/syntax-tree/mdast-util-to-hast\#algorithm}{\texttt{ {\itshape Algorithm} in {\ttfamily mdast-\/util-\/to-\/hast}}} for info on how mdast (markdown) nodes are transformed to hast (HTML).\hypertarget{readme.md_autotoc_md29247}{}\doxysubsection{\texorpdfstring{CSS}{CSS}}\label{readme.md_autotoc_md29247}
Assuming you know how to use (semantic) HTML and CSS, then it should generally be straightforward to style the HTML produced by this plugin. With CSS, you can get creative and style the results as you please.

Some semistandard features, notably GFMs tasklists and footnotes, generate HTML that be unintuitive, as it matches exactly what Git\+Hub produces for their website. There is a project, \href{https://github.com/sindresorhus/github-markdown-css}{\texttt{ {\ttfamily sindresorhus/github-\/markdown-\/css}}}, that exposes the stylesheet that Git\+Hub uses for rendered markdown, which might either be inspirational for more complex features, or can be used as-\/is to exactly match how Git\+Hub styles rendered markdown.

The following CSS is needed to make footnotes look a bit like Git\+Hub\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/*\ Style\ the\ footnotes\ section.\ */}
\DoxyCodeLine{.footnotes\ \{}
\DoxyCodeLine{\ \ font-\/size:\ smaller;}
\DoxyCodeLine{\ \ color:\ \#8b949e;}
\DoxyCodeLine{\ \ border-\/top:\ 1px\ solid\ \#30363d;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ Hide\ the\ section\ label\ for\ visual\ users.\ */}
\DoxyCodeLine{.sr-\/only\ \{}
\DoxyCodeLine{\ \ position:\ absolute;}
\DoxyCodeLine{\ \ width:\ 1px;}
\DoxyCodeLine{\ \ height:\ 1px;}
\DoxyCodeLine{\ \ padding:\ 0;}
\DoxyCodeLine{\ \ overflow:\ hidden;}
\DoxyCodeLine{\ \ clip:\ rect(0,\ 0,\ 0,\ 0);}
\DoxyCodeLine{\ \ word-\/wrap:\ normal;}
\DoxyCodeLine{\ \ border:\ 0;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{/*\ Place\ \`{}[`\ and\ \`{}]`\ around\ footnote\ calls.\ */}
\DoxyCodeLine{[data-\/footnote-\/ref]::before\ \{}
\DoxyCodeLine{\ \ content:\ '[';}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{[data-\/footnote-\/ref]::after\ \{}
\DoxyCodeLine{\ \ content:\ ']';}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md29248}{}\doxysubsection{\texorpdfstring{Syntax tree}{Syntax tree}}\label{readme.md_autotoc_md29248}
This projects turns \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}} (markdown) into \href{https://github.com/syntax-tree/hast}{\texttt{ hast}} (HTML).

It extends mdast by supporting {\ttfamily data} fields on mdast nodes to specify how they should be transformed. See \href{https://github.com/syntax-tree/mdast-util-to-hast\#fields-on-nodes}{\texttt{ {\itshape Fields on nodes} in {\ttfamily mdast-\/util-\/to-\/hast}}} for info on how these fields work.

It extends hast by using a semistandard raw nodes for raw HTML. See the \texorpdfstring{$\ast$}{*}\+HTML\texorpdfstring{$\ast$}{*} note above for more info.\hypertarget{readme.md_autotoc_md29249}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md29249}
This package is fully typed with \href{https://www.typescriptlang.org}{\texttt{ Type\+Script}}. It exports the types \doxylink{README.md_options}{\`{}\+Options\`{}}.

The types of {\ttfamily mdast-\/util-\/to-\/hast} can be referenced to register data fields with {\ttfamily @types/mdast} and {\ttfamily Raw} nodes with {\ttfamily @types/hast}.


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @import\ \{Root\ as\ HastRoot\}\ from\ 'hast'}
\DoxyCodeLine{\ *\ @import\ \{Root\ as\ MdastRoot\}\ from\ 'mdast'}
\DoxyCodeLine{\ *\ @import\ \{\}\ from\ 'mdast-\/util-\/to-\/hast'}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{visit\}\ from\ 'unist-\/util-\/visit'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ mdastNode\ =\ /**\ @type\ \{MdastRoot\}\ */\ (\{/*\ …\ */\})}
\DoxyCodeLine{console.log(mdastNode.data?.hName)\ //\ Typed\ as\ \`{}string\ |\ undefined`.}
\DoxyCodeLine{}
\DoxyCodeLine{const\ hastNode\ =\ /**\ @type\ \{HastRoot\}\ */\ (\{/*\ …\ */\})}
\DoxyCodeLine{}
\DoxyCodeLine{visit(hastNode,\ function\ (node)\ \{}
\DoxyCodeLine{\ \ //\ \`{}node`\ can\ now\ be\ \`{}raw`.}
\DoxyCodeLine{\})}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md29250}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md29250}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily remark-\/rehype@\texorpdfstring{$^\wedge$}{\string^}11}, compatible with Node.\+js 16.

This plugin works with {\ttfamily unified} version 6+, {\ttfamily remark-\/parse} version 3+ (used in {\ttfamily remark} version 7), and {\ttfamily rehype-\/stringify} version 3+ (used in {\ttfamily rehype} version 5).\hypertarget{readme.md_autotoc_md29251}{}\doxysubsection{\texorpdfstring{Security}{Security}}\label{readme.md_autotoc_md29251}
Use of {\ttfamily remark-\/rehype} can open you up to a \href{https://en.wikipedia.org/wiki/Cross-site_scripting}{\texttt{ cross-\/site scripting (XSS)}} attack. Embedded {\bfseries{\href{https://github.com/syntax-tree/hast}{\texttt{ hast}}}} properties ({\ttfamily h\+Name}, {\ttfamily h\+Properties}, {\ttfamily h\+Children}) in \href{https://github.com/syntax-tree/mdast}{\texttt{ mdast}}, custom handlers, and the {\ttfamily allow\+Dangerous\+Html} option all provide openings. Use \href{https://github.com/rehypejs/rehype-sanitize}{\texttt{ {\ttfamily rehype-\/sanitize}}} to make the tree safe.\hypertarget{readme.md_autotoc_md29252}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md29252}

\begin{DoxyItemize}
\item \href{https://github.com/rehypejs/rehype-raw}{\texttt{ {\ttfamily rehype-\/raw}}} — rehype plugin to parse the tree again and support {\ttfamily raw} nodes
\item \href{https://github.com/rehypejs/rehype-sanitize}{\texttt{ {\ttfamily rehype-\/sanitize}}} — rehype plugin to sanitize HTML
\item \href{https://github.com/rehypejs/rehype-remark}{\texttt{ {\ttfamily rehype-\/remark}}} — rehype plugin to turn HTML into markdown
\item \href{https://github.com/rehypejs/rehype-retext}{\texttt{ {\ttfamily rehype-\/retext}}} — rehype plugin to support retext
\item \href{https://github.com/remarkjs/remark-retext}{\texttt{ {\ttfamily remark-\/retext}}} — remark plugin to support retext
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md29253}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md29253}
See \href{https://github.com/remarkjs/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md}}} in \href{https://github.com/remarkjs/.github}{\texttt{ {\ttfamily remarkjs/.github}}} for ways to get started. See \href{https://github.com/remarkjs/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/remarkjs/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md29254}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md29254}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} © \href{https://wooorm.com}{\texttt{ Titus Wormer}} 