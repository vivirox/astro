\doxysection{token\+\_\+tracker.\+Token\+Tracker Class Reference}
\hypertarget{classtoken__tracker_1_1_token_tracker}{}\label{classtoken__tracker_1_1_token_tracker}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
None \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a106bfcdafe189e0c3d3bc23c50f45be8}{\+\_\+\+\_\+init\+\_\+\+\_\+}} (self, Optional\mbox{[}str\mbox{]} \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_aec26b7d7ad5c0a991f3c9267089f1072}{session\+\_\+id}}=None, Optional\mbox{[}Path\mbox{]} \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8}{logs\+\_\+dir}}=None)
\item 
Path \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8}{logs\+\_\+dir}} (self)
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_ae4da372ab06067f9aa0372dfad0e27c8}{logs\+\_\+dir}} (self, Path path)
\item 
Path \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_af24b1d5f8f930c25027431200ec40e37}{session\+\_\+file}} (self)
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a6b9df05acb3ef271d403eabafae10e95}{session\+\_\+file}} (self, Path path)
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a8617d336eb6e2e9c119939542da0e47b}{track\+\_\+request}} (self, \mbox{\hyperlink{classtoken__tracker_1_1_a_p_i_response}{APIResponse}} response)
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_summary_dict}{Summary\+Dict}} \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a2628cdb0ca3779b9222b66ce47029dc1}{get\+\_\+session\+\_\+summary}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
float \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a3d3d7f8bbd05c081aa9cd6479dc9051e}{calculate\+\_\+openai\+\_\+cost}} (int prompt\+\_\+tokens, int completion\+\_\+tokens, str model)
\item 
float \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a1e30715740e6d5a525e06b8cecf1b9e2}{calculate\+\_\+claude\+\_\+cost}} (int prompt\+\_\+tokens, int completion\+\_\+tokens, str model)
\end{DoxyCompactItemize}
\doxysubsubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_aec26b7d7ad5c0a991f3c9267089f1072}{session\+\_\+id}} = session\+\_\+id or datetime.\+now().strftime("{}\%Y-\/\%m-\/\%d"{})
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_aa3e831305ac7ea9539c78b27fe99e1e0}{session\+\_\+start}} = time.\+time()
\item 
list \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a427b3f8b53afca53377a8b0ec227d218}{requests}} = \mbox{[}$\,$\mbox{]}
\item 
Path \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a7152948c58bcce9ef1e9d27805b2275d}{session\+\_\+file}} = self.\+\_\+logs\+\_\+dir / f"{}session\+\_\+\{self.\+session\+\_\+id\}.json"{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a53102bb203eec0b8ef5e8c31a5816dc4}{\+\_\+save\+\_\+session}} (self)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Attributes}
\begin{DoxyCompactItemize}
\item 
Path \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_aa31941bfd0985e108dc6e641362cc9aa}{\+\_\+logs\+\_\+dir}} = \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8}{logs\+\_\+dir}} or Path("{}token\+\_\+logs"{})
\item 
Path \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_adefd6c18385d37dac73d214cf084825e}{\+\_\+session\+\_\+file}} = self.\+\_\+logs\+\_\+dir / f"{}session\+\_\+\{self.\+session\+\_\+id\}.json"{}
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Protected Attributes}
\begin{DoxyCompactItemize}
\item 
Optional \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a4417c9a1cb3373cd36f672408fb66679}{\+\_\+token\+\_\+tracker}} = None
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\begin{DoxyVerb}A class to track and analyze token usage for LLM API requests.

This class manages token usage tracking for a session, including saving and loading
session data, calculating costs, and generating usage summaries.

Attributes:
    session_id (str): Unique identifier for the tracking session
    session_start (float): Unix timestamp when the session started
    requests (List[Dict]): List of tracked API requests
    logs_dir (Path): Directory where session logs are stored
    session_file (Path): Path to the current session's log file
\end{DoxyVerb}
 

\doxysubsection{Constructor \& Destructor Documentation}
\Hypertarget{classtoken__tracker_1_1_token_tracker_a106bfcdafe189e0c3d3bc23c50f45be8}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!\_\_init\_\_@{\_\_init\_\_}}
\index{\_\_init\_\_@{\_\_init\_\_}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{\_\_init\_\_()}{\_\_init\_\_()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a106bfcdafe189e0c3d3bc23c50f45be8} 
 None token\+\_\+tracker.\+Token\+Tracker.\+\_\+\+\_\+init\+\_\+\+\_\+ (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{Optional\mbox{[}str\mbox{]} }]{session\+\_\+id}{ = {\ttfamily None}, }\item[{Optional\mbox{[}Path\mbox{]} }]{logs\+\_\+dir}{ = {\ttfamily None}}\end{DoxyParamCaption})}

\begin{DoxyVerb}Initialize a new TokenTracker instance.

Args:
    session_id: Optional unique identifier for the session. If not provided,
              uses today's date in YYYY-MM-DD format.
    logs_dir: Optional directory path for storing session logs. If not provided,
             uses './token_logs'.
\end{DoxyVerb}
 

\doxysubsection{Member Function Documentation}
\Hypertarget{classtoken__tracker_1_1_token_tracker_a53102bb203eec0b8ef5e8c31a5816dc4}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!\_save\_session@{\_save\_session}}
\index{\_save\_session@{\_save\_session}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{\_save\_session()}{\_save\_session()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a53102bb203eec0b8ef5e8c31a5816dc4} 
token\+\_\+tracker.\+Token\+Tracker.\+\_\+save\+\_\+session (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [protected]}}

\begin{DoxyVerb}Save current session data to file\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a1e30715740e6d5a525e06b8cecf1b9e2}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!calculate\_claude\_cost@{calculate\_claude\_cost}}
\index{calculate\_claude\_cost@{calculate\_claude\_cost}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{calculate\_claude\_cost()}{calculate\_claude\_cost()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a1e30715740e6d5a525e06b8cecf1b9e2} 
 float token\+\_\+tracker.\+Token\+Tracker.\+calculate\+\_\+claude\+\_\+cost (\begin{DoxyParamCaption}\item[{int}]{prompt\+\_\+tokens}{, }\item[{int}]{completion\+\_\+tokens}{, }\item[{str     }]{model}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Calculate Claude API cost based on model and token usage\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a3d3d7f8bbd05c081aa9cd6479dc9051e}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!calculate\_openai\_cost@{calculate\_openai\_cost}}
\index{calculate\_openai\_cost@{calculate\_openai\_cost}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{calculate\_openai\_cost()}{calculate\_openai\_cost()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a3d3d7f8bbd05c081aa9cd6479dc9051e} 
 float token\+\_\+tracker.\+Token\+Tracker.\+calculate\+\_\+openai\+\_\+cost (\begin{DoxyParamCaption}\item[{int}]{prompt\+\_\+tokens}{, }\item[{int}]{completion\+\_\+tokens}{, }\item[{str     }]{model}{}\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyVerb}Calculate OpenAI API cost based on model and token usage\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a2628cdb0ca3779b9222b66ce47029dc1}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!get\_session\_summary@{get\_session\_summary}}
\index{get\_session\_summary@{get\_session\_summary}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{get\_session\_summary()}{get\_session\_summary()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a2628cdb0ca3779b9222b66ce47029dc1} 
 \mbox{\hyperlink{classtoken__tracker_1_1_summary_dict}{Summary\+Dict}} token\+\_\+tracker.\+Token\+Tracker.\+get\+\_\+session\+\_\+summary (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Get summary of token usage and costs for the current session\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!logs\_dir@{logs\_dir}}
\index{logs\_dir@{logs\_dir}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{logs\_dir()}{logs\_dir()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8} 
 Path token\+\_\+tracker.\+Token\+Tracker.\+logs\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Get the logs directory path\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_ae4da372ab06067f9aa0372dfad0e27c8}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!logs\_dir@{logs\_dir}}
\index{logs\_dir@{logs\_dir}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{logs\_dir()}{logs\_dir()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_ae4da372ab06067f9aa0372dfad0e27c8} 
token\+\_\+tracker.\+Token\+Tracker.\+logs\+\_\+dir (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{Path}]{path}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Set the logs directory path and update session file path\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_af24b1d5f8f930c25027431200ec40e37}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!session\_file@{session\_file}}
\index{session\_file@{session\_file}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{session\_file()}{session\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [1/2]}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_af24b1d5f8f930c25027431200ec40e37} 
 Path token\+\_\+tracker.\+Token\+Tracker.\+session\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Get the session file path\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a6b9df05acb3ef271d403eabafae10e95}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!session\_file@{session\_file}}
\index{session\_file@{session\_file}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{session\_file()}{session\_file()}\hspace{0.1cm}{\footnotesize\ttfamily [2/2]}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a6b9df05acb3ef271d403eabafae10e95} 
token\+\_\+tracker.\+Token\+Tracker.\+session\+\_\+file (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{Path}]{path}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Set the session file path and load data if it exists\end{DoxyVerb}
 \Hypertarget{classtoken__tracker_1_1_token_tracker_a8617d336eb6e2e9c119939542da0e47b}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!track\_request@{track\_request}}
\index{track\_request@{track\_request}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{track\_request()}{track\_request()}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a8617d336eb6e2e9c119939542da0e47b} 
token\+\_\+tracker.\+Token\+Tracker.\+track\+\_\+request (\begin{DoxyParamCaption}\item[{}]{self}{, }\item[{\mbox{\hyperlink{classtoken__tracker_1_1_a_p_i_response}{APIResponse}}}]{response}{}\end{DoxyParamCaption})}

\begin{DoxyVerb}Track a new API request\end{DoxyVerb}
 

\doxysubsection{Member Data Documentation}
\Hypertarget{classtoken__tracker_1_1_token_tracker_aa31941bfd0985e108dc6e641362cc9aa}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!\_logs\_dir@{\_logs\_dir}}
\index{\_logs\_dir@{\_logs\_dir}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{\_logs\_dir}{\_logs\_dir}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_aa31941bfd0985e108dc6e641362cc9aa} 
Path token\+\_\+tracker.\+Token\+Tracker.\+\_\+logs\+\_\+dir = \mbox{\hyperlink{classtoken__tracker_1_1_token_tracker_a10cd6759be3dc4e107a0163baed24ee8}{logs\+\_\+dir}} or Path("{}token\+\_\+logs"{})\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classtoken__tracker_1_1_token_tracker_adefd6c18385d37dac73d214cf084825e}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!\_session\_file@{\_session\_file}}
\index{\_session\_file@{\_session\_file}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{\_session\_file}{\_session\_file}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_adefd6c18385d37dac73d214cf084825e} 
token\+\_\+tracker.\+Token\+Tracker.\+\_\+session\+\_\+file = self.\+\_\+logs\+\_\+dir / f"{}session\+\_\+\{self.\+session\+\_\+id\}.json"{}\hspace{0.3cm}{\ttfamily [protected]}}

\Hypertarget{classtoken__tracker_1_1_token_tracker_a4417c9a1cb3373cd36f672408fb66679}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!\_token\_tracker@{\_token\_tracker}}
\index{\_token\_tracker@{\_token\_tracker}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{\_token\_tracker}{\_token\_tracker}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a4417c9a1cb3373cd36f672408fb66679} 
Optional token\+\_\+tracker.\+Token\+Tracker.\+\_\+token\+\_\+tracker = None\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [protected]}}

\Hypertarget{classtoken__tracker_1_1_token_tracker_a427b3f8b53afca53377a8b0ec227d218}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!requests@{requests}}
\index{requests@{requests}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{requests}{requests}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a427b3f8b53afca53377a8b0ec227d218} 
token\+\_\+tracker.\+Token\+Tracker.\+requests = \mbox{[}$\,$\mbox{]}}

\Hypertarget{classtoken__tracker_1_1_token_tracker_a7152948c58bcce9ef1e9d27805b2275d}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!session\_file@{session\_file}}
\index{session\_file@{session\_file}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{session\_file}{session\_file}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_a7152948c58bcce9ef1e9d27805b2275d} 
Path token\+\_\+tracker.\+Token\+Tracker.\+session\+\_\+file = self.\+\_\+logs\+\_\+dir / f"{}session\+\_\+\{self.\+session\+\_\+id\}.json"{}}

\Hypertarget{classtoken__tracker_1_1_token_tracker_aec26b7d7ad5c0a991f3c9267089f1072}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!session\_id@{session\_id}}
\index{session\_id@{session\_id}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{session\_id}{session\_id}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_aec26b7d7ad5c0a991f3c9267089f1072} 
token\+\_\+tracker.\+Token\+Tracker.\+session\+\_\+id = session\+\_\+id or datetime.\+now().strftime("{}\%Y-\/\%m-\/\%d"{})}

\Hypertarget{classtoken__tracker_1_1_token_tracker_aa3e831305ac7ea9539c78b27fe99e1e0}\index{token\_tracker.TokenTracker@{token\_tracker.TokenTracker}!session\_start@{session\_start}}
\index{session\_start@{session\_start}!token\_tracker.TokenTracker@{token\_tracker.TokenTracker}}
\doxysubsubsection{\texorpdfstring{session\_start}{session\_start}}
{\footnotesize\ttfamily \label{classtoken__tracker_1_1_token_tracker_aa3e831305ac7ea9539c78b27fe99e1e0} 
token\+\_\+tracker.\+Token\+Tracker.\+session\+\_\+start = time.\+time()}



The documentation for this class was generated from the following file\+:\begin{DoxyCompactItemize}
\item 
tools/\mbox{\hyperlink{token__tracker_8py}{token\+\_\+tracker.\+py}}\end{DoxyCompactItemize}
