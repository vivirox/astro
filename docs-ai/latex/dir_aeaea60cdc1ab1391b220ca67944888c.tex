\doxysection{node\+\_\+modules/exsolve Directory Reference}
\hypertarget{dir_aeaea60cdc1ab1391b220ca67944888c}{}\label{dir_aeaea60cdc1ab1391b220ca67944888c}\index{node\_modules/exsolve Directory Reference@{node\_modules/exsolve Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://npmjs.com/package/exsolve}{\texttt{ }} \href{https://npm.chart.dev/exsolve}{\texttt{ }} \href{https://packagephobia.com/result?p=exsolve}{\texttt{ }}

\begin{quote}
Module resolution utilities for Node.\+js (based on previous work in \href{https://github.com/unjs/mlly}{\texttt{ unjs/mlly}}, \href{https://github.com/wooorm/import-meta-resolve}{\texttt{ wooorm/import-\/meta-\/resolve}}, and the upstream \href{https://github.com/nodejs/node}{\texttt{ Node.\+js}} implementation). \end{quote}


This library exposes an API similar to \href{https://nodejs.org/api/esm.html\#importmetaresolvespecifier}{\texttt{ {\ttfamily import.\+meta.\+resolve}}} based on Node.\+js\textquotesingle{}s upstream implementation and \href{https://nodejs.org/api/esm.html\#esm_resolution_algorithm}{\texttt{ resolution algorithm}}. It supports all built-\/in functionalities—import maps, export maps, CJS, and ESM—with some additions\+:


\begin{DoxyItemize}
\item Pure JS with no native dependencies (only Node.\+js is required).
\item Built-\/in resolve cache.
\item Throws an error (or try) if the resolved path does not exist in the filesystem.
\item Can override the default conditions.
\item Can resolve from one or more parent URLs.
\item Can resolve with custom suffixes.
\item Can resolve with custom extensions.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md14888}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md14888}
Install the package\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ ✨\ Auto-\/detect\ (npm,\ yarn,\ pnpm,\ bun,\ deno)}
\DoxyCodeLine{npx\ nypm\ install\ exsolve}

\end{DoxyCode}


Import\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ ESM\ import}
\DoxyCodeLine{import\ \{}
\DoxyCodeLine{\ \ resolveModuleURL,}
\DoxyCodeLine{\ \ resolveModulePath,}
\DoxyCodeLine{\ \ createResolver,}
\DoxyCodeLine{\ \ clearResolveCache,}
\DoxyCodeLine{\}\ from\ "{}exsolve"{};}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Or\ using\ dynamic\ import}
\DoxyCodeLine{const\ \{\ resolveModulePath\ \}\ =\ await\ import("{}exsolve"{});}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{resolveModuleURL(id,\ \{}
\DoxyCodeLine{\ \ /*\ options\ */}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{resolveModulePath(id,\ \{}
\DoxyCodeLine{\ \ /*\ options\ */}
\DoxyCodeLine{\});}

\end{DoxyCode}


Differences between {\ttfamily resolve\+Module\+URL} and {\ttfamily resolve\+Module\+Path}\+:


\begin{DoxyItemize}
\item {\ttfamily resolve\+Module\+URL} returns a URL string like {\ttfamily \href{file:///app/dep.mjs}{\texttt{ file\+:///app/dep.\+mjs}}}.
\item {\ttfamily resolve\+Module\+Path} returns an absolute path like {\ttfamily /app/dep.mjs}.
\begin{DoxyItemize}
\item If the resolved URL does not use the {\ttfamily \href{file://}{\texttt{ file\+://}}} scheme (e.\+g., {\ttfamily data\+:} or {\ttfamily node\+:}), it will throw an error.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md14889}{}\doxysubsection{\texorpdfstring{Resolver with options}{Resolver with options}}\label{README.md_autotoc_md14889}
You can create a custom resolver instance with default options using {\ttfamily create\+Resolver}.

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ createResolver\ \}\ from\ "{}exsolve"{};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{\ resolveModuleURL,\ resolveModulePath\ \}\ =\ createResolver(\{}
\DoxyCodeLine{\ \ suffixes:\ ["{}"{},\ "{}/index"{}],}
\DoxyCodeLine{\ \ extensions:\ ["{}.mjs"{},\ "{}.cjs"{},\ "{}.js"{},\ "{}.mts"{},\ "{}.cts"{},\ "{}.ts"{},\ "{}.json"{}],}
\DoxyCodeLine{\ \ conditions:\ ["{}node"{},\ "{}import"{},\ "{}production"{}],}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md14890}{}\doxysubsection{\texorpdfstring{Resolve cache}{Resolve cache}}\label{README.md_autotoc_md14890}
To speed up resolution, resolved values (and errors) are globally cached with a unique key based on id and options.

{\bfseries{Example\+:}} Invalidate all (global) cache entries (to support file-\/system changes).


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ clearResolveCache\ \}\ from\ "{}exsolve"{};}
\DoxyCodeLine{}
\DoxyCodeLine{clearResolveCache();}

\end{DoxyCode}


{\bfseries{Example\+:}} Custom resolver with custom cache object.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ createResolver\ \}\ from\ "{}exsolve"{};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{\ clearResolveCache,\ resolveModulePath\ \}\ =\ createResolver(\{}
\DoxyCodeLine{\ \ cache:\ new\ Map(),}
\DoxyCodeLine{\});}

\end{DoxyCode}


{\bfseries{Example\+:}} Resolve without cache.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ resolveModulePath\ \}\ from\ "{}exsolve"{};}
\DoxyCodeLine{}
\DoxyCodeLine{resolveModulePath("{}id"{},\ \{\ cache:\ false\ \});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md14891}{}\doxysubsection{\texorpdfstring{Resolve Options}{Resolve Options}}\label{README.md_autotoc_md14891}
\hypertarget{README.md_autotoc_md14892}{}\doxysubsubsection{\texorpdfstring{{\ttfamily try}}{{\ttfamily try}}}\label{README.md_autotoc_md14892}
If set to {\ttfamily true} and the module cannot be resolved, the resolver returns {\ttfamily undefined} instead of throwing an error.

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ undefined}
\DoxyCodeLine{const\ resolved\ =\ resolveModuleURL("{}non-\/existing-\/package"{},\ \{\ try:\ true\ \});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md14893}{}\doxysubsubsection{\texorpdfstring{{\ttfamily from}}{{\ttfamily from}}}\label{README.md_autotoc_md14893}
A URL, path, or array of URLs/paths from which to resolve the module.

If not provided, resolution starts from the current working directory. Setting this option is recommended.

You can use {\ttfamily import.\+meta.\+url} for {\ttfamily from} to mimic the behavior of {\ttfamily import.\+meta.\+resolve()}.

\begin{DoxyRemark}{Remarks}
For better performance, ensure the value is a {\ttfamily \href{file://}{\texttt{ file\+://}}} URL or at least ends with {\ttfamily /}. ~\newline
~\newline
 If it is set to an absolute path, the resolver must first check the filesystem to see if it is a file or directory. If the input is a {\ttfamily \href{file://}{\texttt{ file\+://}}} URL or ends with {\ttfamily /}, the resolver can skip this check.
\end{DoxyRemark}
\hypertarget{README.md_autotoc_md14894}{}\doxysubsubsection{\texorpdfstring{{\ttfamily conditions}}{{\ttfamily conditions}}}\label{README.md_autotoc_md14894}
Conditions to apply when resolving package exports (default\+: {\ttfamily \mbox{[}"{}node"{}, "{}import"{}\mbox{]}}).

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ "{}/app/src/index.ts"{}}
\DoxyCodeLine{const\ src\ =\ resolveModuleURL("{}pkg-\/name"{},\ \{}
\DoxyCodeLine{\ \ conditions:\ ["{}deno"{},\ "{}node"{},\ "{}import"{},\ "{}production"{}],}
\DoxyCodeLine{\});}

\end{DoxyCode}


\begin{DoxyNote}{Note}
Conditions are applied {\bfseries{without order}}. The order is determined by the {\ttfamily exports} field in {\ttfamily package.\+json}.
\end{DoxyNote}
\hypertarget{README.md_autotoc_md14895}{}\doxysubsubsection{\texorpdfstring{{\ttfamily extensions}}{{\ttfamily extensions}}}\label{README.md_autotoc_md14895}
Additional file extensions to check as fallbacks.

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ "{}/app/src/index.ts"{}}
\DoxyCodeLine{const\ src\ =\ resolveModulePath("{}./src/index"{},\ \{}
\DoxyCodeLine{\ \ extensions:\ ["{}.mjs"{},\ "{}.cjs"{},\ "{}.js"{},\ "{}.mts"{},\ "{}.cts"{},\ "{}.ts"{},\ "{}.json"{}],}
\DoxyCodeLine{\});}

\end{DoxyCode}


\begin{DoxyRemark}{Remarks}
For better performance, use explicit extensions and avoid this option.
\end{DoxyRemark}
\hypertarget{README.md_autotoc_md14896}{}\doxysubsubsection{\texorpdfstring{{\ttfamily suffixes}}{{\ttfamily suffixes}}}\label{README.md_autotoc_md14896}
Path suffixes to check.

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ "{}/app/src/utils/index.ts"{}}
\DoxyCodeLine{const\ src\ =\ resolveModulePath("{}./src/utils"{},\ \{}
\DoxyCodeLine{\ \ suffixes:\ ["{}"{},\ "{}/index"{}],}
\DoxyCodeLine{\ \ extensions:\ ["{}.mjs"{},\ "{}.cjs"{},\ "{}.js"{}],}
\DoxyCodeLine{\});}

\end{DoxyCode}


\begin{DoxyRemark}{Remarks}
For better performance, use explicit {\ttfamily /index} when needed and avoid this option.
\end{DoxyRemark}
\hypertarget{README.md_autotoc_md14897}{}\doxysubsubsection{\texorpdfstring{{\ttfamily cache}}{{\ttfamily cache}}}\label{README.md_autotoc_md14897}
Resolve cache (enabled by default with a shared global object).

Can be set to {\ttfamily false} to disable or a custom {\ttfamily Map} to bring your own cache object.

See cache for more info.\hypertarget{README.md_autotoc_md14898}{}\doxysubsection{\texorpdfstring{Other Performance Tips}{Other Performance Tips}}\label{README.md_autotoc_md14898}
{\bfseries{Use explicit module extensions {\ttfamily .mjs} or {\ttfamily .cjs} instead of {\ttfamily .js}\+:}}

This allows the resolution fast path to skip reading the closest {\ttfamily package.\+json} for the \href{https://nodejs.org/api/packages.html\#type}{\texttt{ {\ttfamily type}}}.\hypertarget{README.md_autotoc_md14899}{}\doxysubsection{\texorpdfstring{Development}{Development}}\label{README.md_autotoc_md14899}


{\bfseries{local development}}\begin{adjustwidth}{1em}{0em}





\begin{DoxyItemize}
\item Clone this repository
\item Install the latest LTS version of \href{https://nodejs.org/en/}{\texttt{ Node.\+js}}
\item Enable \href{https://github.com/nodejs/corepack}{\texttt{ Corepack}} using {\ttfamily corepack enable}
\item Install dependencies using {\ttfamily pnpm install}
\item Run interactive tests using {\ttfamily pnpm dev}
\end{DoxyItemize}

\end{adjustwidth}
\hypertarget{README.md_autotoc_md14900}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md14900}
Published under the \href{https://github.com/unjs/exsolve/blob/main/LICENSE}{\texttt{ MIT}} license.

Based on previous work in \href{https://github.com/unjs/mlly}{\texttt{ unjs/mlly}}, \href{https://github.com/wooorm/import-meta-resolve}{\texttt{ wooorm/import-\/meta-\/resolve}} and \href{https://github.com/nodejs/node}{\texttt{ Node.\+js}} original implementation. 