\doxysection{node\+\_\+modules/d3-\/color Directory Reference}
\hypertarget{dir_1db61dda57f3e8457fed887373c68983}{}\label{dir_1db61dda57f3e8457fed887373c68983}\index{node\_modules/d3-\/color Directory Reference@{node\_modules/d3-\/color Directory Reference}}


\doxysubsection{Detailed Description}
Even though your browser understands a lot about colors, it doesn’t offer much help in manipulating colors through Java\+Script. The d3-\/color module therefore provides representations for various color spaces, allowing specification, conversion and manipulation. (Also see \href{https://github.com/d3/d3-interpolate}{\texttt{ d3-\/interpolate}} for color interpolation.)

For example, take the color named “steelblue”\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ c\ =\ d3.color("{}steelblue"{});\ //\ \{r:\ 70,\ g:\ 130,\ b:\ 180,\ opacity:\ 1\}}

\end{DoxyCode}


Let’s try converting it to HSL\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ c\ =\ d3.hsl("{}steelblue"{});\ //\ \{h:\ 207.27…,\ s:\ 0.44,\ l:\ 0.4902…,\ opacity:\ 1\}}

\end{DoxyCode}


Now rotate the hue by 90°, bump up the saturation, and format as a string for CSS\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{c.h\ +=\ 90;}
\DoxyCodeLine{c.s\ +=\ 0.2;}
\DoxyCodeLine{c\ +\ "{}"{};\ //\ rgb(198,\ 45,\ 205)}

\end{DoxyCode}


To fade the color slightly\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{c.opacity\ =\ 0.8;}
\DoxyCodeLine{c\ +\ "{}"{};\ //\ rgba(198,\ 45,\ 205,\ 0.8)}

\end{DoxyCode}


In addition to the ubiquitous and machine-\/friendly \doxylink{README.md_rgb}{RGB} and \doxylink{README.md_hsl}{HSL} color space, d3-\/color supports color spaces that are designed for humans\+:


\begin{DoxyItemize}
\item \doxylink{README.md_lab}{CIELAB} ({\itshape a.\+k.\+a.} “\+Lab”)
\item \doxylink{README.md_lch}{CIELCh\textsubscript{ab}} ({\itshape a.\+k.\+a.} “\+LCh” or “\+HCL”)
\item Dave Green’s \doxylink{README.md_cubehelix}{Cubehelix}
\end{DoxyItemize}

Cubehelix features monotonic lightness, while CIELAB and its polar form CIELCh\textsubscript{ab} are perceptually uniform.\hypertarget{README.md_autotoc_md11218}{}\doxysubsection{\texorpdfstring{Extensions}{Extensions}}\label{README.md_autotoc_md11218}
For additional color spaces, see\+:


\begin{DoxyItemize}
\item \href{https://github.com/d3/d3-cam16}{\texttt{ d3-\/cam16}}
\item \href{https://github.com/connorgr/d3-cam02}{\texttt{ d3-\/cam02}}
\item \href{https://github.com/d3/d3-hsv}{\texttt{ d3-\/hsv}}
\item \href{https://github.com/d3/d3-hcg}{\texttt{ d3-\/hcg}}
\item \href{https://github.com/petulla/d3-hsluv}{\texttt{ d3-\/hsluv}}
\end{DoxyItemize}

To measure color differences, see\+:


\begin{DoxyItemize}
\item \href{https://github.com/Evercoder/d3-color-difference}{\texttt{ d3-\/color-\/difference}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md11219}{}\doxysubsection{\texorpdfstring{Installing}{Installing}}\label{README.md_autotoc_md11219}
If you use npm, {\ttfamily npm install d3-\/color}. You can also download the \href{https://github.com/d3/d3-color/releases/latest}{\texttt{ latest release on Git\+Hub}}. For vanilla HTML in modern browsers, import d3-\/color from Skypack\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{rgb\}\ from\ "{}https://cdn.skypack.dev/d3-\/color@3"{};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ steelblue\ =\ d3.rgb("{}steelblue"{});}
\DoxyCodeLine{}
\DoxyCodeLine{</script>}

\end{DoxyCode}


For legacy environments, you can load d3-\/color’s UMD bundle from an npm-\/based CDN such as js\+Delivr; a {\ttfamily d3} global is exported\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ src="{}https://cdn.jsdelivr.net/npm/d3-\/color@3"{}></script>}
\DoxyCodeLine{<script>}
\DoxyCodeLine{}
\DoxyCodeLine{const\ steelblue\ =\ d3.rgb("{}steelblue"{});}
\DoxyCodeLine{}
\DoxyCodeLine{</script>}

\end{DoxyCode}


\href{https://observablehq.com/collection/@d3/d3-color}{\texttt{ Try d3-\/color in your browser.}}\hypertarget{README.md_autotoc_md11220}{}\doxysubsection{\texorpdfstring{API Reference}{API Reference}}\label{README.md_autotoc_md11220}
\label{README.md_color}%
\Hypertarget{README.md_color}%
\# d3.{\bfseries{color}}({\itshape specifier}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Parses the specified \href{http://www.w3.org/TR/css3-color/\#colorunits}{\texttt{ CSS Color Module Level 3}} {\itshape specifier} string, returning an \doxylink{README.md_rgb}{RGB} or \doxylink{README.md_hsl}{HSL} color, along with \href{https://www.w3.org/TR/css-color-4/\#hex-notation}{\texttt{ CSS Color Module Level 4 hex}} {\itshape specifier} strings. If the specifier was not valid, null is returned. Some examples\+:


\begin{DoxyItemize}
\item {\ttfamily rgb(255, 255, 255)}
\item {\ttfamily rgb(10\%, 20\%, 30\%)}
\item {\ttfamily rgba(255, 255, 255, 0.\+4)}
\item {\ttfamily rgba(10\%, 20\%, 30\%, 0.\+4)}
\item {\ttfamily hsl(120, 50\%, 20\%)}
\item {\ttfamily hsla(120, 50\%, 20\%, 0.\+4)}
\item {\ttfamily \#ffeeaa}
\item {\ttfamily \#fea}
\item {\ttfamily \#ffeeaa22}
\item {\ttfamily \#fea2}
\item {\ttfamily steelblue}
\end{DoxyItemize}

The list of supported \href{http://www.w3.org/TR/SVG/types.html\#ColorKeywords}{\texttt{ named colors}} is specified by CSS.

Note\+: this function may also be used with {\ttfamily instanceof} to test if an object is a color instance. The same is true of color subclasses, allowing you to test whether a color is in a particular color space.

\label{README.md_color_opacity}%
\Hypertarget{README.md_color_opacity}%
\# {\itshape color}.{\bfseries{opacity}}

This color’s opacity, typically in the range \mbox{[}0, 1\mbox{]}.

\label{README.md_color_rgb}%
\Hypertarget{README.md_color_rgb}%
\# {\itshape color}.{\bfseries{rgb}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns the \doxylink{README.md_rgb}{RGB equivalent} of this color. For RGB colors, that’s {\ttfamily this}.

\label{README.md_color_copy}%
\Hypertarget{README.md_color_copy}%
\# {\itshape color}.{\bfseries{copy}}(\mbox{[}{\itshape values}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a copy of this color. If {\itshape values} is specified, any enumerable own properties of {\itshape values} are assigned to the new returned color. For example, to derive a copy of a {\itshape color} with opacity 0.\+5, say


\begin{DoxyCode}{0}
\DoxyCodeLine{color.copy(\{opacity:\ 0.5\})}

\end{DoxyCode}


\label{README.md_color_brighter}%
\Hypertarget{README.md_color_brighter}%
\# {\itshape color}.{\bfseries{brighter}}(\mbox{[}{\itshape k}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a brighter copy of this color. If {\itshape k} is specified, it controls how much brighter the returned color should be. If {\itshape k} is not specified, it defaults to 1. The behavior of this method is dependent on the implementing color space.

\label{README.md_color_darker}%
\Hypertarget{README.md_color_darker}%
\# {\itshape color}.{\bfseries{darker}}(\mbox{[}{\itshape k}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a darker copy of this color. If {\itshape k} is specified, it controls how much darker the returned color should be. If {\itshape k} is not specified, it defaults to 1. The behavior of this method is dependent on the implementing color space.

\label{README.md_color_displayable}%
\Hypertarget{README.md_color_displayable}%
\# {\itshape color}.{\bfseries{displayable}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns true if and only if the color is displayable on standard hardware. For example, this returns false for an RGB color if any channel value is less than zero or greater than 255 when rounded, or if the opacity is not in the range \mbox{[}0, 1\mbox{]}.

\label{README.md_color_formatHex}%
\Hypertarget{README.md_color_formatHex}%
\# {\itshape color}.{\bfseries{format\+Hex}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a hexadecimal string representing this color in RGB space, such as {\ttfamily \#f7eaba}. If this color is not displayable, a suitable displayable color is returned instead. For example, RGB channel values greater than 255 are clamped to 255.

\label{README.md_color_formatHsl}%
\Hypertarget{README.md_color_formatHsl}%
\# {\itshape color}.{\bfseries{format\+Hsl}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a string representing this color according to the \href{https://www.w3.org/TR/css-color-3/\#hsl-color}{\texttt{ CSS Color Module Level 3 specification}}, such as {\ttfamily hsl(257, 50\%, 80\%)} or {\ttfamily hsla(257, 50\%, 80\%, 0.\+2)}. If this color is not displayable, a suitable displayable color is returned instead by clamping S and L channel values to the interval \mbox{[}0, 100\mbox{]}.

\label{README.md_color_formatRgb}%
\Hypertarget{README.md_color_formatRgb}%
\# {\itshape color}.{\bfseries{format\+Rgb}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a string representing this color according to the \href{https://drafts.csswg.org/cssom/\#serialize-a-css-component-value}{\texttt{ CSS Object Model specification}}, such as {\ttfamily rgb(247, 234, 186)} or {\ttfamily rgba(247, 234, 186, 0.\+2)}. If this color is not displayable, a suitable displayable color is returned instead by clamping RGB channel values to the interval \mbox{[}0, 255\mbox{]}.

\label{README.md_color_toString}%
\Hypertarget{README.md_color_toString}%
\# {\itshape color}.{\bfseries{to\+String}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

An alias for \doxylink{README.md_color_formatRgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.format\+Rgb}.

\label{README.md_rgb}%
\Hypertarget{README.md_rgb}%
\# d3.{\bfseries{rgb}}({\itshape r}, {\itshape g}, {\itshape b}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#rgb}{\texttt{ \#}} d3.{\bfseries{rgb}}({\itshape specifier})~\newline
 \href{\#rgb}{\texttt{ \#}} d3.{\bfseries{rgb}}({\itshape color})~\newline


Constructs a new \href{https://en.wikipedia.org/wiki/RGB_color_model}{\texttt{ RGB}} color. The channel values are exposed as {\ttfamily r}, {\ttfamily g} and {\ttfamily b} properties on the returned instance. Use the \href{http://bl.ocks.org/mbostock/78d64ca7ef013b4dcf8f}{\texttt{ RGB color picker}} to explore this color space.

If {\itshape r}, {\itshape g} and {\itshape b} are specified, these represent the channel values of the returned color; an {\itshape opacity} may also be specified. If a CSS Color Module Level 3 {\itshape specifier} string is specified, it is parsed and then converted to the RGB color space. See \doxylink{README.md_color}{color} for examples. If a \doxylink{README.md_color}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}} instance is specified, it is converted to the RGB color space using \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb}. Note that unlike \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb} this method {\itshape always} returns a new instance, even if {\itshape color} is already an RGB color.

\label{README.md_rgb_clamp}%
\Hypertarget{README.md_rgb_clamp}%
\# {\itshape rgb}.{\bfseries{clamp}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a new RGB color where the {\ttfamily r}, {\ttfamily g}, and {\ttfamily b} channels are clamped to the range \mbox{[}0, 255\mbox{]} and rounded to the nearest integer value, and the {\ttfamily opacity} is clamped to the range \mbox{[}0, 1\mbox{]}.

\label{README.md_hsl}%
\Hypertarget{README.md_hsl}%
\# d3.{\bfseries{hsl}}({\itshape h}, {\itshape s}, {\itshape l}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#hsl}{\texttt{ \#}} d3.{\bfseries{hsl}}({\itshape specifier})~\newline
 \href{\#hsl}{\texttt{ \#}} d3.{\bfseries{hsl}}({\itshape color})~\newline


Constructs a new \href{https://en.wikipedia.org/wiki/HSL_and_HSV}{\texttt{ HSL}} color. The channel values are exposed as {\ttfamily h}, {\ttfamily s} and {\ttfamily l} properties on the returned instance. Use the \href{http://bl.ocks.org/mbostock/debaad4fcce9bcee14cf}{\texttt{ HSL color picker}} to explore this color space.

If {\itshape h}, {\itshape s} and {\itshape l} are specified, these represent the channel values of the returned color; an {\itshape opacity} may also be specified. If a CSS Color Module Level 3 {\itshape specifier} string is specified, it is parsed and then converted to the HSL color space. See \doxylink{README.md_color}{color} for examples. If a \doxylink{README.md_color}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}} instance is specified, it is converted to the RGB color space using \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb} and then converted to HSL. (Colors already in the HSL color space skip the conversion to RGB.)

\label{README.md_hsl_clamp}%
\Hypertarget{README.md_hsl_clamp}%
\# {\itshape hsl}.{\bfseries{clamp}}() \href{https://github.com/d3/d3-color/blob/master/src/color.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}

Returns a new HSL color where the {\ttfamily h} channel is clamped to the range \mbox{[}0, 360), and the {\ttfamily s}, {\ttfamily l}, and {\ttfamily opacity} channels are clamped to the range \mbox{[}0, 1\mbox{]}.

\label{README.md_lab}%
\Hypertarget{README.md_lab}%
\# d3.{\bfseries{lab}}({\itshape l}, {\itshape a}, {\itshape b}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/lab.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#lab}{\texttt{ \#}} d3.{\bfseries{lab}}({\itshape specifier})~\newline
 \href{\#lab}{\texttt{ \#}} d3.{\bfseries{lab}}({\itshape color})~\newline


Constructs a new \href{https://en.wikipedia.org/wiki/Lab_color_space\#CIELAB}{\texttt{ CIELAB}} color. The channel values are exposed as {\ttfamily l}, {\ttfamily a} and {\ttfamily b} properties on the returned instance. Use the \href{http://bl.ocks.org/mbostock/9f37cc207c0cb166921b}{\texttt{ CIELAB color picker}} to explore this color space. The value of {\itshape l} is typically in the range \mbox{[}0, 100\mbox{]}, while {\itshape a} and {\itshape b} are typically in \mbox{[}-\/160, +160\mbox{]}.

If {\itshape l}, {\itshape a} and {\itshape b} are specified, these represent the channel values of the returned color; an {\itshape opacity} may also be specified. If a CSS Color Module Level 3 {\itshape specifier} string is specified, it is parsed and then converted to the CIELAB color space. See \doxylink{README.md_color}{color} for examples. If a \doxylink{README.md_color}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}} instance is specified, it is converted to the RGB color space using \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb} and then converted to CIELAB. (Colors already in the CIELAB color space skip the conversion to RGB, and colors in the HCL color space are converted directly to CIELAB.)

\label{README.md_gray}%
\Hypertarget{README.md_gray}%
\# d3.{\bfseries{gray}}({\itshape l}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/lab.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline


Constructs a new \doxylink{README.md_lab}{CIELAB} color with the specified {\itshape l} value and {\itshape a} = {\itshape b} = 0.

\label{README.md_hcl}%
\Hypertarget{README.md_hcl}%
\# d3.{\bfseries{hcl}}({\itshape h}, {\itshape c}, {\itshape l}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/lab.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#hcl}{\texttt{ \#}} d3.{\bfseries{hcl}}({\itshape specifier})~\newline
 \href{\#hcl}{\texttt{ \#}} d3.{\bfseries{hcl}}({\itshape color})~\newline


Equivalent to \doxylink{README.md_lch}{d3.lch}, but with reversed argument order.

\label{README.md_lch}%
\Hypertarget{README.md_lch}%
\# d3.{\bfseries{lch}}({\itshape l}, {\itshape c}, {\itshape h}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/lab.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#lch}{\texttt{ \#}} d3.{\bfseries{lch}}({\itshape specifier})~\newline
 \href{\#lch}{\texttt{ \#}} d3.{\bfseries{lch}}({\itshape color})~\newline


Constructs a new \href{https://en.wikipedia.org/wiki/CIELAB_color_space\#Cylindrical_representation:_CIELCh_or_CIEHLC}{\texttt{ CIELCh\textsubscript{ab}}} color. The channel values are exposed as {\ttfamily l}, {\ttfamily c} and {\ttfamily h} properties on the returned instance. Use the \href{http://bl.ocks.org/mbostock/3e115519a1b495e0bd95}{\texttt{ CIELCh\textsubscript{ab} color picker}} to explore this color space. The value of {\itshape l} is typically in the range \mbox{[}0, 100\mbox{]}, {\itshape c} is typically in \mbox{[}0, 230\mbox{]}, and {\itshape h} is typically in \mbox{[}0, 360).

If {\itshape l}, {\itshape c}, and {\itshape h} are specified, these represent the channel values of the returned color; an {\itshape opacity} may also be specified. If a CSS Color Module Level 3 {\itshape specifier} string is specified, it is parsed and then converted to CIELCh\textsubscript{ab} color space. See \doxylink{README.md_color}{color} for examples. If a \doxylink{README.md_color}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}} instance is specified, it is converted to the RGB color space using \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb} and then converted to CIELCh\textsubscript{ab}. (Colors already in CIELCh\textsubscript{ab} color space skip the conversion to RGB, and colors in CIELAB color space are converted directly to CIELCh\textsubscript{ab}.)

\label{README.md_cubehelix}%
\Hypertarget{README.md_cubehelix}%
\# d3.{\bfseries{cubehelix}}({\itshape h}, {\itshape s}, {\itshape l}\mbox{[}, {\itshape opacity}\mbox{]}) \href{https://github.com/d3/d3-color/blob/master/src/cubehelix.js}{\texttt{ \texorpdfstring{$<$}{<}\texorpdfstring{$>$}{>}}}~\newline
 \href{\#cubehelix}{\texttt{ \#}} d3.{\bfseries{cubehelix}}({\itshape specifier})~\newline
 \href{\#cubehelix}{\texttt{ \#}} d3.{\bfseries{cubehelix}}({\itshape color})~\newline


Constructs a new \href{http://www.mrao.cam.ac.uk/~dag/CUBEHELIX/}{\texttt{ Cubehelix}} color. The channel values are exposed as {\ttfamily h}, {\ttfamily s} and {\ttfamily l} properties on the returned instance. Use the \href{http://bl.ocks.org/mbostock/ba8d75e45794c27168b5}{\texttt{ Cubehelix color picker}} to explore this color space.

If {\itshape h}, {\itshape s} and {\itshape l} are specified, these represent the channel values of the returned color; an {\itshape opacity} may also be specified. If a CSS Color Module Level 3 {\itshape specifier} string is specified, it is parsed and then converted to the Cubehelix color space. See \doxylink{README.md_color}{color} for examples. If a \doxylink{README.md_color}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}} instance is specified, it is converted to the RGB color space using \doxylink{README.md_color_rgb}{\texorpdfstring{$\ast$}{*}color\texorpdfstring{$\ast$}{*}.rgb} and then converted to Cubehelix. (Colors already in the Cubehelix color space skip the conversion to RGB.) 