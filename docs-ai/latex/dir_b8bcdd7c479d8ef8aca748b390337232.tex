\doxysection{node\+\_\+modules/@vue/server-\/renderer Directory Reference}
\hypertarget{dir_b8bcdd7c479d8ef8aca748b390337232}{}\label{dir_b8bcdd7c479d8ef8aca748b390337232}\index{node\_modules/"@vue/server-\/renderer Directory Reference@{node\_modules/"@vue/server-\/renderer Directory Reference}}


\doxysubsection{Detailed Description}
{\bfseries{Note\+: as of 3.\+2.\+13+, this package is included as a dependency of the main {\ttfamily vue} package and can be accessed as {\ttfamily vue/server-\/renderer}. This means you no longer need to explicitly install this package and ensure its version match that of {\ttfamily vue}\textquotesingle{}s. Just use the {\ttfamily vue/server-\/renderer} deep import instead.}}\hypertarget{README.md_autotoc_md7337}{}\doxysubsection{\texorpdfstring{Basic API}{Basic API}}\label{README.md_autotoc_md7337}
\hypertarget{README.md_autotoc_md7338}{}\doxysubsubsection{\texorpdfstring{{\ttfamily render\+To\+String}}{{\ttfamily render\+To\+String}}}\label{README.md_autotoc_md7338}
{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToString(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context?:\ SSRContext,}
\DoxyCodeLine{):\ Promise<string>}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ createSSRApp\ \}\ =\ require('vue')}
\DoxyCodeLine{const\ \{\ renderToString\ \}\ =\ require('@vue/server-\/renderer')}
\DoxyCodeLine{}
\DoxyCodeLine{const\ app\ =\ createSSRApp(\{}
\DoxyCodeLine{\ \ data:\ ()\ =>\ (\{\ msg:\ 'hello'\ \}),}
\DoxyCodeLine{\ \ template:\ \`{}<div>\{\{\ msg\ \}\}</div>`,}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{;(async\ ()\ =>\ \{}
\DoxyCodeLine{\ \ const\ html\ =\ await\ renderToString(app)}
\DoxyCodeLine{\ \ console.log(html)}
\DoxyCodeLine{\})()}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md7339}{}\doxysubsubsection{\texorpdfstring{Handling Teleports}{Handling Teleports}}\label{README.md_autotoc_md7339}
If the rendered app contains teleports, the teleported content will not be part of the rendered string. Instead, they are exposed under the {\ttfamily teleports} property of the ssr context object\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ ctx\ =\ \{\}}
\DoxyCodeLine{const\ html\ =\ await\ renderToString(app,\ ctx)}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(ctx.teleports)\ //\ \{\ '\#teleported':\ 'teleported\ content'\ \}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md7340}{}\doxysubsection{\texorpdfstring{Streaming API}{Streaming API}}\label{README.md_autotoc_md7340}
\hypertarget{README.md_autotoc_md7341}{}\doxysubsubsection{\texorpdfstring{{\ttfamily render\+To\+Node\+Stream}}{{\ttfamily render\+To\+Node\+Stream}}}\label{README.md_autotoc_md7341}
Renders input as a \href{https://nodejs.org/api/stream.html\#stream_class_stream_readable}{\texttt{ Node.\+js Readable stream}}.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToNodeStream(input:\ App\ |\ VNode,\ context?:\ SSRContext):\ Readable}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ a\ Node.js\ http\ handler}
\DoxyCodeLine{renderToNodeStream(app).pipe(res)}

\end{DoxyCode}


{\bfseries{Note\+:}} This method is not supported in the ESM build of {\ttfamily @vue/server-\/renderer}, which is decoupled from Node.\+js environments. Use {\ttfamily pipe\+To\+Node\+Writable} instead.\hypertarget{README.md_autotoc_md7342}{}\doxysubsubsection{\texorpdfstring{{\ttfamily pipe\+To\+Node\+Writable}}{{\ttfamily pipe\+To\+Node\+Writable}}}\label{README.md_autotoc_md7342}
Render and pipe to an existing \href{https://nodejs.org/api/stream.html\#stream_writable_streams}{\texttt{ Node.\+js Writable stream}} instance.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ pipeToNodeWritable(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext\ =\ \{\},}
\DoxyCodeLine{\ \ writable:\ Writable,}
\DoxyCodeLine{):\ void}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ a\ Node.js\ http\ handler}
\DoxyCodeLine{pipeToNodeWritable(app,\ \{\},\ res)}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md7343}{}\doxysubsubsection{\texorpdfstring{{\ttfamily render\+To\+Web\+Stream}}{{\ttfamily render\+To\+Web\+Stream}}}\label{README.md_autotoc_md7343}
Renders input as a \href{https://developer.mozilla.org/en-US/docs/Web/API/Streams_API}{\texttt{ Web Readable\+Stream}}.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToWebStream(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context?:\ SSRContext,}
\DoxyCodeLine{):\ ReadableStream}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ inside\ an\ environment\ with\ ReadableStream\ support}
\DoxyCodeLine{return\ new\ Response(renderToWebStream(app))}

\end{DoxyCode}


{\bfseries{Note\+:}} in environments that do not expose {\ttfamily Readable\+Stream} constructor in the global scope, {\ttfamily pipe\+To\+Web\+Writable} should be used instead.\hypertarget{README.md_autotoc_md7344}{}\doxysubsubsection{\texorpdfstring{{\ttfamily pipe\+To\+Web\+Writable}}{{\ttfamily pipe\+To\+Web\+Writable}}}\label{README.md_autotoc_md7344}
Render and pipe to an existing \href{https://developer.mozilla.org/en-US/docs/Web/API/WritableStream}{\texttt{ Web Writable\+Stream}} instance.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ pipeToWebWritable(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext\ =\ \{\},}
\DoxyCodeLine{\ \ writable:\ WritableStream,}
\DoxyCodeLine{):\ void}

\end{DoxyCode}


{\bfseries{Usage}}

This is typically used in combination with \href{https://developer.mozilla.org/en-US/docs/Web/API/TransformStream}{\texttt{ {\ttfamily Transform\+Stream}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ TransformStream\ is\ available\ in\ environments\ such\ as\ CloudFlare\ workers.}
\DoxyCodeLine{//\ in\ Node.js,\ TransformStream\ needs\ to\ be\ explicitly\ imported\ from\ 'stream/web'}
\DoxyCodeLine{const\ \{\ readable,\ writable\ \}\ =\ new\ TransformStream()}
\DoxyCodeLine{pipeToWebWritable(app,\ \{\},\ writable)}
\DoxyCodeLine{}
\DoxyCodeLine{return\ new\ Response(readable)}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md7345}{}\doxysubsubsection{\texorpdfstring{{\ttfamily render\+To\+Simple\+Stream}}{{\ttfamily render\+To\+Simple\+Stream}}}\label{README.md_autotoc_md7345}
Renders input in streaming mode using a simple readable interface.

{\bfseries{Signature}}


\begin{DoxyCode}{0}
\DoxyCodeLine{function\ renderToSimpleStream(}
\DoxyCodeLine{\ \ input:\ App\ |\ VNode,}
\DoxyCodeLine{\ \ context:\ SSRContext,}
\DoxyCodeLine{\ \ options:\ SimpleReadable,}
\DoxyCodeLine{):\ SimpleReadable}
\DoxyCodeLine{}
\DoxyCodeLine{interface\ SimpleReadable\ \{}
\DoxyCodeLine{\ \ push(content:\ string\ |\ null):\ void}
\DoxyCodeLine{\ \ destroy(err:\ any):\ void}
\DoxyCodeLine{\}}

\end{DoxyCode}


{\bfseries{Usage}}


\begin{DoxyCode}{0}
\DoxyCodeLine{let\ res\ =\ ''}
\DoxyCodeLine{}
\DoxyCodeLine{renderToSimpleStream(}
\DoxyCodeLine{\ \ app,}
\DoxyCodeLine{\ \ \{\},}
\DoxyCodeLine{\ \ \{}
\DoxyCodeLine{\ \ \ \ push(chunk)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ if\ (chunk\ ===\ null)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ //\ done}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console(`render\ complete:\ \$\{res\}`)}
\DoxyCodeLine{\ \ \ \ \ \ \}\ else\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ res\ +=\ chunk}
\DoxyCodeLine{\ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ destroy(err)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ //\ error\ encountered}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{)}

\end{DoxyCode}
 