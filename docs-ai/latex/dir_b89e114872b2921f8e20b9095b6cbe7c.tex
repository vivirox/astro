\doxysection{node\+\_\+modules/totalist Directory Reference}
\hypertarget{dir_b89e114872b2921f8e20b9095b6cbe7c}{}\label{dir_b89e114872b2921f8e20b9095b6cbe7c}\index{node\_modules/totalist Directory Reference@{node\_modules/totalist Directory Reference}}


\doxysubsection{Detailed Description}
\begin{quote}
A tiny (195B to 224B) utility to recursively list all (total) files in a directory \end{quote}


Traverse a directory recursively, running a function for {\bfseries{every file}} found.

With this module, you easily apply custom logic to decide which file(s) to process without worrying about accidentally accessing a directory or making repeat {\ttfamily fs.\+Stats} requests.\hypertarget{readme.md_autotoc_md33085}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md33085}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ -\/-\/save\ totalist}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md33086}{}\doxysubsection{\texorpdfstring{Modes}{Modes}}\label{readme.md_autotoc_md33086}
There are two "{}versions"{} of {\ttfamily totalist} available\+:\hypertarget{readme.md_autotoc_md33087}{}\doxysubsubsubsection{\texorpdfstring{"{}async"{}}{"{}async"{}}}\label{readme.md_autotoc_md33087}
\begin{quote}
{\bfseries{Node.\+js\+:}} \texorpdfstring{$>$}{>}= 8.\+x~\newline
 {\bfseries{Size (gzip)\+:}} 220 bytes~\newline
 {\bfseries{Availability\+:}} \href{https://unpkg.com/totalist/dist/index.js}{\texttt{ Common\+JS}}, \href{https://unpkg.com/totalist/dist/index.mjs}{\texttt{ ES Module}} \end{quote}


This is the primary/default mode. It makes use of {\ttfamily async}/{\ttfamily await} and \href{https://nodejs.org/api/util.html\#util_util_promisify_original}{\texttt{ {\ttfamily util.\+promisify}}}.\hypertarget{readme.md_autotoc_md33088}{}\doxysubsubsubsection{\texorpdfstring{"{}sync"{}}{"{}sync"{}}}\label{readme.md_autotoc_md33088}
\begin{quote}
{\bfseries{Node.\+js\+:}} \texorpdfstring{$>$}{>}= 6.\+x~\newline
 {\bfseries{Size (gzip)\+:}} 195 bytes~\newline
 {\bfseries{Availability\+:}} \href{https://unpkg.com/totalist/sync/index.js}{\texttt{ Common\+JS}}, \href{https://unpkg.com/totalist/sync/index.mjs}{\texttt{ ES Module}} \end{quote}


This is the opt-\/in mode, ideal for scenarios where {\ttfamily async} usage cannot be supported.\hypertarget{readme.md_autotoc_md33089}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md33089}
{\itshape {\bfseries{Selecting a Mode}}}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ import\ via\ npm\ module}
\DoxyCodeLine{import\ \{\ totalist\ \}\ from\ 'totalist';}
\DoxyCodeLine{import\ \{\ totalist\ \}\ from\ 'totalist/sync';}

\end{DoxyCode}


{\itshape {\bfseries{Example Usage}}}


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ totalist\ \}\ from\ 'totalist/sync';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ styles\ =\ new\ Set();}
\DoxyCodeLine{const\ scripts\ =\ new\ Set();}
\DoxyCodeLine{}
\DoxyCodeLine{totalist('src',\ (name,\ abs,\ stats)\ =>\ \{}
\DoxyCodeLine{\ \ if\ (/\(\backslash\).js\$/.test(name))\ \{}
\DoxyCodeLine{\ \ \ \ scripts.add(abs);}
\DoxyCodeLine{\ \ \ \ if\ (stats.size\ >=\ 100e3)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ console.warn(`[WARN]\ "{}\$\{name\}"{}\ might\ cause\ performance\ issues\ (\$\{stats.size\})`);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \}\ else\ if\ (/\(\backslash\).css\$/.test(name))\ \{}
\DoxyCodeLine{\ \ \ \ styles.add(abs);}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{console.log([...scripts]);}
\DoxyCodeLine{//=>\ [...,\ '/Users/lukeed/.../src/path/to/example.css',\ ...]}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md33090}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md33090}
\hypertarget{readme.md_autotoc_md33091}{}\doxysubsubsection{\texorpdfstring{totalist(dir, callback)}{totalist(dir, callback)}}\label{readme.md_autotoc_md33091}
Returns\+: {\ttfamily void}

\begin{quote}
{\bfseries{Important\+:}} The "{}async"{} usage must be {\ttfamily await}ed or included within a Promise chain. \end{quote}
\hypertarget{readme.md_autotoc_md33092}{}\doxysubsubsubsection{\texorpdfstring{dir}{dir}}\label{readme.md_autotoc_md33092}
Type\+: {\ttfamily string}~\newline
 Required\+: {\ttfamily true}

The directory to traverse.

This may be a relative {\itshape or} an absolute path.

\begin{quote}
{\bfseries{Note}}\+: Node.\+js will assume a relative path is meant to be resolved from the current location ({\ttfamily process.\+cwd()}). \end{quote}
\hypertarget{readme.md_autotoc_md33093}{}\doxysubsubsubsection{\texorpdfstring{callback}{callback}}\label{readme.md_autotoc_md33093}
Type\+: {\ttfamily Function}~\newline
 Required\+: {\ttfamily true}

The callback function to run for {\itshape every} file.

The function receives three parameters\+:\hypertarget{readme.md_autotoc_md33094}{}\doxysubsubsubsubsection{\texorpdfstring{rel\+Path}{rel\+Path}}\label{readme.md_autotoc_md33094}
Type\+: {\ttfamily String}~\newline
 The path {\itshape relative to} the initial {\ttfamily dir} value you provided.\hypertarget{readme.md_autotoc_md33095}{}\doxysubsubsubsubsection{\texorpdfstring{abs\+Path}{abs\+Path}}\label{readme.md_autotoc_md33095}
Type\+: {\ttfamily String}~\newline
 The absolute path of the file.\hypertarget{readme.md_autotoc_md33096}{}\doxysubsubsubsubsection{\texorpdfstring{stats}{stats}}\label{readme.md_autotoc_md33096}
Type\+: {\ttfamily fs.\+Stats}~\newline
 The \href{https://nodejs.org/api/fs.html\#fs_class_fs_stats}{\texttt{ {\ttfamily fs.\+Stats}}} object for the file.\hypertarget{readme.md_autotoc_md33097}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md33097}
MIT Â© \href{https://lukeed.com}{\texttt{ Luke Edwards}} 