\doxysection{node\+\_\+modules/hast-\/util-\/to-\/text Directory Reference}
\hypertarget{dir_5463f9e5ff7ceddbe70d8d42f3398aae}{}\label{dir_5463f9e5ff7ceddbe70d8d42f3398aae}\index{node\_modules/hast-\/util-\/to-\/text Directory Reference@{node\_modules/hast-\/util-\/to-\/text Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/syntax-tree/hast-util-to-text/actions}{\texttt{ }} \href{https://codecov.io/github/syntax-tree/hast-util-to-text}{\texttt{ }} \href{https://www.npmjs.com/package/hast-util-to-text}{\texttt{ }} \href{https://bundlejs.com/?q=hast-util-to-text}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/syntax-tree/unist/discussions}{\texttt{ }}

\href{https://github.com/syntax-tree/hast}{\texttt{ hast}} utility to get the plain-\/text value of a node.\hypertarget{readme.md_autotoc_md17575}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md17575}

\begin{DoxyItemize}
\item What is this?
\item When should I use this?
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}to\+Text(tree\mbox{[}, options\mbox{]})\`{}
\item \doxylink{README.md_options}{\`{}\+Options\`{}}
\item \`{}\+Whitespace\`{}
\end{DoxyItemize}
\item \doxylink{readme.md_types}{Types}
\item Compatibility
\item Security
\item Related
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17576}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md17576}
This package is a utility that takes a \href{https://github.com/syntax-tree/hast}{\texttt{ hast}} node and gets its plain-\/text value. It is like the DOMs {\ttfamily Node\#inner\+Text}, which is a bit nicer than {\ttfamily Node\#text\+Content}, because this turns {\ttfamily \texorpdfstring{$<$}{<}br\texorpdfstring{$>$}{>}} elements into line breaks and uses `'\textbackslash{}t\textquotesingle{}\`{} (tabs) between table cells.

There are some small deviations from the spec, because the DOM has knowledge of associated CSS, and can take into account that elements have {\ttfamily display\+: none} or {\ttfamily text-\/transform} association with them, and this utility can‚Äôt do that.\hypertarget{readme.md_autotoc_md17577}{}\doxysubsection{\texorpdfstring{When should I use this?}{When should I use this?}}\label{readme.md_autotoc_md17577}
This is a small utility that is useful when you want a plain-\/text version of a node that is close to how it‚Äôs ‚Äúvisible‚Äù to users.

This utility is similar to \href{https://github.com/rehypejs/rehype-minify/tree/main/packages/hast-util-to-string}{\texttt{ {\ttfamily hast-\/util-\/to-\/string}}}, which is simpler, and more like the {\ttfamily Node\#text\+Content} algorithm discussed above.

There is also a package \href{https://github.com/syntax-tree/hast-util-from-text}{\texttt{ {\ttfamily hast-\/util-\/from-\/text}}}, which sort of does the inverse\+: it takes a string, sets that as text on the node, while turning line endings into {\ttfamily \texorpdfstring{$<$}{<}br\texorpdfstring{$>$}{>}}s\hypertarget{readme.md_autotoc_md17578}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md17578}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ hast-\/util-\/to-\/text}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{toText\}\ from\ 'https://esm.sh/hast-\/util-\/to-\/text@4'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{toText\}\ from\ 'https://esm.sh/hast-\/util-\/to-\/text@4?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md17579}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md17579}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{h\}\ from\ 'hastscript'}
\DoxyCodeLine{import\ \{toText\}\ from\ 'hast-\/util-\/to-\/text'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ tree\ =\ h('div',\ [}
\DoxyCodeLine{\ \ h('h1',\ \{hidden:\ true\},\ 'Alpha.'),}
\DoxyCodeLine{\ \ h('article',\ [}
\DoxyCodeLine{\ \ \ \ h('p',\ ['Bravo',\ h('br'),\ 'charlie.']),}
\DoxyCodeLine{\ \ \ \ h('p',\ 'Delta\ echo\ \(\backslash\)t\ foxtrot.')}
\DoxyCodeLine{\ \ ])}
\DoxyCodeLine{])}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(toText(tree))}

\end{DoxyCode}


Yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Bravo}
\DoxyCodeLine{charlie.}
\DoxyCodeLine{}
\DoxyCodeLine{Delta\ echo\ foxtrot.}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md17580}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md17580}
This package exports the identifier \`{}to\+Text\`{}. There is no default export.\hypertarget{readme.md_autotoc_md17581}{}\doxysubsubsection{\texorpdfstring{{\ttfamily to\+Text(tree\mbox{[}, options\mbox{]})}}{{\ttfamily to\+Text(tree\mbox{[}, options\mbox{]})}}}\label{readme.md_autotoc_md17581}
Get the plain-\/text value of a node.\hypertarget{readme.md_autotoc_md17582}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md17582}

\begin{DoxyItemize}
\item {\ttfamily tree} (\href{https://github.com/syntax-tree/hast\#nodes}{\texttt{ {\ttfamily Node}}}) ‚Äî tree to turn into text
\item {\ttfamily options} (\doxylink{README.md_options}{\`{}\+Options\`{}}, optional) ‚Äî configuration
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17583}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md17583}
Serialized {\ttfamily tree} ({\ttfamily string}).\hypertarget{readme.md_autotoc_md17584}{}\doxysubsubsubsubsubsection{\texorpdfstring{Algorithm}{Algorithm}}\label{readme.md_autotoc_md17584}

\begin{DoxyItemize}
\item if {\ttfamily tree} is a \href{https://github.com/syntax-tree/hast\#comment}{\texttt{ comment}}, returns its {\ttfamily value}
\item if {\ttfamily tree} is a \href{https://github.com/syntax-tree/hast\#text}{\texttt{ text}}, applies normal whitespace collapsing to its {\ttfamily value}, as defined by the \href{https://drafts.csswg.org/css-text/\#white-space-phase-1}{\texttt{ CSS Text}} spec
\item if {\ttfamily tree} is a \href{https://github.com/syntax-tree/hast\#root}{\texttt{ root}} or \href{https://github.com/syntax-tree/hast\#element}{\texttt{ element}}, applies an algorithm similar to the {\ttfamily inner\+Text} getter as defined by \href{https://html.spec.whatwg.org/multipage/dom.html\#the-innertext-idl-attribute}{\texttt{ HTML}}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17585}{}\doxysubsubsubsubsubsection{\texorpdfstring{Notes}{Notes}}\label{readme.md_autotoc_md17585}
\begin{quote}
üëâ {\bfseries{Note}}\+: the algorithm acts as if {\ttfamily tree} is being rendered, and as if we‚Äôre a CSS-\/supporting user agent, with scripting enabled. \end{quote}



\begin{DoxyItemize}
\item if {\ttfamily tree} is an element that is not displayed (such as a {\ttfamily head}), we‚Äôll still use the {\ttfamily inner\+Text} algorithm instead of switching to {\ttfamily text\+Content}
\item if descendants of {\ttfamily tree} are elements that are not displayed, they are ignored
\item CSS is not considered, except for the default user agent style sheet
\item a line feed is collapsed instead of ignored in cases where Fullwidth, Wide, or Halfwidth East Asian Width characters are used, the same goes for a case with Chinese, Japanese, or Yi writing systems
\item replaced elements (such as {\ttfamily audio}) are treated like non-\/replaced elements
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17586}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Options}}{{\ttfamily Options}}}\label{readme.md_autotoc_md17586}
Configuration (Type\+Script type).\hypertarget{readme.md_autotoc_md17587}{}\doxysubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md17587}

\begin{DoxyItemize}
\item {\ttfamily whitespace} (\`{}\+Whitespace\`{}, default\+: `\textquotesingle{}normal'\`{}) ‚Äî default whitespace setting to use
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17588}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Whitespace}}{{\ttfamily Whitespace}}}\label{readme.md_autotoc_md17588}
Valid and useful whitespace values (from \href{https://drafts.csswg.org/css-text/\#white-space-phase-1}{\texttt{ CSS}}) (Type\+Script type).\hypertarget{readme.md_autotoc_md17589}{}\doxysubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md17589}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ Whitespace\ =\ 'normal'\ |\ 'nowrap'\ |\ 'pre'\ |\ 'pre-\/wrap'}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md17590}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md17590}
This package is fully typed with \href{https://www.typescriptlang.org}{\texttt{ Type\+Script}}. It exports the additional types \doxylink{README.md_options}{\`{}\+Options\`{}} and \`{}\+Whitespace\`{}.\hypertarget{readme.md_autotoc_md17591}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md17591}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily hast-\/util-\/to-\/text@\texorpdfstring{$^\wedge$}{\string^}4}, compatible with Node.\+js 16.\hypertarget{readme.md_autotoc_md17592}{}\doxysubsection{\texorpdfstring{Security}{Security}}\label{readme.md_autotoc_md17592}
{\ttfamily hast-\/util-\/to-\/text} does not change the syntax tree so there are no openings for \href{https://en.wikipedia.org/wiki/Cross-site_scripting}{\texttt{ cross-\/site scripting (XSS)}} attacks.\hypertarget{readme.md_autotoc_md17593}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md17593}

\begin{DoxyItemize}
\item \href{https://github.com/rehypejs/rehype-minify/tree/main/packages/hast-util-to-string}{\texttt{ {\ttfamily hast-\/util-\/to-\/string}}} ‚Äî get the plain-\/text value ({\ttfamily text\+Content})
\item \href{https://github.com/syntax-tree/hast-util-from-text}{\texttt{ {\ttfamily hast-\/util-\/from-\/text}}} ‚Äî set the plain-\/text value ({\ttfamily inner\+Text})
\item \href{https://github.com/rehypejs/rehype-minify/tree/main/packages/hast-util-from-string}{\texttt{ {\ttfamily hast-\/util-\/from-\/string}}} ‚Äî set the plain-\/text value ({\ttfamily text\+Content})
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md17594}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md17594}
See \href{https://github.com/syntax-tree/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md}}} in \href{https://github.com/syntax-tree/.github}{\texttt{ {\ttfamily syntax-\/tree/.github}}} for ways to get started. See \href{https://github.com/syntax-tree/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/syntax-tree/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md17595}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md17595}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} ¬© \href{https://wooorm.com}{\texttt{ Titus Wormer}} 