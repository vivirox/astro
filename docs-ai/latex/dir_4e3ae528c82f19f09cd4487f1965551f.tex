\doxysection{node\+\_\+modules/css-\/background-\/parser Directory Reference}
\hypertarget{dir_4e3ae528c82f19f09cd4487f1965551f}{}\label{dir_4e3ae528c82f19f09cd4487f1965551f}\index{node\_modules/css-\/background-\/parser Directory Reference@{node\_modules/css-\/background-\/parser Directory Reference}}


\doxysubsection{Detailed Description}
Parse an element’s CSS background properties to get a list of individual backgrounds.

{\itshape This library is still a work in progress and is probably not very useful yet. It’s pre-\/1.\+0 and has no tests yet.}


\begin{DoxyItemize}
\item Methods
\begin{DoxyItemize}
\item parse\+Element\+Style()
\end{DoxyItemize}
\item Objects
\begin{DoxyItemize}
\item Background
\item Background\+List
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md11114}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md11114}
Available on npm as {\ttfamily css-\/background-\/parser}, or in the browser as a global called {\ttfamily css\+Bg\+Parser}\hypertarget{README.md_autotoc_md11115}{}\doxysubsubsection{\texorpdfstring{Methods}{Methods}}\label{README.md_autotoc_md11115}
\hypertarget{README.md_autotoc_md11116}{}\doxysubsubsubsection{\texorpdfstring{\label{_parseElementStyle}%
 {\ttfamily parse\+Element\+Style(style\+Object)}}{\label{_parseElementStyle}%
 {\ttfamily parse\+Element\+Style(style\+Object)}}}\label{README.md_autotoc_md11116}
Takes a \href{https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration}{\texttt{ {\ttfamily CSSStyle\+Declaration}}} object and returns a \`{}\+Background\+List\`{} of backgrounds found in the styles.

In non-\/techo-\/babble, the only input is an object which represents an element’s style. It could be {\ttfamily element.\+style}, the result of {\ttfamily window.\+get\+Computed\+Style(element)}, or a custom object that happens to have properties which are prefixed {\ttfamily background} ({\ttfamily background\+Color}, {\ttfamily background\+Size}, etc.).

If you want the most accurate results, I suggest you use {\ttfamily window.\+get\+Computed\+Style(element)} — see the code examples below.

Since multiple backgrounds can be assigned to an element, this method will always return a \`{}\+Background\+List\`{}, even if there is only one background. Backgrounds are listed in order from top layer to bottom layer (in other words, the first layer is closest to the person looking at the screen). This means that the {\ttfamily color} property will only be filled on the {\itshape last} {\ttfamily Background} object in the list, representing the bottom layer.

A very basic example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ style\ =\ getComputedStyle(someElement);}
\DoxyCodeLine{var\ bglist\ =\ cssBgParser.parseElementStyle(style);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(bglist.backgrounds.length);\ \ //\ 1}
\DoxyCodeLine{console.log(bglist.backgrounds[0]);\ \ \ \ \ \ //\ Logs\ a\ Background\ object}

\end{DoxyCode}


Multiple backgrounds\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{someElement.style.backgroundImage\ =\ 'linear-\/gradient(white,\ blue),\ url(/background.png)';}
\DoxyCodeLine{someElement.style.backgroundColor\ =\ 'black';}
\DoxyCodeLine{}
\DoxyCodeLine{var\ style\ =\ getComputedStyle(someElement);}
\DoxyCodeLine{var\ bglist\ =\ cssBgParser.parseElementStyle(style);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(bglist.backgrounds.length);\ \ \ \ //\ 2}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(bglist.backgrounds[0].image);\ \ //\ "{}linear-\/gradient(white,\ blue)"{}}
\DoxyCodeLine{console.log(bglist.backgrounds[1].image);\ \ //\ "{}url(http://example.com/background.png)"{}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(bglist.backgrounds[0].color);\ \ //\ "{}"{}}
\DoxyCodeLine{console.log(bglist.backgrounds[1].color);\ \ //\ "{}rgb(0,\ 0,\ 0)"{}}

\end{DoxyCode}


The difference between {\ttfamily element.\+style} and {\ttfamily window.\+get\+Computed\+Style(element)}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{someElement.style.background\ =\ 'red';}
\DoxyCodeLine{}
\DoxyCodeLine{var\ parsedStyle\ =\ cssBgParser.parsesomeElemententStyle(elem.style);}
\DoxyCodeLine{console.log(parsedStyle.backgrounds[0]);}
\DoxyCodeLine{/*}
\DoxyCodeLine{\ *\ Background\ \{}
\DoxyCodeLine{\ *\ \ \ \ \ attachment:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ clip:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ color:\ "{}red"{}}
\DoxyCodeLine{\ *\ \ \ \ \ image:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ origin:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ position:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ repeat:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \ \ \ \ size:\ "{}initial"{}}
\DoxyCodeLine{\ *\ \}}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{var\ computed\ =\ getComputedStyle(elem);}
\DoxyCodeLine{var\ parsedComputed\ =\ cssBgParser.parseElementStyle(computed);}
\DoxyCodeLine{console.log(parsedComputed.backgrounds[0]);}
\DoxyCodeLine{/*}
\DoxyCodeLine{\ *\ Background\ \{}
\DoxyCodeLine{\ *\ \ \ \ \ attachment:\ "{}scroll"{}}
\DoxyCodeLine{\ *\ \ \ \ \ clip:\ "{}border-\/box"{}}
\DoxyCodeLine{\ *\ \ \ \ \ color:\ "{}rgb(255,\ 0,\ 0)"{}}
\DoxyCodeLine{\ *\ \ \ \ \ image:\ "{}none"{}}
\DoxyCodeLine{\ *\ \ \ \ \ origin:\ "{}padding-\/box"{}}
\DoxyCodeLine{\ *\ \ \ \ \ position:\ "{}0\%\ 0\%"{}}
\DoxyCodeLine{\ *\ \ \ \ \ repeat:\ "{}repeat"{}}
\DoxyCodeLine{\ *\ \ \ \ \ size:\ "{}auto"{}}
\DoxyCodeLine{\ *\ \}}
\DoxyCodeLine{\ */}

\end{DoxyCode}


\DoxyHorRuler{0}
\hypertarget{README.md_autotoc_md11118}{}\doxysubsubsection{\texorpdfstring{Objects / “\+Classes”}{Objects / “\+Classes”}}\label{README.md_autotoc_md11118}
\hypertarget{README.md_autotoc_md11119}{}\doxysubsubsubsection{\texorpdfstring{\label{_Background}%
 {\ttfamily Background(props)}}{\label{_Background}%
 {\ttfamily Background(props)}}}\label{README.md_autotoc_md11119}
A simple object holding the properties of a single background for an element.\hypertarget{README.md_autotoc_md11120}{}\doxysubsubsubsubsection{\texorpdfstring{Properties}{Properties}}\label{README.md_autotoc_md11120}
{\ttfamily Background} objects contain the following properties, listed here with their default values (as defined by the \href{http://www.w3.org/TR/css3-background/\#backgrounds}{\texttt{ CSS specification}})\+:


\begin{DoxyItemize}
\item {\ttfamily attachment} — "{}scroll"{}
\item {\ttfamily clip} — "{}border-\/box"{}
\item {\ttfamily color} — "{}"{}
\item {\ttfamily image} — "{}none"{}
\item {\ttfamily origin} — "{}padding-\/box"{}
\item {\ttfamily position} — "{}0\% 0\%"{}
\item {\ttfamily repeat} — "{}repeat"{}
\item {\ttfamily size} — "{}auto"{}
\end{DoxyItemize}

A {\ttfamily Background} can be instantiated with an optional first parameter, which is an object containing key/value pairs of properties to set. Any properties in the list above that are not found in the {\ttfamily props} argument are set to their default values. In most cases, though, you’d only deal with {\ttfamily Background} objects as return values from {\ttfamily parse\+Element\+Style()}.\hypertarget{README.md_autotoc_md11121}{}\doxysubsubsubsubsection{\texorpdfstring{Methods}{Methods}}\label{README.md_autotoc_md11121}

\begin{DoxyItemize}
\item {\ttfamily to\+String()} Returns a string of all properties, in a format that matches browsers’ formatting of the {\ttfamily background} CSS shorthand property (when an element has only a single background). For reference, the format is\+: {\ttfamily \texorpdfstring{$<$}{<}color\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}repeat\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}attachment\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}position\texorpdfstring{$>$}{>} / \texorpdfstring{$<$}{<}size\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}origin\texorpdfstring{$>$}{>} \texorpdfstring{$<$}{<}clip\texorpdfstring{$>$}{>}}
\end{DoxyItemize}

\DoxyHorRuler{0}
\hypertarget{README.md_autotoc_md11123}{}\doxysubsubsubsection{\texorpdfstring{\label{_BackgroundList}%
 {\ttfamily Background\+List(array\+Of\+Backgrounds)}}{\label{_BackgroundList}%
 {\ttfamily Background\+List(array\+Of\+Backgrounds)}}}\label{README.md_autotoc_md11123}
A collection of \`{}\+Background\`{} objects representing all the backgrounds used for a single element.\hypertarget{README.md_autotoc_md11124}{}\doxysubsubsubsubsection{\texorpdfstring{Properties}{Properties}}\label{README.md_autotoc_md11124}
{\ttfamily Background\+List} objects only contain a single property called {\ttfamily backgrounds}, which is an array of {\ttfamily Background} objects.

A {\ttfamily Background\+List} can be instantiated with an optional first parameter, which is an array of {\ttfamily Background} objects that gets assigned to the {\ttfamily backgrounds} property. In most cases, though, you’d only deal with {\ttfamily Background\+List} objects as return values from {\ttfamily parse\+Element\+Style()}.\hypertarget{README.md_autotoc_md11125}{}\doxysubsubsubsubsection{\texorpdfstring{Methods}{Methods}}\label{README.md_autotoc_md11125}

\begin{DoxyItemize}
\item {\ttfamily to\+String()} Returns a comma-\/separated string of all {\ttfamily Background}s contained in the collection, calling {\ttfamily .to\+String()} on each {\ttfamily Background}. This matches browsers’ formatting of the {\ttfamily background} CSS shorthand property (when an element has multiple backgrounds). 
\end{DoxyItemize}