\doxysection{node\+\_\+modules/estree-\/util-\/scope Directory Reference}
\hypertarget{dir_905dbfe79f9a6a46878382f976a9c79e}{}\label{dir_905dbfe79f9a6a46878382f976a9c79e}\index{node\_modules/estree-\/util-\/scope Directory Reference@{node\_modules/estree-\/util-\/scope Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/syntax-tree/estree-util-scope/actions}{\texttt{ }} \href{https://codecov.io/github/syntax-tree/estree-util-scope}{\texttt{ }} \href{https://www.npmjs.com/package/estree-util-scope}{\texttt{ }} \href{https://bundlejs.com/?q=estree-util-scope}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/syntax-tree/unist/discussions}{\texttt{ }}

\href{https://github.com/estree/estree}{\texttt{ estree}} utility to check what’s defined in a scope.\hypertarget{readme.md_autotoc_md14566}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md14566}

\begin{DoxyItemize}
\item What is this?
\item When should I use this?
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}\+Scope\`{}
\item \`{}\+Visitors\`{}
\item \`{}create\+Visitors()\`{}
\end{DoxyItemize}
\item \doxylink{README.md_examples}{Examples}
\begin{DoxyItemize}
\item Example\+: just the top scope
\end{DoxyItemize}
\item Compatibility
\item Related
\item Security
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14567}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md14567}
This package is a utility that tracks what’s defined in a scope.\hypertarget{readme.md_autotoc_md14568}{}\doxysubsection{\texorpdfstring{When should I use this?}{When should I use this?}}\label{readme.md_autotoc_md14568}
If you are walking an estree already and want to find out what’s defined, use this. If you have more complex scoping needs, see \href{https://github.com/eslint/eslint-scope}{\texttt{ {\ttfamily eslint-\/scope}}}.\hypertarget{readme.md_autotoc_md14569}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md14569}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ estree-\/util-\/scope}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{createVisitors\}\ from\ 'https://esm.sh/estree-\/util-\/scope@1'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{createVisitors\}\ from\ 'https://esm.sh/estree-\/util-\/scope@1?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14570}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md14570}
Say we have the following {\ttfamily example.\+js}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @import\ \{Program\}\ from\ 'estree'}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{Parser\}\ from\ 'acorn'}
\DoxyCodeLine{import\ \{createVisitors\}\ from\ 'estree-\/util-\/scope'}
\DoxyCodeLine{import\ \{walk\}\ from\ 'estree-\/walker'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ tree\ =\ /**\ @type\ \{Program\}\ */\ (}
\DoxyCodeLine{\ \ Parser.parse('import\ \{a\}\ from\ "{}b"{};\ const\ c\ =\ 1',\ \{}
\DoxyCodeLine{\ \ \ \ ecmaVersion:\ 'latest',}
\DoxyCodeLine{\ \ \ \ sourceType:\ 'module'}
\DoxyCodeLine{\ \ \})}
\DoxyCodeLine{)}
\DoxyCodeLine{const\ visitors\ =\ createVisitors()}
\DoxyCodeLine{}
\DoxyCodeLine{walk(tree,\ \{enter:\ visitors.enter,\ leave:\ visitors.exit\})}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(visitors.scopes.at(-\/1))}

\end{DoxyCode}


…now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{\ block:\ false,\ defined:\ [\ 'a',\ 'c'\ ]\ \}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14571}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md14571}
\hypertarget{readme.md_autotoc_md14572}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Scope}}{{\ttfamily Scope}}}\label{readme.md_autotoc_md14572}
Scope.\hypertarget{readme.md_autotoc_md14573}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md14573}

\begin{DoxyItemize}
\item {\ttfamily block} ({\ttfamily boolean}) — whether this is a block scope or not; blocks are things made by {\ttfamily for} and {\ttfamily try} and {\ttfamily if}; non-\/blocks are functions and the top-\/level scope
\item {\ttfamily defined} ({\ttfamily Array\texorpdfstring{$<$}{<}string\texorpdfstring{$>$}{>}}) — identifiers that are defined in this scope
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14574}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Visitors}}{{\ttfamily Visitors}}}\label{readme.md_autotoc_md14574}
State to track what’s defined; contains {\ttfamily enter}, {\ttfamily exit} callbacks you must call and {\ttfamily scopes}.\hypertarget{readme.md_autotoc_md14575}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md14575}

\begin{DoxyItemize}
\item {\ttfamily enter} ({\ttfamily (node\+: Node) =\texorpdfstring{$>$}{>} undefined}) — callback you must call when entering a node
\item {\ttfamily exit} ({\ttfamily (node\+: Node) =\texorpdfstring{$>$}{>} undefined}) — callback you must call when exiting (leaving) a node
\item {\ttfamily scopes} ({\ttfamily \mbox{[}top\+Level\+: Scope, ...rest\+: Scope\mbox{[}\mbox{]}\mbox{]}}) — list of scopes; the first scope is the top-\/level scope; the last scope is the current scope
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md14576}{}\doxysubsubsection{\texorpdfstring{{\ttfamily create\+Visitors()}}{{\ttfamily create\+Visitors()}}}\label{readme.md_autotoc_md14576}
Create state to track what’s defined.\hypertarget{readme.md_autotoc_md14577}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md14577}
There are no parameters.\hypertarget{readme.md_autotoc_md14578}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md14578}
State ({\ttfamily Visitors}).\hypertarget{readme.md_autotoc_md14579}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{readme.md_autotoc_md14579}
\hypertarget{readme.md_autotoc_md14580}{}\doxysubsubsection{\texorpdfstring{Example\+: just the top scope}{Example\+: just the top scope}}\label{readme.md_autotoc_md14580}
Sometimes, you only care about a top-\/scope. Or otherwise want to skip a node. How to do this depends on how you walk the tree. With {\ttfamily estree-\/walker}, you can skip by calling {\ttfamily this.\+skip}.


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @import\ \{Program\}\ from\ 'estree'}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ \{Parser\}\ from\ 'acorn'}
\DoxyCodeLine{import\ \{createVisitors\}\ from\ 'estree-\/util-\/scope'}
\DoxyCodeLine{import\ \{walk\}\ from\ 'estree-\/walker'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ tree\ =\ /**\ @type\ \{Program\}\ */\ (}
\DoxyCodeLine{\ \ Parser.parse(}
\DoxyCodeLine{\ \ \ \ 'function\ a(b)\ \{\ var\ c\ =\ 1;\ if\ (d)\ \{\ var\ e\ =\ 2\ \}\ \};\ if\ (f)\ \{\ var\ g\ =\ 2\ \}',}
\DoxyCodeLine{\ \ \ \ \{ecmaVersion:\ 'latest'\}}
\DoxyCodeLine{\ \ )}
\DoxyCodeLine{)}
\DoxyCodeLine{const\ visitors\ =\ createVisitors()}
\DoxyCodeLine{}
\DoxyCodeLine{walk(tree,\ \{}
\DoxyCodeLine{\ \ enter(node)\ \{}
\DoxyCodeLine{\ \ \ \ visitors.enter(node)}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ if\ (}
\DoxyCodeLine{\ \ \ \ \ \ node.type\ ===\ 'ArrowFunctionExpression'\ ||}
\DoxyCodeLine{\ \ \ \ \ \ node.type\ ===\ 'FunctionDeclaration'\ ||}
\DoxyCodeLine{\ \ \ \ \ \ node.type\ ===\ 'FunctionExpression'}
\DoxyCodeLine{\ \ \ \ )\ \{}
\DoxyCodeLine{\ \ \ \ \ \ this.skip()}
\DoxyCodeLine{\ \ \ \ \ \ visitors.exit(node)\ //\ Call\ the\ exit\ handler\ manually.}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ leave:\ visitors.exit}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(visitors.scopes.at(-\/1))}

\end{DoxyCode}


…yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{\ block:\ false,\ defined:\ [\ 'a',\ 'g'\ ]\ \}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md14581}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md14581}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily estree-\/util-\/scope@1}, compatible with Node.\+js 16.\hypertarget{readme.md_autotoc_md14582}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md14582}
\hypertarget{readme.md_autotoc_md14583}{}\doxysubsection{\texorpdfstring{Security}{Security}}\label{readme.md_autotoc_md14583}
This package is safe.\hypertarget{readme.md_autotoc_md14584}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md14584}
See \href{https://github.com/syntax-tree/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md} in {\ttfamily syntax-\/tree/.github}}} for ways to get started. See \href{https://github.com/syntax-tree/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/syntax-tree/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md14585}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md14585}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} © \href{https://wooorm.com}{\texttt{ Titus Wormer}} 