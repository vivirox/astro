\doxysection{node\+\_\+modules/https-\/proxy-\/agent Directory Reference}
\hypertarget{dir_956669ed73be7f63d549c492c42561ab}{}\label{dir_956669ed73be7f63d549c492c42561ab}\index{node\_modules/https-\/proxy-\/agent Directory Reference@{node\_modules/https-\/proxy-\/agent Directory Reference}}


\doxysubsection{Detailed Description}
\hypertarget{README.md_autotoc_md17962}{}\doxysubsubsection{\texorpdfstring{An HTTP(s) proxy {\ttfamily http.\+Agent} implementation for HTTPS}{An HTTP(s) proxy {\ttfamily http.\+Agent} implementation for HTTPS}}\label{README.md_autotoc_md17962}
This module provides an {\ttfamily http.\+Agent} implementation that connects to a specified HTTP or HTTPS proxy server, and can be used with the built-\/in {\ttfamily https} module.

Specifically, this {\ttfamily Agent} implementation connects to an intermediary "{}proxy"{} server and issues the \href{http://en.wikipedia.org/wiki/HTTP_tunnel\#HTTP_CONNECT_Tunneling}{\texttt{ CONNECT HTTP method}}, which tells the proxy to open a direct TCP connection to the destination server.

Since this agent implements the CONNECT HTTP method, it also works with other protocols that use this method when connecting over proxies (i.\+e. Web\+Sockets). See the "{}\+Examples"{} section below for more.\hypertarget{README.md_autotoc_md17963}{}\doxysubsection{\texorpdfstring{Examples}{Examples}}\label{README.md_autotoc_md17963}
\hypertarget{README.md_autotoc_md17964}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily https} module example}{{\ttfamily https} module example}}\label{README.md_autotoc_md17964}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ *\ as\ https\ from\ 'https';}
\DoxyCodeLine{import\ \{\ HttpsProxyAgent\ \}\ from\ 'https-\/proxy-\/agent';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ agent\ =\ new\ HttpsProxyAgent('http://168.63.76.32:3128');}
\DoxyCodeLine{}
\DoxyCodeLine{https.get('https://example.com',\ \{\ agent\ \},\ (res)\ =>\ \{}
\DoxyCodeLine{\ \ console.log('"{}response"{}\ event!',\ res.headers);}
\DoxyCodeLine{\ \ res.pipe(process.stdout);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md17965}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily ws} Web\+Socket connection example}{{\ttfamily ws} Web\+Socket connection example}}\label{README.md_autotoc_md17965}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ WebSocket\ from\ 'ws';}
\DoxyCodeLine{import\ \{\ HttpsProxyAgent\ \}\ from\ 'https-\/proxy-\/agent';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ agent\ =\ new\ HttpsProxyAgent('http://168.63.76.32:3128');}
\DoxyCodeLine{const\ socket\ =\ new\ WebSocket('ws://echo.websocket.org',\ \{\ agent\ \});}
\DoxyCodeLine{}
\DoxyCodeLine{socket.on('open',\ function\ ()\ \{}
\DoxyCodeLine{\ \ console.log('"{}open"{}\ event!');}
\DoxyCodeLine{\ \ socket.send('hello\ world');}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{socket.on('message',\ function\ (data,\ flags)\ \{}
\DoxyCodeLine{\ \ console.log('"{}message"{}\ event!\ \%j\ \%j',\ data,\ flags);}
\DoxyCodeLine{\ \ socket.close();}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md17966}{}\doxysubsection{\texorpdfstring{API}{API}}\label{README.md_autotoc_md17966}
\hypertarget{README.md_autotoc_md17967}{}\doxysubsubsection{\texorpdfstring{new Https\+Proxy\+Agent(proxy\+: string \texorpdfstring{$\vert$}{|} URL, options?\+: Https\+Proxy\+Agent\+Options)}{new Https\+Proxy\+Agent(proxy\+: string \texorpdfstring{$\vert$}{|} URL, options?\+: Https\+Proxy\+Agent\+Options)}}\label{README.md_autotoc_md17967}
The {\ttfamily Https\+Proxy\+Agent} class implements an {\ttfamily http.\+Agent} subclass that connects to the specified "{}\+HTTP(s) proxy server"{} in order to proxy HTTPS and/or Web\+Socket requests. This is achieved by using the \href{http://en.wikipedia.org/wiki/HTTP_tunnel\#HTTP_CONNECT_Tunneling}{\texttt{ HTTP {\ttfamily CONNECT} method}}.

The {\ttfamily proxy} argument is the URL for the proxy server.

The {\ttfamily options} argument accepts the usual {\ttfamily http.\+Agent} constructor options, and some additional properties\+:


\begin{DoxyItemize}
\item {\ttfamily headers} -\/ Object containing additional headers to send to the proxy server in the {\ttfamily CONNECT} request. 
\end{DoxyItemize}