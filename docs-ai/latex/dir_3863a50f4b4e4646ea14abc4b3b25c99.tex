\doxysection{node\+\_\+modules/muggle-\/string Directory Reference}
\hypertarget{dir_3863a50f4b4e4646ea14abc4b3b25c99}{}\label{dir_3863a50f4b4e4646ea14abc4b3b25c99}\index{node\_modules/muggle-\/string Directory Reference@{node\_modules/muggle-\/string Directory Reference}}


\doxysubsection{Detailed Description}
This library aims to provide codegen helpers and data structure for Vue language plugin API v1.\+x that does not depend on Volar runtime.\hypertarget{README.md_autotoc_md24399}{}\doxysubsubsection{\texorpdfstring{Why "{}\+Muggle"{}?}{Why "{}\+Muggle"{}?}}\label{README.md_autotoc_md24399}
A better situation is Volar can use magic-\/string on the Vue plugin API, but currently can\textquotesingle{}t do this easily.

This solution is just for Vue language plugin API v1.\+x and planned to be deprecate in v2.\hypertarget{README.md_autotoc_md24400}{}\doxysubsubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md24400}
The example is base-\/on \href{https://github.com/rich-harris/magic-string\#usage}{\texttt{ magic-\/string readme}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{<script>problems\ =\ 99</script>}
\DoxyCodeLine{}
\DoxyCodeLine{<more-\/script\ lang="{}js"{}>console.log(\ answer\ )</more-\/script>}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{}
\DoxyCodeLine{\ \ \ \ toString,}
\DoxyCodeLine{\ \ \ \ replace,}
\DoxyCodeLine{\}\ from\ 'muggle-\/string';}
\DoxyCodeLine{}
\DoxyCodeLine{/**\ @type\ \{import('@volar/vue-\/language-\/core').VueLanguagePlugin\}\ */}
\DoxyCodeLine{const\ plugin\ =\ ()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ return\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ name:\ 'example-\/vue-\/language-\/plugin',}
\DoxyCodeLine{\ \ \ \ \ \ \ \ version:\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ resolveEmbeddedFile(fileName,\ sfc,\ embeddedFile)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ if\ (embeddedFile.fileName.replace(fileName,\ '').match(/\string^\(\backslash\).(js|ts|jsx|tsx)\$/))\ \{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ const\ s\ =\ embeddedFile.content;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toString(s);\ //\ 'problems\ =\ 99'}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ replace(s,\ 'problems',\ 'answer');}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toString(s);\ //\ 'answer\ =\ 99'}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ replace(s,\ '99',\ '42');}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toString(s);\ //\ 'answer\ =\ 42'}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ add\ string\ by\ Array\ method\ directly}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.unshift('var\ ');}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.push(';');}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toString(s);\ //\ 'var\ answer\ =\ 42;'}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ for\ (const\ block\ of\ sfc.customBlocks)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ if\ (block.type\ ===\ 'more-\/script')\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ s.push([}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ block.content,\ //\ text\ to\ add}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ block.name,\ //\ source}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ 0,\ //\ content\ offset\ in\ source}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ language\ capabilities\ to\ enable\ in\ this\ segment}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ hover:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ references:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ definition:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ diagnostic:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rename:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ completion:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ semanticTokens:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ]);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ toString(s);\ //\ 'var\ answer\ =\ 42;console.log(\ answer\ )'}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\};}
\DoxyCodeLine{module.exports\ =\ plugin;}

\end{DoxyCode}
 