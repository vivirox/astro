\chapter{API Documentation}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i}{}\label{md_node__modules_2postcss-selector-parser_2_a_p_i}\index{API Documentation@{API Documentation}}
\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26091}%
\Hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26091}%


{\itshape Please use only this documented API when working with the parser. Methods not documented here are subject to change at any point.}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26092}{}\doxysection{\texorpdfstring{{\ttfamily parser} function}{{\ttfamily parser} function}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26092}
This is the module\textquotesingle{}s main entry point.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ parser\ =\ require('postcss-\/selector-\/parser');}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26093}{}\doxysubsection{\texorpdfstring{{\ttfamily parser(\mbox{[}transform\mbox{]}, \mbox{[}options\mbox{]})}}{{\ttfamily parser(\mbox{[}transform\mbox{]}, \mbox{[}options\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26093}
Creates a new {\ttfamily processor} instance


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ processor\ =\ parser();}

\end{DoxyCode}


Or, with optional transform function


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ transform\ =\ selectors\ =>\ \{}
\DoxyCodeLine{\ \ \ \ selectors.walkUniversals(selector\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ selector.remove();}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ processor\ =\ parser(transform)}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Example}
\DoxyCodeLine{const\ result\ =\ processor.processSync('*.class');}
\DoxyCodeLine{//\ =>\ .class}

\end{DoxyCode}


See processor documentation

Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily transform (function)}\+: Provide a function to work with the parsed AST.
\item {\ttfamily options (object)}\+: Provide default options for all calls on the returned {\ttfamily Processor}.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26094}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+attribute(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+attribute(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26094}
Creates a new attribute selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.attribute(\{attribute:\ 'href'\});}
\DoxyCodeLine{//\ =>\ [href]}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26095}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+class\+Name(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+class\+Name(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26095}
Creates a new class selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.className(\{value:\ 'button'\});}
\DoxyCodeLine{//\ =>\ .button}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26096}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+combinator(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+combinator(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26096}
Creates a new selector combinator.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.combinator(\{value:\ '+'\});}
\DoxyCodeLine{//\ =>\ +}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}

Notes\+:
\begin{DoxyItemize}
\item {\bfseries{Descendant Combinators}} The value of descendant combinators created by the parser always just a single space ({\ttfamily "{} "{}}). For descendant selectors with no comments, additional space is now stored in {\ttfamily node.\+spaces.\+before}. Depending on the location of comments, additional spaces may be stored in {\ttfamily node.\+raws.\+spaces.\+before}, {\ttfamily node.\+raws.\+spaces.\+after}, or {\ttfamily node.\+raws.\+value}.
\item {\bfseries{Named Combinators}} Although, nonstandard and unlikely to ever become a standard, named combinators like {\ttfamily /deep/} and {\ttfamily /for/} are parsed as combinators. The {\ttfamily node.\+value} is name after being unescaped and normalized as lowercase. The original value for the combinator name is stored in {\ttfamily node.\+raws.\+value}.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26097}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+comment(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+comment(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26097}
Creates a new comment.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.comment(\{value:\ '/*\ Affirmative,\ Dave.\ I\ read\ you.\ */'\});}
\DoxyCodeLine{//\ =>\ /*\ Affirmative,\ Dave.\ I\ read\ you.\ */}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26098}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+id(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+id(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26098}
Creates a new id selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.id(\{value:\ 'search'\});}
\DoxyCodeLine{//\ =>\ \#search}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26099}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+nesting(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+nesting(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26099}
Creates a new nesting selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.nesting();}
\DoxyCodeLine{//\ =>\ \&}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26100}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+pseudo(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+pseudo(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26100}
Creates a new pseudo selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.pseudo(\{value:\ '::before'\});}
\DoxyCodeLine{//\ =>\ ::before}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26101}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+root(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+root(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26101}
Creates a new root node.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.root();}
\DoxyCodeLine{//\ =>\ (empty)}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26102}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+selector(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+selector(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26102}
Creates a new selector node.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.selector();}
\DoxyCodeLine{//\ =>\ (empty)}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26103}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+string(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+string(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26103}
Creates a new string node.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.string();}
\DoxyCodeLine{//\ =>\ (empty)}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26104}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+tag(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+tag(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26104}
Creates a new tag selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.tag(\{value:\ 'button'\});}
\DoxyCodeLine{//\ =>\ button}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26105}{}\doxysubsection{\texorpdfstring{{\ttfamily parser.\+universal(\mbox{[}props\mbox{]})}}{{\ttfamily parser.\+universal(\mbox{[}props\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26105}
Creates a new universal selector.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.universal();}
\DoxyCodeLine{//\ =>\ *}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily props (object)}\+: The new node\textquotesingle{}s properties.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26106}{}\doxysection{\texorpdfstring{Node types}{Node types}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26106}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26107}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+type}}{{\ttfamily node.\+type}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26107}
A string representation of the selector type. It can be one of the following; {\ttfamily attribute}, {\ttfamily class}, {\ttfamily combinator}, {\ttfamily comment}, {\ttfamily id}, {\ttfamily nesting}, {\ttfamily pseudo}, {\ttfamily root}, {\ttfamily selector}, {\ttfamily string}, {\ttfamily tag}, or {\ttfamily universal}. Note that for convenience, these constants are exposed on the main {\ttfamily parser} as uppercased keys. So for example you can get {\ttfamily id} by querying {\ttfamily parser.\+ID}.


\begin{DoxyCode}{0}
\DoxyCodeLine{parser.attribute(\{attribute:\ 'href'\}).type;}
\DoxyCodeLine{//\ =>\ 'attribute'}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26108}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+parent}}{{\ttfamily node.\+parent}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26108}
Returns the parent node.


\begin{DoxyCode}{0}
\DoxyCodeLine{root.nodes[0].parent\ ===\ root;}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26109}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+to\+String()}, {\ttfamily String(node)}, or `'\textquotesingle{} + node\`{}}{{\ttfamily node.\+to\+String()}, {\ttfamily String(node)}, or `'\textquotesingle{} + node\`{}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26109}
Returns a string representation of the node.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ id\ =\ parser.id(\{value:\ 'search'\});}
\DoxyCodeLine{console.log(String(id));}
\DoxyCodeLine{//\ =>\ \#search}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26110}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+next()} \& {\ttfamily node.\+prev()}}{{\ttfamily node.\+next()} \& {\ttfamily node.\+prev()}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26110}
Returns the next/previous child of the parent node.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ next\ =\ id.next();}
\DoxyCodeLine{if\ (next\ \&\&\ next.type\ !==\ 'combinator')\ \{}
\DoxyCodeLine{\ \ \ \ throw\ new\ Error('Qualified\ IDs\ are\ not\ allowed!');}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26111}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+replace\+With(node)}}{{\ttfamily node.\+replace\+With(node)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26111}
Replace a node with another.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ attr\ =\ selectors.first.first;}
\DoxyCodeLine{const\ className\ =\ parser.className(\{value:\ 'test'\});}
\DoxyCodeLine{attr.replaceWith(className);}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily node}\+: The node to substitute the original with.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26112}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+remove()}}{{\ttfamily node.\+remove()}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26112}
Removes the node from its parent node.


\begin{DoxyCode}{0}
\DoxyCodeLine{if\ (node.type\ ===\ 'id')\ \{}
\DoxyCodeLine{\ \ \ \ node.remove();}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26113}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+clone(\mbox{[}opts\mbox{]})}}{{\ttfamily node.\+clone(\mbox{[}opts\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26113}
Returns a copy of a node, detached from any parent containers that the original might have had.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ cloned\ =\ node.clone();}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26114}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+is\+At\+Position(line, column)}}{{\ttfamily node.\+is\+At\+Position(line, column)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26114}
Return a {\ttfamily boolean} indicating whether this node includes the character at the position of the given line and column. Returns {\ttfamily undefined} if the nodes lack sufficient source metadata to determine the position.

Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily line}\+: 1-\/index based line number relative to the start of the selector.
\item {\ttfamily column}\+: 1-\/index based column number relative to the start of the selector.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26115}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+spaces}}{{\ttfamily node.\+spaces}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26115}
Extra whitespaces around the node will be moved into {\ttfamily node.\+spaces.\+before} and {\ttfamily node.\+spaces.\+after}. So for example, these spaces will be moved as they have no semantic meaning\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{h1\ \ \ \ \ ,\ \ \ \ \ h2\ \ \ \{\}}

\end{DoxyCode}


For descendent selectors, the value is always a single space.


\begin{DoxyCode}{0}
\DoxyCodeLine{h1\ \ \ \ \ \ \ \ h2\ \{\}}

\end{DoxyCode}


Additional whitespace is found in either the {\ttfamily node.\+spaces.\+before} and {\ttfamily node.\+spaces.\+after} depending on the presence of comments or other whitespace characters. If the actual whitespace does not start or end with a single space, the node\textquotesingle{}s raw value is set to the actual space(s) found in the source.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26116}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+source}}{{\ttfamily node.\+source}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26116}
An object describing the node\textquotesingle{}s start/end, line/column source position.

Within the following CSS, the {\ttfamily .bar} class node ...


\begin{DoxyCode}{0}
\DoxyCodeLine{.foo,}
\DoxyCodeLine{\ \ .bar\ \{\}}

\end{DoxyCode}


... will contain the following {\ttfamily source} object.


\begin{DoxyCode}{0}
\DoxyCodeLine{source:\ \{}
\DoxyCodeLine{\ \ \ \ start:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ line:\ 2,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ column:\ 3}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ end:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ line:\ 2,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ column:\ 6}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26117}{}\doxysubsection{\texorpdfstring{{\ttfamily node.\+source\+Index}}{{\ttfamily node.\+source\+Index}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26117}
The zero-\/based index of the node within the original source string.

Within the following CSS, the {\ttfamily .baz} class node will have a {\ttfamily source\+Index} of {\ttfamily 12}.


\begin{DoxyCode}{0}
\DoxyCodeLine{.foo,\ .bar,\ .baz\ \{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26118}{}\doxysection{\texorpdfstring{Container types}{Container types}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26118}
The {\ttfamily root}, {\ttfamily selector}, and {\ttfamily pseudo} nodes have some helper methods for working with their children.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26119}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+nodes}}{{\ttfamily container.\+nodes}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26119}
An array of the container\textquotesingle{}s children.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Input:\ h1\ h2}
\DoxyCodeLine{selectors.at(0).nodes.length\ \ \ //\ =>\ 3}
\DoxyCodeLine{selectors.at(0).nodes[0].value\ //\ =>\ 'h1'}
\DoxyCodeLine{selectors.at(0).nodes[1].value\ //\ =>\ '\ '}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26120}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+first} \& {\ttfamily container.\+last}}{{\ttfamily container.\+first} \& {\ttfamily container.\+last}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26120}
The first/last child of the container.


\begin{DoxyCode}{0}
\DoxyCodeLine{selector.first\ ===\ selector.nodes[0];}
\DoxyCodeLine{selector.last\ ===\ selector.nodes[selector.nodes.length\ -\/\ 1];}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26121}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+at(index)}}{{\ttfamily container.\+at(index)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26121}
Returns the node at position {\ttfamily index}.


\begin{DoxyCode}{0}
\DoxyCodeLine{selector.at(0)\ ===\ selector.first;}
\DoxyCodeLine{selector.at(0)\ ===\ selector.nodes[0];}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily index}\+: The index of the node to return.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26122}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+at\+Position(line, column)}}{{\ttfamily container.\+at\+Position(line, column)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26122}
Returns the node at the source position {\ttfamily line} and {\ttfamily column}.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ Input:\ :not(.foo),\(\backslash\)n\#foo\ >\ :matches(ol,\ ul)}
\DoxyCodeLine{selector.atPosition(1,\ 1);\ //\ =>\ :not(.foo)}
\DoxyCodeLine{selector.atPosition(2,\ 1);\ //\ =>\ \(\backslash\)n\#foo}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily line}\+: The line number of the node to return.
\item {\ttfamily column}\+: The column number of the node to return.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26123}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+index(node)}}{{\ttfamily container.\+index(node)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26123}
Return the index of the node within its container.


\begin{DoxyCode}{0}
\DoxyCodeLine{selector.index(selector.nodes[2])\ //\ =>\ 2}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily node}\+: A node within the current container.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26124}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+length}}{{\ttfamily container.\+length}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26124}
Proxy to the length of the container\textquotesingle{}s nodes.


\begin{DoxyCode}{0}
\DoxyCodeLine{container.length\ ===\ container.nodes.length}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26125}{}\doxysubsection{\texorpdfstring{{\ttfamily container} Array iterators}{{\ttfamily container} Array iterators}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26125}
The container class provides proxies to certain Array methods; these are\+:


\begin{DoxyItemize}
\item {\ttfamily container.\+map === container.\+nodes.\+map}
\item {\ttfamily container.\+reduce === container.\+nodes.\+reduce}
\item {\ttfamily container.\+every === container.\+nodes.\+every}
\item {\ttfamily container.\+some === container.\+nodes.\+some}
\item {\ttfamily container.\+filter === container.\+nodes.\+filter}
\item {\ttfamily container.\+sort === container.\+nodes.\+sort}
\end{DoxyItemize}

Note that these methods only work on a container\textquotesingle{}s immediate children; recursive iteration is provided by {\ttfamily container.\+walk}.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26126}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+each(callback)}}{{\ttfamily container.\+each(callback)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26126}
Iterate the container\textquotesingle{}s immediate children, calling {\ttfamily callback} for each child. You may return {\ttfamily false} within the callback to break the iteration.


\begin{DoxyCode}{0}
\DoxyCodeLine{let\ className;}
\DoxyCodeLine{selectors.each((selector,\ index)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ if\ (selector.type\ ===\ 'class')\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ className\ =\ selector.value;}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ false;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Note that unlike {\ttfamily Array\#for\+Each()}, this iterator is safe to use whilst adding or removing nodes from the container.

Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily callback (function)}\+: A function to call for each node, which receives {\ttfamily node} and {\ttfamily index} arguments.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26127}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+walk(callback)}}{{\ttfamily container.\+walk(callback)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26127}
Like {\ttfamily container\#each}, but will also iterate child nodes as long as they are {\ttfamily container} types.


\begin{DoxyCode}{0}
\DoxyCodeLine{selectors.walk((selector,\ index)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ //\ all\ nodes}
\DoxyCodeLine{\});}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily callback (function)}\+: A function to call for each node, which receives {\ttfamily node} and {\ttfamily index} arguments.
\end{DoxyItemize}

This iterator is safe to use whilst mutating {\ttfamily container.\+nodes}, like {\ttfamily container\#each}.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26128}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+walk} proxies}{{\ttfamily container.\+walk} proxies}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26128}
The container class provides proxy methods for iterating over types of nodes, so that it is easier to write modules that target specific selectors. Those methods are\+:


\begin{DoxyItemize}
\item {\ttfamily container.\+walk\+Attributes}
\item {\ttfamily container.\+walk\+Classes}
\item {\ttfamily container.\+walk\+Combinators}
\item {\ttfamily container.\+walk\+Comments}
\item {\ttfamily container.\+walk\+Ids}
\item {\ttfamily container.\+walk\+Nesting}
\item {\ttfamily container.\+walk\+Pseudos}
\item {\ttfamily container.\+walk\+Tags}
\item {\ttfamily container.\+walk\+Universals}
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26129}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+split(callback)}}{{\ttfamily container.\+split(callback)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26129}
This method allows you to split a group of nodes by returning {\ttfamily true} from a callback. It returns an array of arrays, where each inner array corresponds to the groups that you created via the callback.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ (input)\ =>\ h1\ h2>>h3}
\DoxyCodeLine{const\ list\ =\ selectors.first.split(selector\ =>\ \{}
\DoxyCodeLine{\ \ \ \ return\ selector.type\ ===\ 'combinator';}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ (node\ values)\ =>\ [['h1',\ '\ '],\ ['h2',\ '>>'],\ ['h3']]}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily callback (function)}\+: A function to call for each node, which receives {\ttfamily node} as an argument.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26130}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+prepend(node)} \& {\ttfamily container.\+append(node)}}{{\ttfamily container.\+prepend(node)} \& {\ttfamily container.\+append(node)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26130}
Add a node to the start/end of the container. Note that doing so will set the parent property of the node to this container.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ id\ =\ parser.id(\{value:\ 'search'\});}
\DoxyCodeLine{selector.append(id);}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily node}\+: The node to add.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26131}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+insert\+Before(old, new)} \& {\ttfamily container.\+insert\+After(old, new)}}{{\ttfamily container.\+insert\+Before(old, new)} \& {\ttfamily container.\+insert\+After(old, new)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26131}
Add a node before or after an existing node in a container\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{selectors.walk(selector\ =>\ \{}
\DoxyCodeLine{\ \ \ \ if\ (selector.type\ !==\ 'class')\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ const\ className\ =\ parser.className(\{value:\ 'theme-\/name'\});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ selector.parent.insertAfter(selector,\ className);}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily old}\+: The existing node in the container.
\item {\ttfamily new}\+: The new node to add before/after the existing node.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26132}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+remove\+Child(node)}}{{\ttfamily container.\+remove\+Child(node)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26132}
Remove the node from the container. Note that you can also use {\ttfamily node.\+remove()} if you would like to remove just a single node.


\begin{DoxyCode}{0}
\DoxyCodeLine{selector.length\ //\ =>\ 2}
\DoxyCodeLine{selector.remove(id)}
\DoxyCodeLine{selector.length\ //\ =>\ 1;}
\DoxyCodeLine{id.parent\ \ \ \ \ \ \ //\ undefined}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily node}\+: The node to remove.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26133}{}\doxysubsection{\texorpdfstring{{\ttfamily container.\+remove\+All()} or {\ttfamily container.\+empty()}}{{\ttfamily container.\+remove\+All()} or {\ttfamily container.\+empty()}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26133}
Remove all children from the container.


\begin{DoxyCode}{0}
\DoxyCodeLine{selector.removeAll();}
\DoxyCodeLine{selector.length\ //\ =>\ 0}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26134}{}\doxysection{\texorpdfstring{Root nodes}{Root nodes}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26134}
A root node represents a comma separated list of selectors. Indeed, all a root\textquotesingle{}s {\ttfamily to\+String()} method does is join its selector children with a \textquotesingle{},\textquotesingle{}. Other than this, it has no special functionality and acts like a container.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26135}{}\doxysubsection{\texorpdfstring{{\ttfamily root.\+trailing\+Comma}}{{\ttfamily root.\+trailing\+Comma}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26135}
This will be set to {\ttfamily true} if the input has a trailing comma, in order to support parsing of legacy CSS hacks.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26136}{}\doxysection{\texorpdfstring{Selector nodes}{Selector nodes}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26136}
A selector node represents a single complex selector. For example, this selector string {\ttfamily h1 h2 h3, \mbox{[}href\mbox{]} \texorpdfstring{$>$}{>} p}, is represented as two selector nodes. It has no special functionality of its own.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26137}{}\doxysection{\texorpdfstring{Pseudo nodes}{Pseudo nodes}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26137}
A pseudo selector extends a container node; if it has any parameters of its own (such as {\ttfamily h1\+:not(h2, h3)}), they will be its children. Note that the pseudo {\ttfamily value} will always contain the colons preceding the pseudo identifier. This is so that both {\ttfamily \+:before} and {\ttfamily \+::before} are properly represented in the AST.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26138}{}\doxysection{\texorpdfstring{Attribute nodes}{Attribute nodes}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26138}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26139}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+quoted}}{{\ttfamily attribute.\+quoted}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26139}
Returns {\ttfamily true} if the attribute\textquotesingle{}s value is wrapped in quotation marks, false if it is not. Remains {\ttfamily undefined} if there is no attribute value.


\begin{DoxyCode}{0}
\DoxyCodeLine{[href=foo]\ /*\ false\ */}
\DoxyCodeLine{[href='foo']\ /*\ true\ */}
\DoxyCodeLine{[href="{}foo"{}]\ /*\ true\ */}
\DoxyCodeLine{[href]\ /*\ undefined\ */}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26140}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+qualified\+Attribute}}{{\ttfamily attribute.\+qualified\+Attribute}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26140}
Returns the attribute name qualified with the namespace if one is given.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26141}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+offset\+Of(part)}}{{\ttfamily attribute.\+offset\+Of(part)}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26141}
Returns the offset of the attribute part specified relative to the start of the node of the output string. This is useful in raising error messages about a specific part of the attribute, especially in combination with {\ttfamily attribute.\+source\+Index}.

Returns {\ttfamily -\/1} if the name is invalid or the value doesn\textquotesingle{}t exist in this attribute.

The legal values for {\ttfamily part} are\+:


\begin{DoxyItemize}
\item {\ttfamily "{}ns"{}} -\/ alias for "{}namespace"{}
\item {\ttfamily "{}namespace"{}} -\/ the namespace if it exists.
\item {\ttfamily "{}attribute"{}} -\/ the attribute name
\item {\ttfamily "{}attribute\+NS"{}} -\/ the start of the attribute or its namespace
\item {\ttfamily "{}operator"{}} -\/ the match operator of the attribute
\item {\ttfamily "{}value"{}} -\/ The value (string or identifier)
\item {\ttfamily "{}insensitive"{}} -\/ the case insensitivity flag
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26142}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+raws.\+unquoted}}{{\ttfamily attribute.\+raws.\+unquoted}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26142}
Returns the unquoted content of the attribute\textquotesingle{}s value. Remains {\ttfamily undefined} if there is no attribute value.


\begin{DoxyCode}{0}
\DoxyCodeLine{[href=foo]\ /*\ foo\ */}
\DoxyCodeLine{[href='foo']\ /*\ foo\ */}
\DoxyCodeLine{[href="{}foo"{}]\ /*\ foo\ */}
\DoxyCodeLine{[href]\ /*\ undefined\ */}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26143}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+spaces}}{{\ttfamily attribute.\+spaces}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26143}
Like {\ttfamily node.\+spaces} with the {\ttfamily before} and {\ttfamily after} values containing the spaces around the element, the parts of the attribute can also have spaces before and after them. The for each of {\ttfamily attribute}, {\ttfamily operator}, {\ttfamily value} and {\ttfamily insensitive} there is corresponding property of the same nam in {\ttfamily node.\+spaces} that has an optional {\ttfamily before} or {\ttfamily after} string containing only whitespace.

Note that corresponding values in {\ttfamily attributes.\+raws.\+spaces} contain values including any comments. If set, these values will override the {\ttfamily attribute.\+spaces} value. Take care to remove them if changing {\ttfamily attribute.\+spaces}.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26144}{}\doxysubsection{\texorpdfstring{{\ttfamily attribute.\+raws}}{{\ttfamily attribute.\+raws}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26144}
The raws object stores comments and other information necessary to re-\/render the node exactly as it was in the source.

If a comment is embedded within the identifiers for the {\ttfamily namespace}, {\ttfamily attribute} or {\ttfamily value} then a property is placed in the raws for that value containing the full source of the propery including comments.

If a comment is embedded within the space between parts of the attribute then the raw for that space is set accordingly.

Setting an attribute\textquotesingle{}s property {\ttfamily raws} value to be deleted.

For now, changing the spaces required also updating or removing any of the raws values that override them.

Example\+: {\ttfamily \mbox{[} /\texorpdfstring{$\ast$}{*}before\texorpdfstring{$\ast$}{*}/ href /\texorpdfstring{$\ast$}{*} after-\/attr \texorpdfstring{$\ast$}{*}/ = /\texorpdfstring{$\ast$}{*} after-\/operator \texorpdfstring{$\ast$}{*}/ te/\texorpdfstring{$\ast$}{*}inside-\/value\texorpdfstring{$\ast$}{*}/st/\texorpdfstring{$\ast$}{*} wow \texorpdfstring{$\ast$}{*}/ /\texorpdfstring{$\ast$}{*}omg\texorpdfstring{$\ast$}{*}/i/\texorpdfstring{$\ast$}{*}bbq\texorpdfstring{$\ast$}{*}/ /\texorpdfstring{$\ast$}{*}whodoesthis\texorpdfstring{$\ast$}{*}/\mbox{]}} would parse as\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ attribute:\ "{}href"{},}
\DoxyCodeLine{\ \ operator:\ "{}="{},}
\DoxyCodeLine{\ \ value:\ "{}test"{},}
\DoxyCodeLine{\ \ spaces:\ \{}
\DoxyCodeLine{\ \ \ \ before:\ '',}
\DoxyCodeLine{\ \ \ \ after:\ '',}
\DoxyCodeLine{\ \ \ \ attribute:\ \{\ before:\ '\ \ ',\ after:\ '\ \ '\ \},}
\DoxyCodeLine{\ \ \ \ operator:\ \{\ after:\ '\ \ '\ \},}
\DoxyCodeLine{\ \ \ \ value:\ \{\ after:\ '\ '\ \},}
\DoxyCodeLine{\ \ \ \ insensitive:\ \{\ after:\ '\ '\ \}}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ raws:\ \{}
\DoxyCodeLine{\ \ \ \ spaces:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ attribute:\ \{\ before:\ '\ /*before*/\ ',\ after:\ '\ /*\ after-\/attr\ */\ '\ \},}
\DoxyCodeLine{\ \ \ \ \ \ operator:\ \{\ after:\ '\ /*\ after-\/operator\ */\ '\ \},}
\DoxyCodeLine{\ \ \ \ \ \ value:\ \{\ after:\ '/*\ wow\ */\ /*omg*/'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ insensitive:\ \{\ after:\ '/*bbq*/\ /*whodoesthis*/'\ \}}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ unquoted:\ 'test',}
\DoxyCodeLine{\ \ \ \ value:\ 'te/*inside-\/value*/st'}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26145}{}\doxysection{\texorpdfstring{{\ttfamily Processor}}{{\ttfamily Processor}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26145}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26146}{}\doxysubsection{\texorpdfstring{{\ttfamily Processor\+Options}}{{\ttfamily Processor\+Options}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26146}

\begin{DoxyItemize}
\item {\ttfamily lossless} -\/ When {\ttfamily true}, whitespace is preserved. Defaults to {\ttfamily true}.
\item {\ttfamily update\+Selector} -\/ When {\ttfamily true}, if any processor methods are passed a postcss {\ttfamily Rule} node instead of a string, then that Rule\textquotesingle{}s selector is updated with the results of the processing. Defaults to {\ttfamily true}.
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26147}{}\doxysubsection{\texorpdfstring{{\ttfamily process\texorpdfstring{$\vert$}{|}process\+Sync(selectors, \mbox{[}options\mbox{]})}}{{\ttfamily process\texorpdfstring{$\vert$}{|}process\+Sync(selectors, \mbox{[}options\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26147}
Processes the {\ttfamily selectors}, returning a string from the result of processing.

Note\+: when the {\ttfamily update\+Selector} option is set, the rule\textquotesingle{}s selector will be updated with the resulting string.

{\bfseries{Example\+:}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ parser\ =\ require("{}postcss-\/selector-\/parser"{});}
\DoxyCodeLine{const\ processor\ =\ parser();}
\DoxyCodeLine{}
\DoxyCodeLine{let\ result\ =\ processor.processSync('\ .class');}
\DoxyCodeLine{console.log(result);}
\DoxyCodeLine{//\ =>\ \ .class}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Asynchronous\ operation}
\DoxyCodeLine{let\ promise\ =\ processor.process('\ .class').then(result\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(result)}
\DoxyCodeLine{\ \ \ \ //\ =>\ .class}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{//\ To\ have\ the\ parser\ normalize\ whitespace\ values,\ utilize\ the\ options}
\DoxyCodeLine{result\ =\ processor.processSync('\ \ .class\ \ ',\ \{lossless:\ false\});}
\DoxyCodeLine{console.log(result);}
\DoxyCodeLine{//\ =>\ .class}
\DoxyCodeLine{}
\DoxyCodeLine{//\ For\ better\ syntax\ errors,\ pass\ a\ PostCSS\ Rule\ node.}
\DoxyCodeLine{const\ postcss\ =\ require('postcss');}
\DoxyCodeLine{rule\ =\ postcss.rule(\{selector:\ '\ \#foo\ \ \ \ >\ a,\ \ .class\ \ '\});}
\DoxyCodeLine{processor.process(rule,\ \{lossless:\ false,\ updateSelector:\ true\}).then(result\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(result);}
\DoxyCodeLine{\ \ \ \ //\ =>\ \#foo>a,.class}
\DoxyCodeLine{\ \ \ \ console.log("{}rule:"{},\ rule.selector);}
\DoxyCodeLine{\ \ \ \ //\ =>\ rule:\ \#foo>a,.class}
\DoxyCodeLine{\})}

\end{DoxyCode}


Arguments\+:


\begin{DoxyItemize}
\item {\ttfamily selectors (string\texorpdfstring{$\vert$}{|}postcss.Rule)}\+: Either a selector string or a Post\+CSS Rule node.
\item {\ttfamily \mbox{[}options\mbox{]} (object)}\+: Process options
\end{DoxyItemize}\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26148}{}\doxysubsection{\texorpdfstring{{\ttfamily ast\texorpdfstring{$\vert$}{|}ast\+Sync(selectors, \mbox{[}options\mbox{]})}}{{\ttfamily ast\texorpdfstring{$\vert$}{|}ast\+Sync(selectors, \mbox{[}options\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26148}
Like {\ttfamily process()} and {\ttfamily process\+Sync()} but after processing the {\ttfamily selectors} these methods return the {\ttfamily Root} node of the result instead of a string.

Note\+: when the {\ttfamily update\+Selector} option is set, the rule\textquotesingle{}s selector will be updated with the resulting string.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26149}{}\doxysubsection{\texorpdfstring{{\ttfamily transform\texorpdfstring{$\vert$}{|}transform\+Sync(selectors, \mbox{[}options\mbox{]})}}{{\ttfamily transform\texorpdfstring{$\vert$}{|}transform\+Sync(selectors, \mbox{[}options\mbox{]})}}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26149}
Like {\ttfamily process()} and {\ttfamily process\+Sync()} but after processing the {\ttfamily selectors} these methods return the value returned by the processor callback.

Note\+: when the {\ttfamily update\+Selector} option is set, the rule\textquotesingle{}s selector will be updated with the resulting string.\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26150}{}\doxysubsection{\texorpdfstring{Error Handling Within Selector Processors}{Error Handling Within Selector Processors}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26150}
The root node passed to the selector processor callback has a method {\ttfamily error(message, options)} that returns an error object. This method should always be used to raise errors relating to the syntax of selectors. The options to this method are passed to postcss\textquotesingle{}s error constructor (\href{http://postcss.org/api/\#container-error}{\texttt{ documentation}}).\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26151}{}\doxysubsubsection{\texorpdfstring{Async Error Example}{Async Error Example}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26151}

\begin{DoxyCode}{0}
\DoxyCodeLine{let\ processor\ =\ (root)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ return\ new\ Promise((resolve,\ reject)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ root.walkClasses((classNode)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ if\ (/\string^(.*)[-\/\_]/.test(classNode.value))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ let\ msg\ =\ "{}classes\ may\ not\ have\ underscores\ or\ dashes\ in\ them"{};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ reject(root.error(msg,\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ index:\ classNode.sourceIndex\ +\ RegExp.\$1.length\ +\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ word:\ classNode.value}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ resolve();}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ postcss\ =\ require("{}postcss"{});}
\DoxyCodeLine{const\ parser\ =\ require("{}postcss-\/selector-\/parser"{});}
\DoxyCodeLine{const\ selectorProcessor\ =\ parser(processor);}
\DoxyCodeLine{const\ plugin\ =\ postcss.plugin('classValidator',\ (options)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ return\ (root)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ let\ promises\ =\ [];}
\DoxyCodeLine{\ \ \ \ \ \ \ \ root.walkRules(rule\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ promises.push(selectorProcessor.process(rule));}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ Promise.all(promises);}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\});}
\DoxyCodeLine{postcss(plugin()).process(`}
\DoxyCodeLine{.foo-\/bar\ \{}
\DoxyCodeLine{\ \ color:\ red;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\`{}.trim(),\ \{from:\ 'test.css'\}).catch((e)\ =>\ console.error(e.toString()));}
\DoxyCodeLine{}
\DoxyCodeLine{//\ CssSyntaxError:\ classValidator:\ ./test.css:1:5:\ classes\ may\ not\ have\ underscores\ or\ dashes\ in\ them}
\DoxyCodeLine{//}
\DoxyCodeLine{//\ >\ 1\ |\ .foo-\/bar\ \{}
\DoxyCodeLine{//\ \ \ \ \ |\ \ \ \ \ \string^}
\DoxyCodeLine{//\ \ \ 2\ |\ \ \ color:\ red;}
\DoxyCodeLine{//\ \ \ 3\ |\ \}}

\end{DoxyCode}
\hypertarget{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26152}{}\doxysubsubsection{\texorpdfstring{Synchronous Error Example}{Synchronous Error Example}}\label{md_node__modules_2postcss-selector-parser_2_a_p_i_autotoc_md26152}

\begin{DoxyCode}{0}
\DoxyCodeLine{let\ processor\ =\ (root)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ root.walkClasses((classNode)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ if\ (/.*[-\/\_]/.test(classNode.value))\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ let\ msg\ =\ "{}classes\ may\ not\ have\ underscores\ or\ dashes\ in\ them"{};}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ throw\ root.error(msg,\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ index:\ classNode.sourceIndex,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ word:\ classNode.value}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{const\ postcss\ =\ require("{}postcss"{});}
\DoxyCodeLine{const\ parser\ =\ require("{}postcss-\/selector-\/parser"{});}
\DoxyCodeLine{const\ selectorProcessor\ =\ parser(processor);}
\DoxyCodeLine{const\ plugin\ =\ postcss.plugin('classValidator',\ (options)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ return\ (root)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ root.walkRules(rule\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ selectorProcessor.processSync(rule);}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \});}
\DoxyCodeLine{\ \ \ \ \};}
\DoxyCodeLine{\});}
\DoxyCodeLine{postcss(plugin()).process(`}
\DoxyCodeLine{.foo-\/bar\ \{}
\DoxyCodeLine{\ \ color:\ red;}
\DoxyCodeLine{\}}
\DoxyCodeLine{\`{}.trim(),\ \{from:\ 'test.css'\}).catch((e)\ =>\ console.error(e.toString()));}
\DoxyCodeLine{}
\DoxyCodeLine{//\ CssSyntaxError:\ classValidator:\ ./test.css:1:5:\ classes\ may\ not\ have\ underscores\ or\ dashes\ in\ them}
\DoxyCodeLine{//}
\DoxyCodeLine{//\ >\ 1\ |\ .foo-\/bar\ \{}
\DoxyCodeLine{//\ \ \ \ \ |\ \ \ \ \ \string^}
\DoxyCodeLine{//\ \ \ 2\ |\ \ \ color:\ red;}
\DoxyCodeLine{//\ \ \ 3\ |\ \}}

\end{DoxyCode}
 