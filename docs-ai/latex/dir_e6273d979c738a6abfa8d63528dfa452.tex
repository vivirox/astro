\doxysection{node\+\_\+modules/vscode-\/jsonrpc Directory Reference}
\hypertarget{dir_e6273d979c738a6abfa8d63528dfa452}{}\label{dir_e6273d979c738a6abfa8d63528dfa452}\index{node\_modules/vscode-\/jsonrpc Directory Reference@{node\_modules/vscode-\/jsonrpc Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://npmjs.org/package/vscode-jsonrpc}{\texttt{ }} \href{https://npmjs.org/package/vscode-jsonrpc}{\texttt{ }} \href{https://travis-ci.org/Microsoft/vscode-languageserver-node}{\texttt{ }}

This npm module implements the base messaging protocol spoken between a VSCode language server and a VSCode language client.

The npm module can also be used standalone to establish a \href{http://www.jsonrpc.org/}{\texttt{ JSON-\/\+RPC}} channel between a client and a server. Below an example how to setup a JSON-\/\+RPC connection. First the client side.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ *\ as\ cp\ from\ 'child\_process';}
\DoxyCodeLine{import\ *\ as\ rpc\ from\ 'vscode-\/jsonrpc/node';}
\DoxyCodeLine{}
\DoxyCodeLine{let\ childProcess\ =\ cp.spawn(...);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Use\ stdin\ and\ stdout\ for\ communication:}
\DoxyCodeLine{let\ connection\ =\ rpc.createMessageConnection(}
\DoxyCodeLine{\ \ \ \ new\ rpc.StreamMessageReader(childProcess.stdout),}
\DoxyCodeLine{\ \ \ \ new\ rpc.StreamMessageWriter(childProcess.stdin));}
\DoxyCodeLine{}
\DoxyCodeLine{let\ notification\ =\ new\ rpc.NotificationType<string,\ void>('testNotification');}
\DoxyCodeLine{}
\DoxyCodeLine{connection.listen();}
\DoxyCodeLine{}
\DoxyCodeLine{connection.sendNotification(notification,\ 'Hello\ World');}

\end{DoxyCode}


The server side looks very symmetrical\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ *\ as\ rpc\ from\ 'vscode-\/jsonrpc/node';}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{let\ connection\ =\ rpc.createMessageConnection(}
\DoxyCodeLine{\ \ \ \ new\ rpc.StreamMessageReader(process.stdin),}
\DoxyCodeLine{\ \ \ \ new\ rpc.StreamMessageWriter(process.stdout));}
\DoxyCodeLine{}
\DoxyCodeLine{let\ notification\ =\ new\ rpc.NotificationType<string,\ void>('testNotification');}
\DoxyCodeLine{connection.onNotification(notification,\ (param:\ string)\ =>\ \{}
\DoxyCodeLine{\ \ \ \ console.log(param);\ //\ This\ prints\ Hello\ World}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{connection.listen();}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md35378}{}\doxysubsection{\texorpdfstring{History}{History}}\label{README.md_autotoc_md35378}
\hypertarget{README.md_autotoc_md35379}{}\doxysubsubsubsection{\texorpdfstring{5.\+0.\+0}{5.\+0.\+0}}\label{README.md_autotoc_md35379}

\begin{DoxyItemize}
\item add progress support
\item move JS target to ES2017
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35380}{}\doxysubsubsubsection{\texorpdfstring{4.\+0.\+0}{4.\+0.\+0}}\label{README.md_autotoc_md35380}

\begin{DoxyItemize}
\item move JS target to ES6.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35381}{}\doxysubsubsubsection{\texorpdfstring{3.\+0.\+0\+:}{3.\+0.\+0\+:}}\label{README.md_autotoc_md35381}

\begin{DoxyItemize}
\item converted the NPM module to use Type\+Script 2.\+0.\+3.
\item added strict null support.
\item support for passing more than one parameter to a request or notification.
\item Breaking changes\+:
\begin{DoxyItemize}
\item due to the use of Type\+Script 2.\+0.\+3 and differences in d.\+ts generation users of the new version need to move to Type\+Script 2.\+0.\+3 as well.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35382}{}\doxysubsubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md35382}
\href{https://github.com/Microsoft/vscode-languageserver-node/blob/master/License.txt}{\texttt{ MIT}} 