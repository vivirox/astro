\chapter{Changelog}
\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g}{}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g}\index{Changelog@{Changelog}}
\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15638}%
\Hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15638}%
\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15639}{}\doxysubsection{\texorpdfstring{v0.\+7.\+0}{v0.\+7.\+0}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15639}

\begin{DoxyItemize}
\item Bidirectional Context (the order of words can now vary, does not increase memory when using bidirectional context)
\item New memory-\/friendly strategy for indexes (switchable, saves up to 50\% of memory for each index, slightly decrease performance)
\item Better scoring calculation (one of the biggest concerns of the old implementation was that the order of arrays processed in the intersection has affected the order of relevance in the final result)
\item Fix resolution (the resolution in the old implementation was not fully stretched through the whole range in some cases)
\item Skip words (optionally, automatically skip words from the context chain which are too short)
\item Hugely improves performance of long queries (up to 450x faster!) and also memory allocation (up to 250x less memory)
\item New fast-\/update strategy (optionally, hugely improves performance of all updates and removals of indexed contents up to 2850x)
\item Improved auto-\/balanced cache (keep and expire cache by popularity)
\item Append contents to already existing entries (already indexed documents or contents)
\item New method "{}contain"{} to check if an ID was already indexed
\item Access documents directly from internal store (read/write)
\item Suggestions are hugely improved, falls back from context search all the way down to single term match
\item Document descriptor has now array support (optionally adds array entries via the new {\ttfamily append} under the hood to provide a unique relevance context for each entry)
\item Document storage handler gets improved
\item Results from document index now grouped by field (this is one of the few bigger breaking changes which needs migrations of your old code)
\item Boolean search has a new concept (use in combination of the new result structure)
\item Node.\+js Worker Threads
\item Improved default latin encoders
\item New parallelization model and workload distribution
\item Improved Export/\+Import
\item Tag Search
\item Offset pagination
\item Enhanced Field Search
\item Improved sorting by relevance (score)
\item Added Context Scoring (context index has its own resolution)
\item Enhanced charset normalization
\item Improved bundler (support for inline Web\+Worker)
\end{DoxyItemize}

These features have been removed\+:


\begin{DoxyItemize}
\item Where-\/\+Clause
\item Index Information {\ttfamily index.\+info()}
\item Paging Cursor (was replaced by {\ttfamily offset})
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15640}{}\doxysubsubsection{\texorpdfstring{Migration Quick Overview}{Migration Quick Overview}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15640}
\begin{quote}
The "{}async"{} options was removed, instead you can call each method in its async version, e.\+g. {\ttfamily index.\+add\+Async} or {\ttfamily index.\+search\+Async}. \end{quote}


\begin{quote}
Define document fields as object keys is not longer supported due to the unification of all option payloads. \end{quote}


A full configuration example for a context-\/based index\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ index\ =\ new\ Index(\{}
\DoxyCodeLine{\ \ \ \ tokenize:\ "{}strict"{},}
\DoxyCodeLine{\ \ \ \ resolution:\ 9,}
\DoxyCodeLine{\ \ \ \ minlength:\ 3,}
\DoxyCodeLine{\ \ \ \ optimize:\ true,}
\DoxyCodeLine{\ \ \ \ fastupdate:\ true,}
\DoxyCodeLine{\ \ \ \ cache:\ 100,}
\DoxyCodeLine{\ \ \ \ context:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ depth:\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ resolution:\ 3,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ bidirectional:\ true}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


The {\ttfamily resolution} could be set also for the contextual index.

A full configuration example for a document based index\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ index\ =\ new\ Document(\{}
\DoxyCodeLine{\ \ \ \ tokenize:\ "{}forward"{},}
\DoxyCodeLine{\ \ \ \ optimize:\ true,}
\DoxyCodeLine{\ \ \ \ resolution:\ 9,}
\DoxyCodeLine{\ \ \ \ cache:\ 100,}
\DoxyCodeLine{\ \ \ \ worker:\ true,}
\DoxyCodeLine{\ \ \ \ document:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ id:\ "{}id"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ tag:\ "{}tag"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ store:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ "{}title"{},\ "{}content"{}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ],}
\DoxyCodeLine{\ \ \ \ \ \ \ \ index:\ [\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ field:\ "{}title"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ tokenize:\ "{}forward"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ optimize:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ resolution:\ 9}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ field:\ \ "{}content"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ tokenize:\ "{}strict"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ optimize:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ resolution:\ 9,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ minlength:\ 3,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ context:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ depth:\ 1,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ resolution:\ 3}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \}]}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{\});}

\end{DoxyCode}


A full configuration example for a document search\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{index.search(\{}
\DoxyCodeLine{\ \ \ \ enrich:\ true,}
\DoxyCodeLine{\ \ \ \ bool:\ "{}and"{},}
\DoxyCodeLine{\ \ \ \ tag:\ ["{}cat"{},\ "{}dog"{}],}
\DoxyCodeLine{\ \ \ \ index:\ [\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ field:\ "{}title"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ query:\ "{}some\ query"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ limit:\ 100,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ suggest:\ true}
\DoxyCodeLine{\ \ \ \ \},\{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ field:\ "{}content"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ query:\ "{}same\ or\ other\ query"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ limit:\ 100,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ suggest:\ true}
\DoxyCodeLine{\ \ \ \ \}]}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15641}{}\doxysubsubsection{\texorpdfstring{Where Clause Replacement}{Where Clause Replacement}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15641}
Old Syntax\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ result\ =\ index.where(\{}
\DoxyCodeLine{\ \ \ \ cat:\ "{}comedy"{},}
\DoxyCodeLine{\ \ \ \ year:\ "{}2018"{}}
\DoxyCodeLine{\});}

\end{DoxyCode}


Equivalent Syntax (0.\+7.\+x)\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ data\ =\ Object.values(index.store);}

\end{DoxyCode}


The line above retrieves data from the document store (just useful when not already available in your runtime).


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ result\ =\ data.filter(function(item)\{\ }
\DoxyCodeLine{\ \ \ \ return\ item.cat\ ===\ "{}comedy"{}\ \&\&\ item.year\ ===\ "{}2018"{};}
\DoxyCodeLine{\});}

\end{DoxyCode}


Also considering using the \href{https://github.com/nextapps-de/flexsearch\#tags}{\texttt{ Tag-\/\+Search}} feature, which partially replaces the Where-\/\+Clause with a huge performance boost.\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15642}{}\doxysubsection{\texorpdfstring{v0.\+6.\+0}{v0.\+6.\+0}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15642}

\begin{DoxyItemize}
\item Pagination
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15643}{}\doxysubsection{\texorpdfstring{v0.\+5.\+3}{v0.\+5.\+3}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15643}

\begin{DoxyItemize}
\item Logical Operator
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15644}{}\doxysubsection{\texorpdfstring{v0.\+5.\+2}{v0.\+5.\+2}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15644}

\begin{DoxyItemize}
\item Intersect Partial Results
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15645}{}\doxysubsection{\texorpdfstring{v0.\+5.\+1}{v0.\+5.\+1}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15645}

\begin{DoxyItemize}
\item Customizable Scoring Resolution
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15646}{}\doxysubsection{\texorpdfstring{v0.\+5.\+0}{v0.\+5.\+0}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15646}

\begin{DoxyItemize}
\item Where / Find Documents
\item Document Tags
\item Custom Sort
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15647}{}\doxysubsection{\texorpdfstring{v0.\+4.\+0}{v0.\+4.\+0}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15647}

\begin{DoxyItemize}
\item Index Documents (Field-\/\+Search)
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15648}{}\doxysubsection{\texorpdfstring{v0.\+3.\+6}{v0.\+3.\+6}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15648}

\begin{DoxyItemize}
\item Right-\/\+To-\/\+Left Support
\item CJK Word Splitting Support
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15649}{}\doxysubsection{\texorpdfstring{v0.\+3.\+5}{v0.\+3.\+5}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15649}

\begin{DoxyItemize}
\item Promise Support
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15650}{}\doxysubsection{\texorpdfstring{v0.\+3.\+4}{v0.\+3.\+4}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15650}

\begin{DoxyItemize}
\item Export / Import Indexes (Serialize)
\end{DoxyItemize}\hypertarget{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15651}{}\doxysubsection{\texorpdfstring{v0.\+3.\+0}{v0.\+3.\+0}}\label{md_node__modules_2flexsearch_2_c_h_a_n_g_e_l_o_g_autotoc_md15651}

\begin{DoxyItemize}
\item Profiler Support 
\end{DoxyItemize}