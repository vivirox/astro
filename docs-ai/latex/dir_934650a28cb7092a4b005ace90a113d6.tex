\doxysection{node\+\_\+modules/dset Directory Reference}
\hypertarget{dir_934650a28cb7092a4b005ace90a113d6}{}\label{dir_934650a28cb7092a4b005ace90a113d6}\index{node\_modules/dset Directory Reference@{node\_modules/dset Directory Reference}}


\doxysubsection{Detailed Description}
\begin{quote}
A tiny (197B) utility for safely writing deep Object values\texorpdfstring{$\sim$}{\string~}! \end{quote}


For {\itshape accessing} deep object properties, please see \href{https://github.com/developit/dlv}{\texttt{ {\ttfamily dlv}}}.

\begin{quote}
{\bfseries{Using Graph\+QL?}} You may want {\ttfamily dset/merge} – see Merging for more info. \end{quote}
\hypertarget{readme.md_autotoc_md12288}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md12288}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ npm\ install\ -\/-\/save\ dset}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12289}{}\doxysubsection{\texorpdfstring{Modes}{Modes}}\label{readme.md_autotoc_md12289}
There are two "{}versions"{} of {\ttfamily dset} available\+:\hypertarget{readme.md_autotoc_md12290}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily dset}}{{\ttfamily dset}}}\label{readme.md_autotoc_md12290}
\begin{quote}
{\bfseries{Size (gzip)\+:}} 197 bytes~\newline
 {\bfseries{Availability\+:}} \href{https://unpkg.com/dset/dist/index.js}{\texttt{ Common\+JS}}, \href{https://unpkg.com/dset/dist/index.mjs}{\texttt{ ES Module}}, \href{https://unpkg.com/dset/dist/index.min.js}{\texttt{ UMD}} \end{quote}



\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ dset\ \}\ from\ 'dset';}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12291}{}\doxysubsubsubsection{\texorpdfstring{{\ttfamily dset/merge}}{{\ttfamily dset/merge}}}\label{readme.md_autotoc_md12291}
\begin{quote}
{\bfseries{Size (gzip)\+:}} 307 bytes~\newline
 {\bfseries{Availability\+:}} \href{https://unpkg.com/dset/merge/index.js}{\texttt{ Common\+JS}}, \href{https://unpkg.com/dset/merge/index.mjs}{\texttt{ ES Module}}, \href{https://unpkg.com/dset/merge/index.min.js}{\texttt{ UMD}} \end{quote}



\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ dset\ \}\ from\ 'dset/merge';}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12292}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md12292}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ dset\ \}\ from\ 'dset';}
\DoxyCodeLine{}
\DoxyCodeLine{let\ foo\ =\ \{\ abc:\ 123\ \};}
\DoxyCodeLine{dset(foo,\ 'foo.bar',\ 'hello');}
\DoxyCodeLine{//\ or:\ dset(foo,\ ['foo',\ 'bar'],\ 'hello');}
\DoxyCodeLine{console.log(foo);}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ abc:\ 123,}
\DoxyCodeLine{//=>\ \ \ foo:\ \{\ bar:\ 'hello'\ \},}
\DoxyCodeLine{//=>\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{dset(foo,\ 'abc.hello',\ 'world');}
\DoxyCodeLine{//\ or:\ dset(foo,\ ['abc',\ 'hello'],\ 'world');}
\DoxyCodeLine{console.log(foo);}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ abc:\ \{\ hello:\ 'world'\ \},}
\DoxyCodeLine{//=>\ \ \ foo:\ \{\ bar:\ 'hello'\ \},}
\DoxyCodeLine{//=>\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{let\ bar\ =\ \{\ a:\ \{\ x:\ 7\ \},\ b:[1,\ 2,\ 3]\ \};}
\DoxyCodeLine{dset(bar,\ 'b.1',\ 999);}
\DoxyCodeLine{//\ or:\ dset(bar,\ ['b',\ 1],\ 999);}
\DoxyCodeLine{//\ or:\ dset(bar,\ ['b',\ '1'],\ 999);}
\DoxyCodeLine{console.log(bar);}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ a:\ \{\ x:\ 7\ \},}
\DoxyCodeLine{//=>\ \ \ b:\ [1,\ 999,\ 3],}
\DoxyCodeLine{//=>\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{dset(bar,\ 'a.y.0',\ 8);}
\DoxyCodeLine{//\ or:\ dset(bar,\ ['a',\ 'y',\ 0],\ 8);}
\DoxyCodeLine{//\ or:\ dset(bar,\ ['a',\ 'y',\ '0'],\ 8);}
\DoxyCodeLine{console.log(bar);}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ a:\ \{}
\DoxyCodeLine{//=>\ \ \ \ \ x:\ 7,}
\DoxyCodeLine{//=>\ \ \ \ \ y:\ [8],}
\DoxyCodeLine{//=>\ \ \ \},}
\DoxyCodeLine{//=>\ \ \ b:\ [1,\ 999,\ 3],}
\DoxyCodeLine{//=>\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{let\ baz\ =\ \{\};}
\DoxyCodeLine{dset(baz,\ 'a.0.b.0',\ 1);}
\DoxyCodeLine{dset(baz,\ 'a.0.b.1',\ 2);}
\DoxyCodeLine{console.log(baz);}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ a:\ [\{\ b:\ [1,\ 2]\ \}]}
\DoxyCodeLine{//=>\ \}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12293}{}\doxysubsection{\texorpdfstring{Merging}{Merging}}\label{readme.md_autotoc_md12293}
The main/default {\ttfamily dset} module forcibly writes values at the assigned key-\/path. However, in some cases, you may prefer to {\itshape merge} values at the key-\/path. For example, when using \href{https://foundation.graphql.org/news/2020/12/08/improving-latency-with-defer-and-stream-directives/}{\texttt{ Graph\+QL\textquotesingle{}s {\ttfamily @stream} and {\ttfamily @defer} directives}}, you will need to merge the response chunks into a single object/list. This is why {\ttfamily dset/merge} exists\texorpdfstring{$\sim$}{\string~}!

Below is a quick illustration of the difference between {\ttfamily dset} and {\ttfamily dset/merge}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{let\ input\ =\ \{}
\DoxyCodeLine{\ \ hello:\ \{}
\DoxyCodeLine{\ \ \ \ abc:\ 123}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{dset(input,\ 'hello',\ \{\ world:\ 123\ \});}
\DoxyCodeLine{console.log(input);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ via\ \`{}dset`}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ hello:\ \{}
\DoxyCodeLine{//=>\ \ \ \ \ world:\ 123}
\DoxyCodeLine{//=>\ \ \ \}}
\DoxyCodeLine{//=>\ \}}
\DoxyCodeLine{}
\DoxyCodeLine{//\ via\ \`{}dset/merge`}
\DoxyCodeLine{//=>\ \{}
\DoxyCodeLine{//=>\ \ \ hello:\ \{}
\DoxyCodeLine{//=>\ \ \ \ \ abc:\ 123,}
\DoxyCodeLine{//=>\ \ \ \ \ world:\ 123}
\DoxyCodeLine{//=>\ \ \ \}}
\DoxyCodeLine{//=>\ \}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12294}{}\doxysubsection{\texorpdfstring{Immutability}{Immutability}}\label{readme.md_autotoc_md12294}
As shown in the examples above, all {\ttfamily dset} interactions mutate the source object.

If you need immutable writes, please visit \href{https://github.com/fwilkerson/clean-set}{\texttt{ {\ttfamily clean-\/set}}} (182B).~\newline
 Alternatively, you may pair {\ttfamily dset} with \href{https://github.com/lukeed/klona}{\texttt{ {\ttfamily klona}}}, a 366B utility to clone your source(s). Here\textquotesingle{}s an example pairing\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{\ dset\ \}\ from\ 'dset';}
\DoxyCodeLine{import\ \{\ klona\ \}\ from\ 'klona';}
\DoxyCodeLine{}
\DoxyCodeLine{export\ function\ deepset(obj,\ path,\ val)\ \{}
\DoxyCodeLine{\ \ let\ copy\ =\ klona(obj);}
\DoxyCodeLine{\ \ dset(copy,\ path,\ val);}
\DoxyCodeLine{\ \ return\ copy;}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12295}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md12295}
\hypertarget{readme.md_autotoc_md12296}{}\doxysubsubsection{\texorpdfstring{dset(obj, path, val)}{dset(obj, path, val)}}\label{readme.md_autotoc_md12296}
Returns\+: {\ttfamily void}\hypertarget{readme.md_autotoc_md12297}{}\doxysubsubsubsection{\texorpdfstring{obj}{obj}}\label{readme.md_autotoc_md12297}
Type\+: {\ttfamily Object}

The Object to traverse \& mutate with a value.\hypertarget{readme.md_autotoc_md12298}{}\doxysubsubsubsection{\texorpdfstring{path}{path}}\label{readme.md_autotoc_md12298}
Type\+: {\ttfamily String} or {\ttfamily Array}

The key path that should receive the value. May be in {\ttfamily x.\+y.\+z} or `\mbox{[}\textquotesingle{}x', \textquotesingle{}y\textquotesingle{}, \textquotesingle{}z\textquotesingle{}\mbox{]}\`{} formats.

\begin{quote}
{\bfseries{Note\+:}} Please be aware that only the {\itshape last} key actually receives the value! \end{quote}


\begin{quote}
{\bfseries{Important\+:}} New Objects are created at each segment if there is not an existing structure.~\newline
However, when integers are encounted, Arrays are created instead! \end{quote}
\hypertarget{readme.md_autotoc_md12299}{}\doxysubsubsubsection{\texorpdfstring{value}{value}}\label{readme.md_autotoc_md12299}
Type\+: {\ttfamily Any}

The value that you want to set. Can be of any type!\hypertarget{readme.md_autotoc_md12300}{}\doxysubsection{\texorpdfstring{Benchmarks}{Benchmarks}}\label{readme.md_autotoc_md12300}
For benchmarks and full results, check out the \href{/bench}{\texttt{ {\ttfamily bench}}} directory!


\begin{DoxyCode}{0}
\DoxyCodeLine{\#\ Node\ 10.13.0}
\DoxyCodeLine{}
\DoxyCodeLine{Validation:}
\DoxyCodeLine{\ \ ✔\ set-\/value}
\DoxyCodeLine{\ \ ✔\ lodash/set}
\DoxyCodeLine{\ \ ✔\ dset}
\DoxyCodeLine{}
\DoxyCodeLine{Benchmark:}
\DoxyCodeLine{\ \ set-\/value\ \ \ \ x\ 1,701,821\ ops/sec\ ±1.81\%\ (93\ runs\ sampled)}
\DoxyCodeLine{\ \ lodash/set\ \ \ x\ \ \ 975,530\ ops/sec\ ±0.96\%\ (91\ runs\ sampled)}
\DoxyCodeLine{\ \ dset\ \ \ \ \ \ \ \ \ x\ 1,797,922\ ops/sec\ ±0.32\%\ (94\ runs\ sampled)}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md12301}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md12301}

\begin{DoxyItemize}
\item \href{https://github.com/developit/dlv}{\texttt{ dlv}} -\/ safely read from deep properties in 120 bytes
\item \href{https://github.com/lukeed/dequal}{\texttt{ dequal}} -\/ safely check for deep equality in 247 bytes
\item \href{https://github.com/lukeed/klona}{\texttt{ klona}} -\/ quickly "{}deep clone"{} data in 200 to 330 bytes
\item \href{https://github.com/fwilkerson/clean-set}{\texttt{ clean-\/set}} -\/ fast, immutable version of {\ttfamily dset} in 182 bytes
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md12302}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md12302}
MIT © \href{https://lukeed.com}{\texttt{ Luke Edwards}} 