\doxysection{node\+\_\+modules/micromark-\/extension-\/directive Directory Reference}
\hypertarget{dir_80b666316e58112faee581d566926255}{}\label{dir_80b666316e58112faee581d566926255}\index{node\_modules/micromark-\/extension-\/directive Directory Reference@{node\_modules/micromark-\/extension-\/directive Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/micromark/micromark-extension-directive/actions}{\texttt{ }} \href{https://codecov.io/github/micromark/micromark-extension-directive}{\texttt{ }} \href{https://www.npmjs.com/package/micromark-extension-directive}{\texttt{ }} \href{https://bundlejs.com/?q=micromark-extension-directive}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://opencollective.com/unified}{\texttt{ }} \href{https://github.com/micromark/micromark/discussions}{\texttt{ }}

\href{https://github.com/micromark/micromark}{\texttt{ micromark}} extensions to support \href{https://talk.commonmark.org/t/generic-directives-plugins-syntax/444}{\texttt{ directives}} ({\ttfamily \+:cite\mbox{[}smith04\mbox{]}} and such).\hypertarget{readme.md_autotoc_md23130}{}\doxysubsection{\texorpdfstring{Contents}{Contents}}\label{readme.md_autotoc_md23130}

\begin{DoxyItemize}
\item What is this?
\item When to use this
\item Install
\item Use
\item \doxylink{README.md_api}{API}
\begin{DoxyItemize}
\item \`{}directive()\`{}
\item \`{}directive\+Html(options?)\`{}
\item \`{}\+Directive\`{}
\item \`{}\+Handle\`{}
\item \`{}\+Html\+Options\`{}
\end{DoxyItemize}
\item Authoring
\item HTML
\item CSS
\item Syntax
\item \doxylink{readme.md_types}{Types}
\item Compatibility
\item Security
\item Related
\item \doxylink{readme.md_contribute}{Contribute}
\item \doxylink{README.md_license}{License}
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23131}{}\doxysubsection{\texorpdfstring{What is this?}{What is this?}}\label{readme.md_autotoc_md23131}
This package contains two extensions that add support for directive syntax in markdown to \href{https://github.com/micromark/micromark}{\texttt{ {\ttfamily micromark}}}.\hypertarget{readme.md_autotoc_md23132}{}\doxysubsection{\texorpdfstring{When to use this}{When to use this}}\label{readme.md_autotoc_md23132}
This project is useful when you want to solve the need for an infinite number of potential extensions to markdown in a single markdown-\/esque way.

You can use these extensions when you are working with \href{https://github.com/micromark/micromark}{\texttt{ {\ttfamily micromark}}} already.

When you need a syntax tree, you can combine this package with \href{https://github.com/syntax-tree/mdast-util-directive}{\texttt{ {\ttfamily mdast-\/util-\/directive}}}.

All these packages are used \href{https://github.com/remarkjs/remark-directive}{\texttt{ {\ttfamily remark-\/directive}}}, which focusses on making it easier to transform content by abstracting these internals away.\hypertarget{readme.md_autotoc_md23133}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md23133}
This package is \href{https://gist.github.com/sindresorhus/a39789f98801d908bbc7ff3ecc99d99c}{\texttt{ ESM only}}. In Node.\+js (version 16+), install with \href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:

\href{https://docs.npmjs.com/cli/install}{\texttt{ npm}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ micromark-\/extension-\/directive}

\end{DoxyCode}


In Deno with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{directive,\ directiveHtml\}\ from\ 'https://esm.sh/micromark-\/extension-\/directive@3'}

\end{DoxyCode}


In browsers with \href{https://esm.sh}{\texttt{ {\ttfamily esm.\+sh}}}\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<script\ type="{}module"{}>}
\DoxyCodeLine{\ \ import\ \{directive,\ directiveHtml\}\ from\ 'https://esm.sh/micromark-\/extension-\/directive@3?bundle'}
\DoxyCodeLine{</script>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md23134}{}\doxysubsection{\texorpdfstring{Use}{Use}}\label{readme.md_autotoc_md23134}
Say our document {\ttfamily example.\+md} contains\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{A\ lovely\ language\ know\ as\ :abbr[HTML]\{title="{}HyperText\ Markup\ Language"{}\}.}

\end{DoxyCode}


â€¦and our module {\ttfamily example.\+js} looks as follows\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @import\ \{Handle\}\ from\ 'micromark-\/extension-\/directive'}
\DoxyCodeLine{\ *\ @import\ \{CompileContext\}\ from\ 'micromark-\/util-\/types'}
\DoxyCodeLine{\ */}
\DoxyCodeLine{}
\DoxyCodeLine{import\ fs\ from\ 'node:fs/promises'}
\DoxyCodeLine{import\ \{micromark\}\ from\ 'micromark'}
\DoxyCodeLine{import\ \{directive,\ directiveHtml\}\ from\ 'micromark-\/extension-\/directive'}
\DoxyCodeLine{}
\DoxyCodeLine{const\ output\ =\ micromark(await\ fs.readFile('example.md'),\ \{}
\DoxyCodeLine{\ \ extensions:\ [directive()],}
\DoxyCodeLine{\ \ htmlExtensions:\ [directiveHtml(\{abbr\})]}
\DoxyCodeLine{\})}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(output)}
\DoxyCodeLine{}
\DoxyCodeLine{/**}
\DoxyCodeLine{\ *\ @this\ \{CompileContext\}}
\DoxyCodeLine{\ *\ @type\ \{Handle\}}
\DoxyCodeLine{\ *\ @returns\ \{undefined\}}
\DoxyCodeLine{\ */}
\DoxyCodeLine{function\ abbr(d)\ \{}
\DoxyCodeLine{\ \ if\ (d.type\ !==\ 'textDirective')\ return\ false}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ this.tag('<abbr')}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ if\ (d.attributes\ \&\&\ 'title'\ in\ d.attributes)\ \{}
\DoxyCodeLine{\ \ \ \ this.tag('\ title="{}'\ +\ this.encode(d.attributes.title)\ +\ '"{}')}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ this.tag('>')}
\DoxyCodeLine{\ \ this.raw(d.label\ ||\ '')}
\DoxyCodeLine{\ \ this.tag('</abbr>')}
\DoxyCodeLine{\}}

\end{DoxyCode}


â€¦now running {\ttfamily node example.\+js} yields\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{<p>A\ lovely\ language\ know\ as\ <abbr\ title="{}HyperText\ Markup\ Language"{}>HTML</abbr>.</p>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md23135}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md23135}
This package exports the identifiers \`{}directive\`{} and \`{}directive\+Html\`{}. There is no default export.

The export map supports the \href{https://nodejs.org/api/packages.html\#packages_resolving_user_conditions}{\texttt{ {\ttfamily development} condition}}. Run {\ttfamily node -\/-\/conditions development module.\+js} to get instrumented dev code. Without this condition, production code is loaded.\hypertarget{readme.md_autotoc_md23136}{}\doxysubsubsection{\texorpdfstring{{\ttfamily directive()}}{{\ttfamily directive()}}}\label{readme.md_autotoc_md23136}
Create an extension for {\ttfamily micromark} to enable directive syntax.\hypertarget{readme.md_autotoc_md23137}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md23137}
Extension for {\ttfamily micromark} that can be passed in {\ttfamily extensions}, to enable directive syntax (\href{https://github.com/micromark/micromark\#syntaxextension}{\texttt{ {\ttfamily Extension}}}).\hypertarget{readme.md_autotoc_md23138}{}\doxysubsubsection{\texorpdfstring{{\ttfamily directive\+Html(options?)}}{{\ttfamily directive\+Html(options?)}}}\label{readme.md_autotoc_md23138}
Create an extension for {\ttfamily micromark} to support directives when serializing to HTML.

\begin{quote}
ðŸ‘‰ {\bfseries{Note}}\+: this uses Ka\+TeX to render math. \end{quote}
\hypertarget{readme.md_autotoc_md23139}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md23139}

\begin{DoxyItemize}
\item {\ttfamily options} (\`{}\+Html\+Options\`{}, default\+: {\ttfamily \{\}}) â€” configuration
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23140}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md23140}
Extension for {\ttfamily micromark} that can be passed in {\ttfamily html\+Extensions}, to support directives when serializing to HTML (\href{https://github.com/micromark/micromark\#htmlextension}{\texttt{ {\ttfamily Html\+Extension}}}).\hypertarget{readme.md_autotoc_md23141}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Directive}}{{\ttfamily Directive}}}\label{readme.md_autotoc_md23141}
Structure representing a directive (Type\+Script type).\hypertarget{readme.md_autotoc_md23142}{}\doxysubsubsubsubsubsection{\texorpdfstring{Fields}{Fields}}\label{readme.md_autotoc_md23142}

\begin{DoxyItemize}
\item {\ttfamily type} (`\textquotesingle{}container\+Directive'{\ttfamily ,}\textquotesingle{}leaf\+Directive\textquotesingle{}{\ttfamily , or}\textquotesingle{}text\+Directive\textquotesingle{}{\ttfamily ) â€” kind \texorpdfstring{$\ast$}{*}}name{\ttfamily (}string{\ttfamily ) â€” name of directive \texorpdfstring{$\ast$}{*}}label{\ttfamily (}string{\ttfamily or}undefined{\ttfamily ) â€” compiled HTML content that was in}\mbox{[}brackets\mbox{]}{\ttfamily  \texorpdfstring{$\ast$}{*}}attributes{\ttfamily (}Record$<$string, string$>${\ttfamily or}undefined{\ttfamily ) â€” object w/ HTML attributes \texorpdfstring{$\ast$}{*}}content{\ttfamily (}string{\ttfamily or}undefined\`{}) â€” compiled HTML content inside container directive
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23143}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Handle}}{{\ttfamily Handle}}}\label{readme.md_autotoc_md23143}
Handle a directive (Type\+Script type).\hypertarget{readme.md_autotoc_md23144}{}\doxysubsubsubsubsubsection{\texorpdfstring{Parameters}{Parameters}}\label{readme.md_autotoc_md23144}

\begin{DoxyItemize}
\item {\ttfamily this} (\href{https://github.com/micromark/micromark/blob/41e3c4c/packages/micromark-util-types/index.js\#L457}{\texttt{ {\ttfamily Compile\+Context}}}) â€” current context
\item {\ttfamily directive} (\`{}\+Directive\`{}) â€” directive
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23145}{}\doxysubsubsubsubsubsection{\texorpdfstring{Returns}{Returns}}\label{readme.md_autotoc_md23145}
Signal whether the directive was handled ({\ttfamily boolean}, default\+: {\ttfamily true}). Yield {\ttfamily false} to let the fallback (a special handle for `'\texorpdfstring{$\ast$}{*}\textquotesingle{}\`{}) handle it.\hypertarget{readme.md_autotoc_md23146}{}\doxysubsubsection{\texorpdfstring{{\ttfamily Html\+Options}}{{\ttfamily Html\+Options}}}\label{readme.md_autotoc_md23146}
Configuration (Type\+Script type).

\begin{quote}
ðŸ‘‰ {\bfseries{Note}}\+: the special field `'\texorpdfstring{$\ast$}{*}\textquotesingle{}\`{} can be used to specify a fallback handle to handle all otherwise unhandled directives. \end{quote}
\hypertarget{readme.md_autotoc_md23147}{}\doxysubsubsubsubsubsection{\texorpdfstring{Type}{Type}}\label{readme.md_autotoc_md23147}

\begin{DoxyCode}{0}
\DoxyCodeLine{type\ HtmlOptions\ =\ Record<string,\ Handle>}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md23148}{}\doxysubsection{\texorpdfstring{Authoring}{Authoring}}\label{readme.md_autotoc_md23148}
When authoring markdown with directives, keep in mind that they donâ€™t work in most places. On your own site it can be great!\hypertarget{readme.md_autotoc_md23149}{}\doxysubsection{\texorpdfstring{HTML}{HTML}}\label{readme.md_autotoc_md23149}
You can define how directives are turned into HTML. If directives are not handled, they do not emit anything.\hypertarget{readme.md_autotoc_md23150}{}\doxysubsection{\texorpdfstring{CSS}{CSS}}\label{readme.md_autotoc_md23150}
How to display directives is left as an exercise for the reader.\hypertarget{readme.md_autotoc_md23151}{}\doxysubsection{\texorpdfstring{Syntax}{Syntax}}\label{readme.md_autotoc_md23151}
The syntax looks like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{Directives\ in\ text\ can\ form\ with\ a\ single\ colon,\ such\ as\ :cite[smith04].}
\DoxyCodeLine{Their\ syntax\ is\ \`{}:name[label]\{attributes\}`.}
\DoxyCodeLine{}
\DoxyCodeLine{Leafs\ (block\ without\ content)\ can\ form\ by\ using\ two\ colons:}
\DoxyCodeLine{}
\DoxyCodeLine{::youtube[Video\ of\ a\ cat\ in\ a\ box]\{vid=01ab2cd3efg\}}
\DoxyCodeLine{}
\DoxyCodeLine{Their\ syntax\ is\ \`{}::name[label]\{attributes\}`\ on\ its\ own\ line.}
\DoxyCodeLine{}
\DoxyCodeLine{Containers\ (blocks\ with\ content)\ can\ form\ by\ using\ three\ colons:}
\DoxyCodeLine{}
\DoxyCodeLine{:::spoiler}
\DoxyCodeLine{He\ dies.}
\DoxyCodeLine{:::}
\DoxyCodeLine{}
\DoxyCodeLine{The\ \`{}name`\ part\ is\ required.\ \ The\ first\ character\ must\ be\ a\ letter,\ other}
\DoxyCodeLine{characters\ can\ be\ alphanumerical,\ \`{}-\/`,\ and\ \`{}\_`.}
\DoxyCodeLine{\`{}-\/`\ or\ \`{}\_`\ cannot\ end\ a\ name.}
\DoxyCodeLine{}
\DoxyCodeLine{The\ \`{}[label]`\ part\ is\ optional\ (`:x`\ and\ \`{}:x[]`\ are\ equivalent)â€ .}
\DoxyCodeLine{When\ used,\ it\ can\ include\ text\ constructs\ such\ as\ emphasis\ and\ so\ on:\ \`{}x[a\ *b*}
\DoxyCodeLine{c]`.}
\DoxyCodeLine{}
\DoxyCodeLine{The\ \`{}\{attributes\}`\ part\ is\ optional\ (`:x`\ and\ \`{}:x\{\}`\ are\ equivalent)â€ .}
\DoxyCodeLine{When\ used,\ it\ is\ handled\ like\ HTML\ attributes,\ such\ as\ that\ \`{}\{a\}`,\ \`{}\{a="{}"{}\}`,}
\DoxyCodeLine{,\ \`{}\{a=''\}`\ but\ also\ \`{}\{a=b\}`,\ \`{}\{a="{}b"{}\}`,\ and\ \`{}\{a='b'\}`\ are\ equivalent.}
\DoxyCodeLine{Shortcuts\ are\ available\ for\ \`{}id=`\ (`\{\#readme\}`\ for\ \`{}\{id=readme\}`)\ and}
\DoxyCodeLine{\`{}class`\ (`\{.big\}`\ for\ \`{}\{class=big\}`).}
\DoxyCodeLine{When\ multiple\ ids\ are\ found,\ the\ last\ is\ used;\ when\ multiple\ classes\ are\ found,}
\DoxyCodeLine{they\ are\ combined:\ \`{}\{.red\ class=green\ .blue\}`\ is\ equivalent\ to}
\DoxyCodeLine{\`{}\{.red\ .green\ .blue\}`\ and\ \`{}\{class="{}red\ green\ blue"{}\}`.}
\DoxyCodeLine{}
\DoxyCodeLine{â€ \ there\ is\ one\ case\ where\ a\ name\ must\ be\ followed\ by\ an\ empty\ label\ or\ empty}
\DoxyCodeLine{attributes:\ a\ *text*\ directive\ that\ only\ has\ a\ name,\ cannot\ be\ followed\ by\ a}
\DoxyCodeLine{colon.\ So,\ \`{}:red:`\ doesnâ€™t\ work.\ Use\ either\ \`{}:red[]`\ or\ \`{}:red\{\}`\ instead.}
\DoxyCodeLine{The\ reason\ for\ this\ is\ to\ allow\ GitHub\ emoji\ (gemoji)\ and\ directives\ to\ coexist.}
\DoxyCodeLine{}
\DoxyCodeLine{Containers\ can\ be\ nested\ by\ using\ more\ colons\ outside:}
\DoxyCodeLine{}
\DoxyCodeLine{::::spoiler}
\DoxyCodeLine{He\ dies.}
\DoxyCodeLine{}
\DoxyCodeLine{:::spoiler}
\DoxyCodeLine{She\ is\ born.}
\DoxyCodeLine{:::}
\DoxyCodeLine{::::}
\DoxyCodeLine{}
\DoxyCodeLine{The\ closing\ fence\ must\ include\ the\ same\ or\ more\ colons\ as\ the\ opening.}
\DoxyCodeLine{If\ no\ closing\ is\ found,\ the\ container\ runs\ to\ the\ end\ of\ its\ parent\ container}
\DoxyCodeLine{(block\ quote,\ list\ item,\ document,\ or\ other\ container).}
\DoxyCodeLine{}
\DoxyCodeLine{::::spoiler}
\DoxyCodeLine{These\ three\ are\ not\ enough\ to\ close}
\DoxyCodeLine{:::}
\DoxyCodeLine{So\ this\ line\ is\ also\ part\ of\ the\ container.}

\end{DoxyCode}


Note that while other implementations are sometimes loose in what they allow, this implementation mimics Common\+Mark as closely as possible\+:


\begin{DoxyItemize}
\item Whitespace is not allowed between colons and name (\sout{{\ttfamily \+: a}}), name and label (\sout{{\ttfamily \+:a \mbox{[}\mbox{]}}}), name and attributes (\sout{{\ttfamily \+:a \{\}}}), or label and attributes (\sout{{\ttfamily \+:a\mbox{[}\mbox{]} \{\}}}) â€” because itâ€™s not allowed in links either (\sout{{\ttfamily \mbox{[}\mbox{]} ()}})
\item No trailing colons allowed on the opening fence of a container (\sout{{\ttfamily \+::\+:a\+:\+::}}) â€” because itâ€™s not allowed in fenced code either
\item The label and attributes in a leaf or container cannot include line endings (\texorpdfstring{$\sim$}{\string~}\texorpdfstring{$\sim$}{\string~}{\ttfamily \+::a\mbox{[}b\textbackslash{}nc\mbox{]}}\texorpdfstring{$\sim$}{\string~}\texorpdfstring{$\sim$}{\string~}) â€” because itâ€™s not allowed in fenced code either
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23152}{}\doxysubsection{\texorpdfstring{Types}{Types}}\label{readme.md_autotoc_md23152}
This package is fully typed with \href{https://www.typescriptlang.org}{\texttt{ Type\+Script}}. It exports the additional types \`{}\+Directive\`{}, \`{}\+Handle\`{}, and \`{}\+Html\+Options\`{}.\hypertarget{readme.md_autotoc_md23153}{}\doxysubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{readme.md_autotoc_md23153}
Projects maintained by the unified collective are compatible with maintained versions of Node.\+js.

When we cut a new major release, we drop support for unmaintained versions of Node. This means we try to keep the current release line, {\ttfamily micromark-\/extension-\/directive@\texorpdfstring{$^\wedge$}{\string^}3}, compatible with Node.\+js 16.

This package works with {\ttfamily micromark} version {\ttfamily 3} and later.\hypertarget{readme.md_autotoc_md23154}{}\doxysubsection{\texorpdfstring{Security}{Security}}\label{readme.md_autotoc_md23154}
This package is safe assuming that you write safe handlers. Any vulnerability in your code could open you to a \href{https://en.wikipedia.org/wiki/Cross-site_scripting}{\texttt{ cross-\/site scripting (XSS)}} attack.\hypertarget{readme.md_autotoc_md23155}{}\doxysubsection{\texorpdfstring{Related}{Related}}\label{readme.md_autotoc_md23155}

\begin{DoxyItemize}
\item \href{https://github.com/remarkjs/remark-directive}{\texttt{ {\ttfamily remark-\/directive}}} â€” remark plugin to support directives
\item \href{https://github.com/syntax-tree/mdast-util-directive}{\texttt{ {\ttfamily mdast-\/util-\/directive}}} â€” mdast utility to support directives
\end{DoxyItemize}\hypertarget{readme.md_autotoc_md23156}{}\doxysubsection{\texorpdfstring{Contribute}{Contribute}}\label{readme.md_autotoc_md23156}
See \href{https://github.com/micromark/.github/blob/main/contributing.md}{\texttt{ {\ttfamily contributing.\+md} in {\ttfamily micromark/.github}}} for ways to get started. See \href{https://github.com/micromark/.github/blob/main/support.md}{\texttt{ {\ttfamily support.\+md}}} for ways to get help.

This project has a \href{https://github.com/micromark/.github/blob/main/code-of-conduct.md}{\texttt{ code of conduct}}. By interacting with this repository, organization, or community you agree to abide by its terms.\hypertarget{readme.md_autotoc_md23157}{}\doxysubsection{\texorpdfstring{License}{License}}\label{readme.md_autotoc_md23157}
\mbox{[}MIT\mbox{]}\mbox{[}license\mbox{]} Â© \href{https://wooorm.com}{\texttt{ Titus Wormer}} 