\chapter{Changelog}
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g}{}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g}\index{Changelog@{Changelog}}
\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30795}%
\Hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30795}%
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30796}{}\doxysection{\texorpdfstring{8.\+0.\+0}{8.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30796}

\begin{DoxyItemize}
\item fix \#423 via \#424 thanks @huntharo -\/ Propagate errors in Sitemap\+And\+Index\+Stream
\item drop node 12 support
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30797}{}\doxysection{\texorpdfstring{7.\+1.\+2}{7.\+1.\+2}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30797}

\begin{DoxyItemize}
\item fix \#425 via \#426 thanks to @huntharo update stream\+To\+Promise to bubble up errors + js\+Doc
\item fix \#415 thanks to @mohd-\/akram Fix circular dependency breaking Node.\+js 20.\+6
\item non-\/breaking updates of dependent packages
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30798}{}\doxysection{\texorpdfstring{7.\+1.\+1}{7.\+1.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30798}

\begin{DoxyItemize}
\item fix \#378 exit code not set on parse failure. A proper error will be set on the stream now.
\item fix \#384 thanks @tomcek112 parse\+Sitemap\+Index not included in 7.\+1.\+0 release
\item fix \#356 thanks @vandres -\/ Sitemap\+Index\+Stream now has lastmod\+Date\+Only
\item Fix \#375 thanks @huntharo parse\+Sitemap and parse\+Sitemap\+Index uncatchable errors
\item Filter out null as well when writing XML thanks @huntharo \#376
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30799}{}\doxysection{\texorpdfstring{7.\+1.\+0}{7.\+1.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30799}

\begin{DoxyItemize}
\item bumped types dependency for node
\item bumped all dev dependencies -\/ includes some prettier changes
\item package-\/lock updated to version 2
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30800}{}\doxysection{\texorpdfstring{7.\+0.\+0}{7.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30800}
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30801}{}\doxysubsection{\texorpdfstring{\mbox{[}BREAKING\mbox{]}}{\mbox{[}BREAKING\mbox{]}}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30801}

\begin{DoxyItemize}
\item dropped support for Node 10, added support for Node 16
\item removed deprecated create\+Sitemaps\+And\+Index. use Sitemap\+And\+Index\+Stream or simple\+Sitemap\+And\+Index
\item dropped deprecated {\ttfamily get\+Sitemap\+Stream} option for Sitemap\+And\+Index\+Stream that does not return a write stream
\item fixed invalid documentation for \#357
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30802}{}\doxysubsection{\texorpdfstring{non-\/breaking}{non-\/breaking}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30802}

\begin{DoxyItemize}
\item Added option to simplesitemap {\ttfamily public\+Base\+Path}\+: allows the user to set the location of sitemap files hosted on the site fixes \mbox{[}\#359\mbox{]}
\item bumped dependencies
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30803}{}\doxysection{\texorpdfstring{6.\+4.\+0}{6.\+4.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30803}

\begin{DoxyItemize}
\item added support for content\+\_\+loc parsing \#347 and uploader info attr
\item added error handler option to sitemapstream \#349 Thanks @marcoreni
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30804}{}\doxysection{\texorpdfstring{6.\+3.\+6}{6.\+3.\+6}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30804}

\begin{DoxyItemize}
\item bump dependencies
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30805}{}\doxysection{\texorpdfstring{6.\+3.\+5}{6.\+3.\+5}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30805}

\begin{DoxyItemize}
\item Add option to silence or redirect logs from parse \#337
\begin{DoxyItemize}
\item {\ttfamily new XMLTo\+Sitemap\+Item\+Stream(\{ logger\+: false \})} or
\item {\ttfamily new XMLTo\+Sitemap\+Item\+Stream(\{ level\+: Error\+Level.\+SILENT \})} or
\item {\ttfamily new XMLTo\+Sitemap\+Item\+Stream(\{ logger\+: (level, ...message) =\texorpdfstring{$>$}{>} your.\+custom.\+logger(...\+message) \})}
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30806}{}\doxysection{\texorpdfstring{6.\+3.\+4}{6.\+3.\+4}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30806}

\begin{DoxyItemize}
\item bump dependencies
\item correct return type of xmllint. Was {\ttfamily Promise\texorpdfstring{$<$}{<}null\texorpdfstring{$>$}{>}} but actually returned {\ttfamily Promise\texorpdfstring{$<$}{<}void\texorpdfstring{$>$}{>}}
\item add alternate option for lang, hreflang as that is the actual name of the printed attribute
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30807}{}\doxysection{\texorpdfstring{6.\+3.\+3}{6.\+3.\+3}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30807}

\begin{DoxyItemize}
\item bump ts to 4
\item change file reference in sitemap-\/index to include .gz fixes \#334
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30808}{}\doxysection{\texorpdfstring{6.\+3.\+2}{6.\+3.\+2}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30808}

\begin{DoxyItemize}
\item fix unreported timing issue in Sitemap\+And\+Index\+Stream uncovered in latest unit tests
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30809}{}\doxysection{\texorpdfstring{6.\+3.\+1}{6.\+3.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30809}

\begin{DoxyItemize}
\item fix \#331 incorrect type on source\+Data in simple\+Sitemap\+And\+Index.
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30810}{}\doxysection{\texorpdfstring{6.\+3.\+0}{6.\+3.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30810}

\begin{DoxyItemize}
\item simple\+Sitemap will create the dest directory if it doesn\textquotesingle{}t exist
\item allow user to not gzip fixes \#322
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30811}{}\doxysection{\texorpdfstring{6.\+2.\+0}{6.\+2.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30811}

\begin{DoxyItemize}
\item Add simplified interface for creating sitemaps and index
\item fix bug where sitemap and index stream would not properly wait to emit finish event until all sitemaps had been written
\item bump deps
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30812}{}\doxysection{\texorpdfstring{6.\+1.\+7}{6.\+1.\+7}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30812}

\begin{DoxyItemize}
\item Improve documentation and error messaging on ending a stream too early \#317
\item bump dependencies
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30813}{}\doxysection{\texorpdfstring{6.\+1.\+6}{6.\+1.\+6}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30813}

\begin{DoxyItemize}
\item support allow\+\_\+embed \#314
\item bump dependencies
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30814}{}\doxysection{\texorpdfstring{6.\+1.\+5}{6.\+1.\+5}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30814}

\begin{DoxyItemize}
\item performance improvement for stream\+To\+Promise \#307
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30815}{}\doxysection{\texorpdfstring{6.\+1.\+4}{6.\+1.\+4}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30815}

\begin{DoxyItemize}
\item remove stale files from dist \#298
\item Correct documentation on renamed XMLTo\+Sitemap\+Options, XMLTo\+Sitemap\+Item\+Stream \#297
\item bump node typedef to 14.\+0.\+1
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30816}{}\doxysection{\texorpdfstring{6.\+1.\+3}{6.\+1.\+3}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30816}

\begin{DoxyItemize}
\item bump node types resolves \#293
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30817}{}\doxysection{\texorpdfstring{6.\+1.\+2}{6.\+1.\+2}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30817}

\begin{DoxyItemize}
\item bump node types resolves \#290
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30818}{}\doxysection{\texorpdfstring{6.\+1.\+1}{6.\+1.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30818}

\begin{DoxyItemize}
\item Fix \#286 sitemapindex tag not closing for deprecated create\+Sitemaps\+And\+Index
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30819}{}\doxysection{\texorpdfstring{6.\+1.\+0}{6.\+1.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30819}

\begin{DoxyItemize}
\item Added back xsl\+Url option removed in 5.\+0.\+0
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30820}{}\doxysection{\texorpdfstring{6.\+0.\+0}{6.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30820}

\begin{DoxyItemize}
\item removed xmlbuilder as a dependency
\item added stronger validity checking on values supplied to sitemap
\item Added the ability to turn off or add custom xml namespaces
\item CLI and library now can accept a stream which will automatically write both the index and the sitemaps. See README for usage.
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30821}{}\doxysubsection{\texorpdfstring{6.\+0.\+0 breaking changes}{6.\+0.\+0 breaking changes}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30821}

\begin{DoxyItemize}
\item renamed XMLTo\+ISitemap\+Options to XMLTo\+Sitemap\+Options
\item various error messages changed.
\item removed deprecated Sitemap and Sitemap\+Index classes
\item replaced build\+Sitemap\+Index with Sitemap\+Index\+Stream
\item Typescript\+: various types renamed or made more specific, removed I prefix
\item Typescript\+: view\+\_\+count is now exclusively a number
\item Typescript\+: {\ttfamily price\+:type} and {\ttfamily price\+:resolution} are now more restrictive types
\item sitemap parser now returns a sitemap\+Item array rather than a config object that could be passed to the now removed Sitemap class
\item CLI no longer accepts multiple file arguments or a mixture of file and streams except as a part of a parameter eg. prepend
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30822}{}\doxysection{\texorpdfstring{5.\+1.\+0}{5.\+1.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30822}
Fix for \#255. Baidu does not like timestamp in its sitemap.\+xml, this adds an option to truncate lastmod


\begin{DoxyCode}{0}
\DoxyCodeLine{new\ SitemapStream(\{\ lastmodDateOnly:\ true\ \});}

\end{DoxyCode}
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30823}{}\doxysection{\texorpdfstring{5.\+0.\+1}{5.\+0.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30823}
Fix for issue \#254.


\begin{DoxyCode}{0}
\DoxyCodeLine{warning:\ failed\ to\ load\ external\ entity\ "{}./schema/all.xsd"{}}
\DoxyCodeLine{Schemas\ parser\ error\ :\ Failed\ to\ locate\ the\ main\ schema\ resource\ at\ './schema/all.xsd'.}
\DoxyCodeLine{WXS\ schema\ ./schema/all.xsd\ failed\ to\ compile}

\end{DoxyCode}
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30824}{}\doxysection{\texorpdfstring{5.\+0.\+0}{5.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30824}
\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30825}{}\doxysubsection{\texorpdfstring{Streams}{Streams}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30825}
This release is heavily focused on converting the core methods of this library to use streams. Why? Overall its made the API \texorpdfstring{$\sim$}{\string~}20\% faster and uses only 10\% or less of the memory. Some tradeoffs had to be made as in their nature streams are operate on individual segments of data as opposed to the whole. For instance, the streaming interface does not support removal of sitemap items as it does not hold on to a sitemap item after its converted to XML. It should however be possible to create your own transform that filters out entries should you desire it. The existing synchronous interfaces will remain for this release at least. Do not be surprised if they go away in a future breaking release.\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30826}{}\doxysubsection{\texorpdfstring{Sitemap Index}{Sitemap Index}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30826}
This library interface has been overhauled to use streams internally. Although it would have been preferable to convert this to a stream as well, I could not think of an interface that wouldn\textquotesingle{}t actually end up more complex or confusing. It may be altered in the near future to accept a stream in addition to a simple list.\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30827}{}\doxysubsection{\texorpdfstring{Misc}{Misc}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30827}

\begin{DoxyItemize}
\item runnable examples, some pulled straight from README have been added to the examples directory.
\item create\+Sitemaps\+Index was renamed create\+Sitemaps\+And\+Index to more accurately reflect its function. It now returns a promise that resolves to true or throws with an error.
\item You can now add to existing sitemap.\+xml files via the cli using {\ttfamily npx sitemap -\/-\/prepend existing\+Sitemap.\+xml \texorpdfstring{$<$}{<} list\+Of\+New\+URLs.\+json.\+txt}
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30828}{}\doxysubsection{\texorpdfstring{5.\+0 Breaking Changes}{5.\+0 Breaking Changes}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30828}

\begin{DoxyItemize}
\item Dropped support for mobile sitemap -\/ Google appears to have deleted their dtd and all references to it, strongly implying that they do not want you to use it. As its absence now breaks the validator, it has been dropped.
\item normalize\+URL(url, XMLRoot, hostname) -\/\texorpdfstring{$>$}{>} normalize\+URL(url, hostname)
\begin{DoxyItemize}
\item The second argument was unused and has been eliminated
\end{DoxyItemize}
\item Support for Node 8 dropped -\/ Node 8 is reaching its EOL December 2019
\item xsl\+URL is being dropped from all apis -\/ styling xml is out of scope of this library.
\item create\+Sitemap\+Index has been converted to a promised based api rather than callback.
\item create\+Sitemap\+Index now gzips by default -\/ pass gzip\+: false to disable
\item cache\+Time is being dropped from create\+Sitemap\+Index -\/ This didn\textquotesingle{}t actually cache the way it was written so this should be a non-\/breaking change in effect.
\item Sitemap\+Index as a class has been dropped. The class did all its work on construction and there was no reason to hold on to it once you created it.
\item The options for the cli have been overhauled
\begin{DoxyItemize}
\item {\ttfamily -\/-\/json} is now inferred
\item {\ttfamily -\/-\/line-\/separated} has been flipped to {\ttfamily -\/-\/single-\/line-\/json} to by default output options immediately compatible with feeding back into sitemap
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30829}{}\doxysection{\texorpdfstring{4.\+1.\+1}{4.\+1.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30829}
Add a pretty print option to {\ttfamily to\+String(false)} pass true pretty print

Add an xmlparser that will output a config that would generate that same file

cli\+: use --parser to output the complete config --line-\/separated to print out line separated config compatible with the --json input option for cli

lib\+: import parse\+Sitemap and pass it a stream\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30830}{}\doxysection{\texorpdfstring{4.\+0.\+2}{4.\+0.\+2}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30830}
Fix npx script error -\/ needs the shebang\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30831}{}\doxysection{\texorpdfstring{4.\+0.\+1}{4.\+0.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30831}
Validation functions which depend on xmllint will now warn if you do not have xmllint installed.\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30832}{}\doxysection{\texorpdfstring{4.\+0.\+0}{4.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30832}
This release is geared around overhauling the public api for this library. Many options have been introduced over the years and this has lead to some inconsistencies that make the library hard to use. Most have been cleaned up but a couple notable items remain, including the confusing names of build\+Sitemap\+Index and create\+Sitemap\+Index


\begin{DoxyItemize}
\item A new experimental CLI
\begin{DoxyItemize}
\item stream in a list of urls stream out xml
\item validate your generated sitemap
\end{DoxyItemize}
\item Sitemap video item now supports id element
\item Several schema errors have been cleaned up.
\item Docs have been updated and streamlined.
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30833}{}\doxysubsection{\texorpdfstring{breaking changes}{breaking changes}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30833}

\begin{DoxyItemize}
\item lastmod option parses all ISO8601 date-\/only strings as being in UTC rather than local time
\begin{DoxyItemize}
\item lastmod\+ISO is deprecated as it is equivalent to lastmod
\item lastmodfile now includes the file\textquotesingle{}s time as well
\item lastmodrealtime is no longer necessary
\end{DoxyItemize}
\item The default export of sitemap lib is now just create\+Sitemap
\item Sitemap constructor now uses a object for its constructor
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ Sitemap\ \}\ =\ require('sitemap');}
\DoxyCodeLine{const\ siteMap\ =\ new\ Sitemap(\{}
\DoxyCodeLine{\ \ urls\ =\ [],}
\DoxyCodeLine{\ \ hostname:\ 'https://example.com',\ //\ optional}
\DoxyCodeLine{\ \ cacheTime\ =\ 0,}
\DoxyCodeLine{\ \ xslUrl,}
\DoxyCodeLine{\ \ xmlNs,}
\DoxyCodeLine{\ \ level\ =\ 'warn'}
\DoxyCodeLine{\})}

\end{DoxyCode}



\begin{DoxyItemize}
\item Sitemap no longer accepts a single string for its url
\item Drop support for node 6
\item Remove callback on to\+XML -\/ This had no performance benefit
\item Direct modification of urls property on Sitemap has been dropped. Use add/remove/contains
\item When a Sitemap item is generated with invalid options it no longer throws by default
\begin{DoxyItemize}
\item instead it console warns.
\item if you\textquotesingle{}d like to pre-\/verify your data the {\ttfamily validate\+SMIOptions} function is now available
\item To get the previous behavior pass level `create\+Sitemap(\{...otheropts, level\+: \textquotesingle{}throw' \}) // Error\+Level.\+THROW for TS users\`{}
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30834}{}\doxysection{\texorpdfstring{3.\+2.\+2}{3.\+2.\+2}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30834}

\begin{DoxyItemize}
\item revert https everywhere added in 3.\+2.\+0. xmlns is not url.
\item adds alias for lastmod in the form of lastmodiso
\item fixes bug in lastmod option for build\+Sitemap\+Index where option would be overwritten if a lastmod option was provided with a single url
\item fixes \#201, fixes \#203
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30835}{}\doxysection{\texorpdfstring{3.\+2.\+1}{3.\+2.\+1}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30835}

\begin{DoxyItemize}
\item no really fixes ts errors for real this time
\item fixes \#193 in PR \#198
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30836}{}\doxysection{\texorpdfstring{3.\+2.\+0}{3.\+2.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30836}

\begin{DoxyItemize}
\item fixes \#192, fixes \#193 typescript errors
\item correct types on player\+:loc and restriction\+:relationship types
\item use https urls in xmlns
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30837}{}\doxysection{\texorpdfstring{3.\+1.\+0}{3.\+1.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30837}

\begin{DoxyItemize}
\item fixes \#187, \#188 typescript errors
\item adds support for full precision priority \#176
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30838}{}\doxysection{\texorpdfstring{3.\+0.\+0}{3.\+0.\+0}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30838}

\begin{DoxyItemize}
\item Converted project to typescript
\item properly encode URLs \#179
\item updated core dependency
\end{DoxyItemize}\hypertarget{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30839}{}\doxysubsection{\texorpdfstring{3.\+0 breaking changes}{3.\+0 breaking changes}}\label{md_node__modules_2sitemap_2_c_h_a_n_g_e_l_o_g_autotoc_md30839}
This will likely not break anyone\textquotesingle{}s code but we\textquotesingle{}re bumping to be safe


\begin{DoxyItemize}
\item root domain URLs are now suffixed with / (eg. {\ttfamily \href{https://www.ya.ru}{\texttt{ https\+://www.\+ya.\+ru}}} -\/\texorpdfstring{$>$}{>} {\ttfamily \href{https://www.ya.ru/}{\texttt{ https\+://www.\+ya.\+ru/}}}) This is a side-\/effect of properly encoding passed in URLs 
\end{DoxyItemize}