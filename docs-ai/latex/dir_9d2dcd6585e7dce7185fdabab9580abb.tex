\doxysection{node\+\_\+modules/log-\/update/node\+\_\+modules/onetime Directory Reference}
\hypertarget{dir_9d2dcd6585e7dce7185fdabab9580abb}{}\label{dir_9d2dcd6585e7dce7185fdabab9580abb}\index{node\_modules/log-\/update/node\_modules/onetime Directory Reference@{node\_modules/log-\/update/node\_modules/onetime Directory Reference}}


\doxysubsection{Detailed Description}
\begin{quote}
Ensure a function is only called once \end{quote}


When called multiple times it will return the return value from the first call.

{\itshape Unlike the module \href{https://github.com/isaacs/once}{\texttt{ once}}, this one isn\textquotesingle{}t naughty and extending {\ttfamily Function.\+prototype}.}\hypertarget{readme.md_autotoc_md21998}{}\doxysubsection{\texorpdfstring{Install}{Install}}\label{readme.md_autotoc_md21998}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ onetime}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md21999}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{readme.md_autotoc_md21999}

\begin{DoxyCode}{0}
\DoxyCodeLine{import\ onetime\ from\ 'onetime';}
\DoxyCodeLine{}
\DoxyCodeLine{let\ index\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{const\ foo\ =\ onetime(()\ =>\ ++index);}
\DoxyCodeLine{}
\DoxyCodeLine{foo();\ //=>\ 1}
\DoxyCodeLine{foo();\ //=>\ 1}
\DoxyCodeLine{foo();\ //=>\ 1}
\DoxyCodeLine{}
\DoxyCodeLine{onetime.callCount(foo);\ //=>\ 3}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{import\ onetime\ from\ 'onetime';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ foo\ =\ onetime(()\ =>\ \{\},\ \{throw:\ true\});}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{//=>\ Error:\ Function\ \`{}foo`\ can\ only\ be\ called\ once}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22000}{}\doxysubsection{\texorpdfstring{API}{API}}\label{readme.md_autotoc_md22000}
\hypertarget{readme.md_autotoc_md22001}{}\doxysubsubsection{\texorpdfstring{onetime(fn, options?)}{onetime(fn, options?)}}\label{readme.md_autotoc_md22001}
Returns a function that only calls {\ttfamily fn} once.\hypertarget{readme.md_autotoc_md22002}{}\doxysubsubsubsection{\texorpdfstring{fn}{fn}}\label{readme.md_autotoc_md22002}
Type\+: {\ttfamily Function}

The function that should only be called once.\hypertarget{readme.md_autotoc_md22003}{}\doxysubsubsubsection{\texorpdfstring{options}{options}}\label{readme.md_autotoc_md22003}
Type\+: {\ttfamily object}\hypertarget{readme.md_autotoc_md22004}{}\doxysubsubsubsubsection{\texorpdfstring{throw}{throw}}\label{readme.md_autotoc_md22004}
Type\+: {\ttfamily boolean}\textbackslash{} Default\+: {\ttfamily false}

Throw an error when called more than once.\hypertarget{readme.md_autotoc_md22005}{}\doxysubsubsection{\texorpdfstring{onetime.\+call\+Count(fn)}{onetime.\+call\+Count(fn)}}\label{readme.md_autotoc_md22005}
Returns a number representing how many times {\ttfamily fn} has been called.

Note\+: It throws an error if you pass in a function that is not wrapped by {\ttfamily onetime}.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ onetime\ from\ 'onetime';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ foo\ =\ onetime(()\ =>\ \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{foo();}
\DoxyCodeLine{foo();}
\DoxyCodeLine{foo();}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(onetime.callCount(foo));}
\DoxyCodeLine{//=>\ 3}

\end{DoxyCode}
\hypertarget{readme.md_autotoc_md22006}{}\doxysubsubsubsection{\texorpdfstring{fn}{fn}}\label{readme.md_autotoc_md22006}
Type\+: {\ttfamily Function}

The function to get call count from. 