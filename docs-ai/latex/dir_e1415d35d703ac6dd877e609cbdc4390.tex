\doxysection{node\+\_\+modules/to-\/gatsby-\/remark-\/plugin Directory Reference}
\hypertarget{dir_e1415d35d703ac6dd877e609cbdc4390}{}\label{dir_e1415d35d703ac6dd877e609cbdc4390}\index{node\_modules/to-\/gatsby-\/remark-\/plugin Directory Reference@{node\_modules/to-\/gatsby-\/remark-\/plugin Directory Reference}}


\doxysubsection{Detailed Description}
Convert remark plugins to gatsby remark plugins.\hypertarget{README.md_autotoc_md32914}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md32914}

\begin{DoxyCode}{0}
\DoxyCodeLine{yarn\ add\ to-\/gatsby-\/remark-\/plugin}
\DoxyCodeLine{\#\ npm\ install\ to-\/gatsby-\/remark-\/plugin}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md32915}{}\doxysubsection{\texorpdfstring{Why}{Why}}\label{README.md_autotoc_md32915}
{\bfseries{Remark plugins}} are plugins that can be used with \href{https://remark.js.org/}{\texttt{ {\ttfamily remark}}} (\href{https://unifiedjs.com/}{\texttt{ {\ttfamily unifiedjs}}}), there are already tons of \href{https://github.com/remarkjs/remark/blob/master/doc/plugins.md}{\texttt{ plugins}} in the community. {\bfseries{Gatsby remark plugins}} are plugins that can only be used in Gatsby, which is capable of using some of the Gatsby\textquotesingle{}s specific APIs and graphql interfaces. However, we don\textquotesingle{}t usually need all those APIs in our {\bfseries{remark plugins}}, sometimes the plugins just have to manipulate the AST.

\href{https://www.gatsbyjs.org/packages/gatsby-transformer-remark/\#how-to-use}{\texttt{ {\ttfamily gatsby-\/transformer-\/remark}}} only supports passing {\bfseries{Gatsby remark plugins}}. \href{https://www.gatsbyjs.org/packages/gatsby-plugin-mdx}{\texttt{ {\ttfamily gatsby-\/plugin-\/mdx}}} supports both {\bfseries{Gatsby remark plugins}} and {\bfseries{remark plugins}} with \href{https://www.gatsbyjs.org/packages/gatsby-plugin-mdx/\#gatsby-remark-plugins}{\texttt{ {\ttfamily gatsby\+Remark\+Plugins}}} and \href{https://www.gatsbyjs.org/packages/gatsby-plugin-mdx/\#remark-plugins}{\texttt{ {\ttfamily remark\+Plugins}}} options separately. However, {\ttfamily gatsby\+Remark\+Plugins} always have precedence over {\ttfamily remark\+Plugins}, which makes it difficult to compose multiple plugins in specific order.

As a result, plugin authors tend to re-\/create a {\bfseries{Gatsby remark plugin}} for every {\bfseries{remark plugin}}. This is far from ideal. What if we can just convert our {\bfseries{remark plugins}} into {\bfseries{Gatsby remark plugins}} automatically? This is exactly what this package does!\hypertarget{README.md_autotoc_md32916}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md32916}
\hypertarget{README.md_autotoc_md32917}{}\doxysubsubsection{\texorpdfstring{For users}{For users}}\label{README.md_autotoc_md32917}
Create a file locally with the following code.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ gatsby-\/my-\/remark-\/plugin.js}
\DoxyCodeLine{const\ toGatsbyRemarkPlugin\ =\ require('to-\/gatsby-\/remark-\/plugin');}
\DoxyCodeLine{const\ myRemarkPlugin\ =\ require('my-\/remark-\/plugin');}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports\ =\ toGatsbyRemarkPlugin(myRemarkPlugin);}

\end{DoxyCode}


Reference this file when specifying in the gatsby remark configs.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ gatsby-\/config.js}
\DoxyCodeLine{module.exports\ =\ (\{}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ resolve:\ \`{}gatsby-\/plugin-\/mdx`,}
\DoxyCodeLine{\ \ \ \ \ \ options:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ gatsbyRemarkPlugins:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ resolve:\ require.resolve(`./gatsby-\/my-\/remark-\/plugin.js`),}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md32918}{}\doxysubsubsection{\texorpdfstring{For library authors}{For library authors}}\label{README.md_autotoc_md32918}
We can focus on creating the {\bfseries{remark plugin}}, then add a {\bfseries{sub-\/package}} just for Gatsby. Create a {\ttfamily gatsby} directory under the root directory with 2 files inside\+: {\ttfamily package.\+json} and {\ttfamily index.\+js}.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ gatsby/package.json}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}name"{}:\ "{}gatsby-\/my-\/remark-\/plugin"{},}
\DoxyCodeLine{\ \ "{}main"{}:\ "{}index.js"{}}
\DoxyCodeLine{\}}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ gatsby/index.js}
\DoxyCodeLine{const\ toGatsbyRemarkPlugin\ =\ require('to-\/gatsby-\/remark-\/plugin');}
\DoxyCodeLine{const\ myRemarkPlugin\ =\ require('..');}
\DoxyCodeLine{}
\DoxyCodeLine{module.exports\ =\ toGatsbyRemarkPlugin(myRemarkPlugin);}

\end{DoxyCode}


Then the users can just reference the {\bfseries{Gatsby remark plugin}} via {\ttfamily my-\/remark-\/plugin/gatsby}.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ gatsby-\/config.js}
\DoxyCodeLine{module.exports\ =\ (\{}
\DoxyCodeLine{\ \ plugins:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ resolve:\ \`{}gatsby-\/plugin-\/mdx`,}
\DoxyCodeLine{\ \ \ \ \ \ options:\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ gatsbyRemarkPlugins:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ resolve:\ \`{}my-\/remark-\/plugin/gatsby`}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{\ \ \ \ \ \ \ \ ]}
\DoxyCodeLine{\ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\});}

\end{DoxyCode}
 