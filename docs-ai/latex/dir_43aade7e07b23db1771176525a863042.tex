\doxysection{node\+\_\+modules/snarkjs Directory Reference}
\hypertarget{dir_43aade7e07b23db1771176525a863042}{}\label{dir_43aade7e07b23db1771176525a863042}\index{node\_modules/snarkjs Directory Reference@{node\_modules/snarkjs Directory Reference}}


\doxysubsection{Detailed Description}
\hypertarget{README.md_autotoc_md30899}{}\doxysubsection{\texorpdfstring{snarkjs}{snarkjs}}\label{README.md_autotoc_md30899}
This is a {\bfseries{Java\+Script and Pure Web Assembly implementation of zk\+SNARK and PLONK schemes.}} It uses the Groth16 Protocol (3 points only and 3 pairings), PLONK, and FFLONK.

This library includes all the tools required to perform trusted setup multi-\/party ceremonies\+: including the universal \href{https://medium.com/coinmonks/announcing-the-perpetual-powers-of-tau-ceremony-to-benefit-all-zk-snark-projects-c3da86af8377}{\texttt{ {\itshape powers of tau}}} ceremony, and the second phase circuit-\/specific ceremonies.

\begin{quote}
Any zk-\/snark project can pick a round from the common phase 1 to start their circuit-\/specific phase 2 ceremony. \end{quote}


The formats used in this library for the multi-\/party computation are compatible with the ones used in \href{https://github.com/weijiekoh/perpetualpowersoftau}{\texttt{ Semaphore\textquotesingle{}s Perpetual Powers of Tau}} and \href{https://github.com/kobigurk/phase2-bn254}{\texttt{ other implementations}}.

This library uses the compiled circuits generated by the \href{https://github.com/iden3/circom}{\texttt{ circom}} compiler.

It works in \`{}node.js\`{} as well as directly in the browser.

It\textquotesingle{}s an \href{https://hacks.mozilla.org/2018/03/es-modules-a-cartoon-deep-dive/}{\texttt{ ES module}}, so it can be directly imported into bigger projects using \href{https://rollupjs.org/guide/en/}{\texttt{ Rollup}} or \href{https://webpack.js.org/}{\texttt{ Webpack}}.

The low-\/level cryptography is performed directly in {\ttfamily wasm}, and uses worker threads to parallelize the computations. The result is a high-\/performance library with benchmarks comparable to host implementations.\hypertarget{README.md_autotoc_md30900}{}\doxysubsubsection{\texorpdfstring{Preliminaries}{Preliminaries}}\label{README.md_autotoc_md30900}
\hypertarget{README.md_autotoc_md30901}{}\doxysubsubsubsection{\texorpdfstring{Install node}{Install node}}\label{README.md_autotoc_md30901}
First off, make sure you have a recent LTS version of Node.\+js installed. Non-\/\+LTS and versions prior to v18 are not guaranteed to work.

If you’re not sure which version of Node you have installed, you can run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{node\ -\/v}

\end{DoxyCode}


To download the latest version of Node, see \href{https://nodejs.org/en/download/}{\texttt{ here}}.\hypertarget{README.md_autotoc_md30902}{}\doxysubsubsubsection{\texorpdfstring{Install snarkjs}{Install snarkjs}}\label{README.md_autotoc_md30902}
To install {\ttfamily snarkjs} run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ -\/g\ snarkjs@latest}

\end{DoxyCode}


If you\textquotesingle{}re seeing an error, try prefixing both commands with {\ttfamily sudo} and running them again.\hypertarget{README.md_autotoc_md30903}{}\doxysubsubsubsection{\texorpdfstring{Understand the {\ttfamily help} command}{Understand the {\ttfamily help} command}}\label{README.md_autotoc_md30903}
To see a list of all {\ttfamily snarkjs} commands, as well as descriptions of their inputs and outputs, run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ -\/-\/help}

\end{DoxyCode}


You can also use the {\ttfamily -\/-\/help} option with specific commands\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ groth16\ prove\ -\/-\/help}

\end{DoxyCode}


Most of the commands have an alternative shorter alias (which you can discover using {\ttfamily -\/-\/help}).

For example, the previous command can also be invoked with\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ g16p\ -\/-\/help}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30904}{}\doxysubsubsubsection{\texorpdfstring{Debugging tip}{Debugging tip}}\label{README.md_autotoc_md30904}
If you feel a command is taking longer than it should, re-\/run it with a {\ttfamily -\/v} or {\ttfamily -\/-\/verbose} option to see more details about how it\textquotesingle{}s progressing and where it\textquotesingle{}s getting blocked.\hypertarget{README.md_autotoc_md30905}{}\doxysubsubsubsection{\texorpdfstring{Install circom}{Install circom}}\label{README.md_autotoc_md30905}
To install {\ttfamily circom}, follow the instructions at \href{https://docs.circom.io/getting-started/installation}{\texttt{ installing circom}}.\hypertarget{README.md_autotoc_md30906}{}\doxysubsubsection{\texorpdfstring{Guide}{Guide}}\label{README.md_autotoc_md30906}
\hypertarget{README.md_autotoc_md30907}{}\doxysubsubsubsection{\texorpdfstring{0. Create and move into a new directory}{0. Create and move into a new directory}}\label{README.md_autotoc_md30907}

\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir\ snarkjs\_example}
\DoxyCodeLine{cd\ snarkjs\_example}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30908}{}\doxysubsubsubsection{\texorpdfstring{1. Start a new powers of tau ceremony}{1. Start a new powers of tau ceremony}}\label{README.md_autotoc_md30908}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ new\ bn128\ 14\ pot14\_0000.ptau\ -\/v}

\end{DoxyCode}


The {\ttfamily new} command is used to start a powers of tau ceremony.

The first parameter after {\ttfamily new} refers to the type of curve you wish to use. At the moment, we support both {\ttfamily bn128} and {\ttfamily bls12-\/381}.

The second parameter, in this case {\ttfamily 14}, is the power of two of the maximum number of constraints that the ceremony can accept\+: in this case, the number of constraints is {\ttfamily 2 \texorpdfstring{$^\wedge$}{\string^} 14 = 16,384}. The maximum value supported here is {\ttfamily 28}, which means you can use {\ttfamily snarkjs} to securely generate zk-\/snark parameters for circuits with up to {\ttfamily 2 \texorpdfstring{$^\wedge$}{\string^} 28} (≈268 million) constraints.\hypertarget{README.md_autotoc_md30909}{}\doxysubsubsubsection{\texorpdfstring{2. Contribute to the ceremony}{2. Contribute to the ceremony}}\label{README.md_autotoc_md30909}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ contribute\ pot14\_0000.ptau\ pot14\_0001.ptau\ -\/-\/name="{}First\ contribution"{}\ -\/v}

\end{DoxyCode}


The {\ttfamily contribute} command creates a ptau file with a new contribution.

You\textquotesingle{}ll be prompted to enter some random text to provide an extra source of entropy.

{\ttfamily contribute} takes as input the transcript of the protocol so far, in this case {\ttfamily pot14\+\_\+0000.\+ptau}, and outputs a new transcript, in this case {\ttfamily pot14\+\_\+0001.\+ptau}, which includes the computation carried out by the new contributor ({\ttfamily ptau} files contain a history of all the challenges and responses that have taken place so far).

{\ttfamily name} can be anything you want, and is just included for reference (it will be printed when you verify the file (step 5).\hypertarget{README.md_autotoc_md30910}{}\doxysubsubsubsection{\texorpdfstring{3. Provide a second contribution}{3. Provide a second contribution}}\label{README.md_autotoc_md30910}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ contribute\ pot14\_0001.ptau\ pot14\_0002.ptau\ -\/-\/name="{}Second\ contribution"{}\ -\/v\ -\/e="{}some\ random\ text"{}}

\end{DoxyCode}


By letting you write the random text as part of the command, the {\ttfamily -\/e} parameter allows {\ttfamily contribute} to be non-\/interactive.\hypertarget{README.md_autotoc_md30911}{}\doxysubsubsubsection{\texorpdfstring{4. Provide a third contribution using third-\/party software}{4. Provide a third contribution using third-\/party software}}\label{README.md_autotoc_md30911}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ export\ challenge\ pot14\_0002.ptau\ challenge\_0003}
\DoxyCodeLine{snarkjs\ powersoftau\ challenge\ contribute\ bn128\ challenge\_0003\ response\_0003\ -\/e="{}some\ random\ text"{}}
\DoxyCodeLine{snarkjs\ powersoftau\ import\ response\ pot14\_0002.ptau\ response\_0003\ pot14\_0003.ptau\ -\/n="{}Third\ contribution\ name"{}}

\end{DoxyCode}


The challenge and response files are compatible with \href{https://github.com/kobigurk/phase2-bn254}{\texttt{ this software}}.

This allows you to use different types of software in a single ceremony.\hypertarget{README.md_autotoc_md30912}{}\doxysubsubsubsection{\texorpdfstring{5. Verify the protocol so far}{5. Verify the protocol so far}}\label{README.md_autotoc_md30912}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ verify\ pot14\_0003.ptau}

\end{DoxyCode}


The {\ttfamily verify} command verifies a {\ttfamily ptau} (powers of tau) file, which means it checks all the contributions to the multi-\/party computation (MPC) up to that point. It also prints the hashes of all the intermediate results to the console.

If everything checks out, you should see the following at the top of the output\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ Powers\ Of\ tau\ file\ OK!}

\end{DoxyCode}


In sum, whenever a new zk-\/snark project needs to perform a trusted setup, you can just pick the latest {\ttfamily ptau} file, and run the {\ttfamily verify} command to verify the entire chain of challenges and responses so far.\hypertarget{README.md_autotoc_md30913}{}\doxysubsubsubsection{\texorpdfstring{6. Apply a random beacon}{6. Apply a random beacon}}\label{README.md_autotoc_md30913}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ beacon\ pot14\_0003.ptau\ pot14\_beacon.ptau\ 0102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f\ 10\ -\/n="{}Final\ Beacon"{}}

\end{DoxyCode}


The {\ttfamily beacon} command creates a {\ttfamily ptau} file with a contribution applied in the form of a random beacon.

We need to apply a random beacon in order to finalize phase 1 of the trusted setup.

\begin{quote}
To paraphrase Sean Bowe and Ariel Gabizon, a random beacon is a source of public randomness that is not available before a fixed time. The beacon itself can be a delayed hash function (e.\+g. 2\texorpdfstring{$^\wedge$}{\string^}40 iterations of SHA256) evaluated on some high entropy and publicly available data. Possible sources of data include\+: the closing value of the stock market on a certain date in the future, the output of a selected set of national lotteries, or the value of a block at a particular height in one or more blockchains. E.\+g. the hash of the 11 millionth Ethereum block (which as of this writing is some 3 months in the future). See \href{https://eprint.iacr.org/2017/1050.pdf}{\texttt{ here}} for more on the importance of a random beacon. \end{quote}


For the purposes of this tutorial, the beacon is essentially a delayed hash function evaluated on {\ttfamily 0102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f} (in practice this value will be some form of high entropy and publicly available data of your choice). The next input -- in our case {\ttfamily 10} -- just tells {\ttfamily snarkjs} to perform {\ttfamily 2 \texorpdfstring{$^\wedge$}{\string^} 10} iterations of this hash function.

\begin{quote}
Note that \href{https://eprint.iacr.org/2017/1050}{\texttt{ security holds}} even if an adversary has limited influence on the beacon. \end{quote}
\hypertarget{README.md_autotoc_md30914}{}\doxysubsubsubsection{\texorpdfstring{7. Prepare phase 2}{7. Prepare phase 2}}\label{README.md_autotoc_md30914}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ prepare\ phase2\ pot14\_beacon.ptau\ pot14\_final.ptau\ -\/v}

\end{DoxyCode}


We\textquotesingle{}re now ready to prepare phase 2 of the setup (the circuit-\/specific phase).

Under the hood, the {\ttfamily prepare phase2} command calculates the encrypted evaluation of the Lagrange polynomials at tau for {\ttfamily tau}, {\ttfamily alpha\texorpdfstring{$\ast$}{*}tau}, and {\ttfamily beta\texorpdfstring{$\ast$}{*}tau}. It takes the beacon {\ttfamily ptau} file we generated in the previous step and outputs a final {\ttfamily ptau} file which will be used to generate the circuit proving and verification keys.

\DoxyHorRuler{0}
 {\bfseries{NOTE}}

Prepared (phase2) Ptau files for bn128 with 54 contributions and a beacon can be found here\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ power   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ max\+Constraints   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ file   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ hash    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ power   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ max\+Constraints   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ file   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ hash    }\\\cline{1-4}
\endhead
8   &256   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_08.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+08.\+ptau}}   &d6a8fb3a04feb600096c3b791f936a578c4e664d262e4aa24beed1b7a9a96aa5eb72864d628db247e9293384b74b36ffb52ca8d148d6e1b8b51e279fdf57b583    \\\cline{1-4}
9   &512   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_09.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+09.\+ptau}}   &94f108a80e81b5d932d8e8c9e8fd7f46cf32457e31462deeeef37af1b71c2c1b3c71fb0d9b59c654ec266b042735f50311f9fd1d4cadce47ab234ad163157cb5    \\\cline{1-4}
10   &1k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_10.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+10.\+ptau}}   &6cfeb8cda92453099d20120bdd0e8a5c4e7706c2da9a8f09ccc157ed2464d921fd0437fb70db42104769efd7d6f3c1f964bcf448c455eab6f6c7d863e88a5849    \\\cline{1-4}
11   &2k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_11.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+11.\+ptau}}   &47c282116b892e5ac92ca238578006e31a47e7c7e70f0baa8b687f0a5203e28ea07bbbec765a98dcd654bad618475d4661bfaec3bd9ad2ed12e7abc251d94d33    \\\cline{1-4}
12   &4k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_12.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+12.\+ptau}}   &ded2694169b7b08e898f736d5de95af87c3f1a64594013351b1a796dbee393bd825f88f9468c84505ddd11eb0b1465ac9b43b9064aa8ec97f2b73e04758b8a4a    \\\cline{1-4}
13   &8k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_13.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+13.\+ptau}}   &58efc8bf2834d04768a3d7ffcd8e1e23d461561729beaac4e3e7a47829a1c9066d5320241e124a1a8e8aa6c75be0ba66f65bc8239a0542ed38e11276f6fdb4d9    \\\cline{1-4}
14   &16k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_14.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+14.\+ptau}}   &eeefbcf7c3803b523c94112023c7ff89558f9b8e0cf5d6cdcba3ade60f168af4a181c9c21774b94fbae6c90411995f7d854d02ebd93fb66043dbb06f17a831c1    \\\cline{1-4}
15   &32k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_15.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+15.\+ptau}}   &982372c867d229c236091f767e703253249a9b432c1710b4f326306bfa2428a17b06240359606cfe4d580b10a5a1f63fbed499527069c18ae17060472969ae6e    \\\cline{1-4}
16   &64k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_16.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+16.\+ptau}}   &6a6277a2f74e1073601b4f9fed6e1e55226917efb0f0db8a07d98ab01df1ccf43eb0e8c3159432acd4960e2f29fe84a4198501fa54c8dad9e43297453efec125    \\\cline{1-4}
17   &128k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_17.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+17.\+ptau}}   &6247a3433948b35fbfae414fa5a9355bfb45f56efa7ab4929e669264a0258976741dfbe3288bfb49828e5df02c2e633df38d2245e30162ae7e3bcca5b8b49345    \\\cline{1-4}
18   &256k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_18.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+18.\+ptau}}   &7e6a9c2e5f05179ddfc923f38f917c9e6831d16922a902b0b4758b8e79c2ab8a81bb5f29952e16ee6c5067ed044d7857b5de120a90704c1d3b637fd94b95b13e    \\\cline{1-4}
19   &512k   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_19.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+19.\+ptau}}   &bca9d8b04242f175189872c42ceaa21e2951e0f0f272a0cc54fc37193ff6648600eaf1c555c70cdedfaf9fb74927de7aa1d33dc1e2a7f1a50619484989da0887    \\\cline{1-4}
20   &1M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_20.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+20.\+ptau}}   &89a66eb5590a1c94e3f1ee0e72acf49b1669e050bb5f93c73b066b564dca4e0c7556a52b323178269d64af325d8fdddb33da3a27c34409b821de82aa2bf1a27b    \\\cline{1-4}
21   &2M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_21.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+21.\+ptau}}   &9aef0573cef4ded9c4a75f148709056bf989f80dad96876aadeb6f1c6d062391f07a394a9e756d16f7eb233198d5b69407cca44594c763ab4a5b67ae73254678    \\\cline{1-4}
22   &4M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_22.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+22.\+ptau}}   &0d64f63dba1a6f11139df765cb690da69d9b2f469a1ddd0de5e4aa628abb28f787f04c6a5fb84a235ec5ea7f41d0548746653ecab0559add658a83502d1cb21b    \\\cline{1-4}
23   &8M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_23.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+23.\+ptau}}   &3063a0bd81d68711197c8820a92466d51aeac93e915f5136d74f63c394ee6d88c5e8016231ea6580bec02e25d491f319d92e77f5c7f46a9caa8f3b53c0ea544f    \\\cline{1-4}
24   &16M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_24.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+24.\+ptau}}   &fa404d140d5819d39984833ca5ec3632cd4995f81e82db402371a4de7c2eae8687c62bc632a95b0c6aadba3fb02680a94e09174b7233ccd26d78baca2647c733    \\\cline{1-4}
25   &32M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_25.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+25.\+ptau}}   &0377d860cdb09a8a31ea1b0b8c04335614c8206357181573bf294c25d5ca7dff72387224fbd868897e6769f7805b3dab02854aec6d69d7492883b5e4e5f35eeb    \\\cline{1-4}
26   &64M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_26.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+26.\+ptau}}   &418dee4a74b9592198bd8fd02ad1aea76f9cf3085f206dfd7d594c9e264ae919611b1459a1cc920c2f143417744ba9edd7b8d51e44be9452344a225ff7eead19    \\\cline{1-4}
27   &128M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final_27.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final\+\_\+27.\+ptau}}   &10ffd99837c512ef99752436a54b9810d1ac8878d368fb4b806267bdd664b4abf276c9cd3c4b9039a1fa4315a0c326c0e8e9e8fe0eb588ffd4f9021bf7eae1a1    \\\cline{1-4}
28   &256M   &\href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final.\+ptau}}   &55c77ce8562366c91e7cda394cf7b7c15a06c12d8c905e8b36ba9cf5e13eb37d1a429c589e8eaba4c591bc4b88a0e2828745a53e170eac300236f5c1a326f41a   \\\cline{1-4}
\end{longtabu}


There is a file truncated for each power of two.

The complete file is \href{https://storage.googleapis.com/zkevm/ptau/powersOfTau28_hez_final.ptau}{\texttt{ powers\+Of\+Tau28\+\_\+hez\+\_\+final.\+ptau}} which includes 2\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}28 powers.

And it\textquotesingle{}s blake2b hash is\+:

55c77ce8562366c91e7cda394cf7b7c15a06c12d8c905e8b36ba9cf5e13eb37d1a429c589e8eaba4c591bc4b88a0e2828745a53e170eac300236f5c1a326f41a

You can find more information about the ceremony \href{https://github.com/weijiekoh/perpetualpowersoftau}{\texttt{ here}}

The last ptau file was generated using this procedure\+:

\href{https://www.reddit.com/r/ethereum/comments/iftos6/powers_of_tau_selection_for_hermez_rollup/}{\texttt{ https\+://www.\+reddit.\+com/r/ethereum/comments/iftos6/powers\+\_\+of\+\_\+tau\+\_\+selection\+\_\+for\+\_\+hermez\+\_\+rollup/}}

\DoxyHorRuler{0}
\hypertarget{README.md_autotoc_md30917}{}\doxysubsubsubsection{\texorpdfstring{8. Verify the final {\ttfamily ptau}}{8. Verify the final {\ttfamily ptau}}}\label{README.md_autotoc_md30917}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ powersoftau\ verify\ pot14\_final.ptau}

\end{DoxyCode}


The {\ttfamily verify} command verifies a powers of tau file.

Before we go ahead and create the circuit, we perform a final check and verify the final protocol transcript.

\begin{quote}
Notice there is no longer a warning informing you that the file does not contain phase 2 precalculated values. \end{quote}
\hypertarget{README.md_autotoc_md30918}{}\doxysubsubsubsection{\texorpdfstring{9. Create the circuit}{9. Create the circuit}}\label{README.md_autotoc_md30918}

\begin{DoxyCode}{0}
\DoxyCodeLine{cat\ <<EOT\ >\ circuit.circom}
\DoxyCodeLine{pragma\ circom\ 2.0.0;}
\DoxyCodeLine{}
\DoxyCodeLine{template\ Multiplier(n)\ \{}
\DoxyCodeLine{\ \ \ \ signal\ input\ a;}
\DoxyCodeLine{\ \ \ \ signal\ input\ b;}
\DoxyCodeLine{\ \ \ \ signal\ output\ c;}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ signal\ int[n];}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ int[0]\ <==\ a*a\ +\ b;}
\DoxyCodeLine{\ \ \ \ for\ (var\ i=1;\ i<n;\ i++)\ \{}
\DoxyCodeLine{\ \ \ \ int[i]\ <==\ int[i-\/1]*int[i-\/1]\ +\ b;}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ c\ <==\ int[n-\/1];}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{component\ main\ =\ Multiplier(1000);}
\DoxyCodeLine{EOT}

\end{DoxyCode}


We create a circom file that allows us to easily test the system with a different number of constraints.

In this case, we\textquotesingle{}ve chosen {\ttfamily 1000}, but we can change this to anything we want (as long as the value we choose is below the number we defined in step 1).\hypertarget{README.md_autotoc_md30919}{}\doxysubsubsubsection{\texorpdfstring{10. Compile the circuit}{10. Compile the circuit}}\label{README.md_autotoc_md30919}

\begin{DoxyCode}{0}
\DoxyCodeLine{circom\ -\/-\/r1cs\ -\/-\/wasm\ -\/-\/c\ -\/-\/sym\ -\/-\/inspect\ circuit.circom}

\end{DoxyCode}


The {\ttfamily circom} command takes one input (the circuit to compile, in our case {\ttfamily circuit.\+circom}) and three options\+:


\begin{DoxyItemize}
\item {\ttfamily r1cs}\+: generates {\ttfamily circuit.\+r1cs} (the r1cs constraint system of the circuit in binary format).
\item {\ttfamily wasm}\+: generates {\ttfamily circuit.\+wasm} (the wasm code to generate the witness – more on that later).
\item {\ttfamily c}\+: generates c++ witness calculator code.
\item {\ttfamily sym}\+: generates {\ttfamily circuit.\+sym} (a symbols file required for debugging and printing the constraint system in an annotated mode).
\item {\ttfamily inspect}\+: does additional checks over the constraints produced.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md30920}{}\doxysubsubsubsection{\texorpdfstring{11. View information about the circuit}{11. View information about the circuit}}\label{README.md_autotoc_md30920}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ r1cs\ info\ circuit.r1cs}

\end{DoxyCode}


The {\ttfamily info} command is used to print circuit stats.

You should see the following output\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ Curve:\ bn-\/128}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ \#\ of\ Wires:\ 1003}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ \#\ of\ Constraints:\ 1000}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ \#\ of\ Private\ Inputs:\ 2}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ \#\ of\ Public\ Inputs:\ 0}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ \#\ of\ Outputs:\ 1}

\end{DoxyCode}


This information fits with our mental map of the circuit we created\+: we had two private inputs {\ttfamily a} and {\ttfamily b}, one output {\ttfamily c}, and a thousand constraints of the form {\ttfamily a \texorpdfstring{$\ast$}{*} b = c.}\hypertarget{README.md_autotoc_md30921}{}\doxysubsubsubsection{\texorpdfstring{12. Print the constraints}{12. Print the constraints}}\label{README.md_autotoc_md30921}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ r1cs\ print\ circuit.r1cs\ circuit.sym}

\end{DoxyCode}


To double-\/check, we print the constraints of the circuit.

You should see a thousand constraints of the form\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{[\ -\/main.int[i]\ ]\ *\ [\ main.int[i]\ ]\ -\/\ [\ main.b\ -\/main.int[i+1]\ ]\ =\ 0}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30922}{}\doxysubsubsubsection{\texorpdfstring{13. Export r1cs to json}{13. Export r1cs to json}}\label{README.md_autotoc_md30922}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ r1cs\ export\ json\ circuit.r1cs\ circuit.r1cs.json}
\DoxyCodeLine{cat\ circuit.r1cs.json}

\end{DoxyCode}


We export {\ttfamily r1cs} to {\ttfamily json} format to make it human-\/readable.\hypertarget{README.md_autotoc_md30923}{}\doxysubsubsubsection{\texorpdfstring{14. Calculate the witness}{14. Calculate the witness}}\label{README.md_autotoc_md30923}
First, we create a file with the inputs for our circuit\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{cat\ <<EOT\ >\ input.json}
\DoxyCodeLine{\{"{}a"{}:\ "{}3"{},\ "{}b"{}:\ "{}11"{}\}}
\DoxyCodeLine{EOT}

\end{DoxyCode}


Note that integers in json file are enclosed in double quotation marks, because otherwise json format loses precision when working with big integers.

Now, we use the Javascript/\+WASM program created by {\ttfamily circom} in the directory \texorpdfstring{$\ast$}{*}$<$circuit\+\_\+name$>$\+\_\+js\texorpdfstring{$\ast$}{*} to create the witness (values of all the wires) for our inputs\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ wtns\ calculate\ circuit\_js/circuit.wasm\ input.json\ witness.wtns}

\end{DoxyCode}


Alternatively, you can do\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{node\ circuit\_js/generate\_witness.js\ circuit\_js/circuit.wasm\ input.json\ witness.wtns}

\end{DoxyCode}


We can check if the generated witness complies with the {\ttfamily r1cs} file with the following command\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ wtns\ check\ circuit.r1cs\ witness.wtns}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30924}{}\doxysubsubsubsection{\texorpdfstring{15. Setup}{15. Setup}}\label{README.md_autotoc_md30924}
Currently, snarkjs supports 3 proving systems\+: Groth16, PLONK, and FFLONK (Beta version).

Groth16 requires a trusted ceremony for each circuit. PLONK and FFLONK do not require it, it\textquotesingle{}s enough with the powers of tau ceremony which is universal.\hypertarget{README.md_autotoc_md30925}{}\doxysubsubsubsubsection{\texorpdfstring{Plonk}{Plonk}}\label{README.md_autotoc_md30925}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ plonk\ setup\ circuit.r1cs\ pot14\_final.ptau\ circuit\_final.zkey}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30926}{}\doxysubsubsubsubsection{\texorpdfstring{Fflonk}{Fflonk}}\label{README.md_autotoc_md30926}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ fflonk\ setup\ circuit.r1cs\ pot14\_final.ptau\ circuit.zkey}

\end{DoxyCode}


You can jump directly to Section 21 as PLONK and FFLONK do not require a circuit-\/specific trusted ceremony.\hypertarget{README.md_autotoc_md30927}{}\doxysubsubsubsubsection{\texorpdfstring{Groth16}{Groth16}}\label{README.md_autotoc_md30927}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ groth16\ setup\ circuit.r1cs\ pot14\_final.ptau\ circuit\_0000.zkey}

\end{DoxyCode}


This generates the reference {\ttfamily zkey} without phase 2 contributions.

IMPORTANT\+: Do not use this zkey in production, as it\textquotesingle{}s not safe. It requires at least one contribution.

The {\ttfamily zkey new} command creates an initial {\ttfamily zkey} file with zero contributions.

The {\ttfamily zkey} is a zero-\/knowledge key that includes both the proving and verification keys as well as phase 2 contributions.

Importantly, one can verify whether a {\ttfamily zkey} belongs to a specific circuit or not.

Note that {\ttfamily circuit\+\_\+0000.\+zkey} (the output of the {\ttfamily zkey} command above) does not include any contributions yet, so it cannot be used in a final circuit.

{\itshape The following steps (15-\/20) are similar to the equivalent phase 1 steps, except we use {\ttfamily zkey} instead of {\ttfamily powersoftau} as the main command, and we generate {\ttfamily zkey} rather than {\ttfamily ptau} files.}\hypertarget{README.md_autotoc_md30928}{}\doxysubsubsubsection{\texorpdfstring{16. Contribute to the phase 2 ceremony}{16. Contribute to the phase 2 ceremony}}\label{README.md_autotoc_md30928}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ contribute\ circuit\_0000.zkey\ circuit\_0001.zkey\ -\/-\/name="{}1st\ Contributor\ Name"{}\ -\/v}

\end{DoxyCode}


The {\ttfamily zkey contribute} command creates a {\ttfamily zkey} file with a new contribution.

As in phase 1, you\textquotesingle{}ll be prompted to enter some random text to provide an extra source of entropy.\hypertarget{README.md_autotoc_md30929}{}\doxysubsubsubsection{\texorpdfstring{17. Provide a second contribution}{17. Provide a second contribution}}\label{README.md_autotoc_md30929}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ contribute\ circuit\_0001.zkey\ circuit\_0002.zkey\ -\/-\/name="{}Second\ contribution\ Name"{}\ -\/v\ -\/e="{}Another\ random\ entropy"{}}

\end{DoxyCode}


We provide a second contribution.\hypertarget{README.md_autotoc_md30930}{}\doxysubsubsubsection{\texorpdfstring{18. Provide a third contribution using third-\/party software}{18. Provide a third contribution using third-\/party software}}\label{README.md_autotoc_md30930}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ export\ bellman\ circuit\_0002.zkey\ \ challenge\_phase2\_0003}
\DoxyCodeLine{snarkjs\ zkey\ bellman\ contribute\ bn128\ challenge\_phase2\_0003\ response\_phase2\_0003\ -\/e="{}some\ random\ text"{}}
\DoxyCodeLine{snarkjs\ zkey\ import\ bellman\ circuit\_0002.zkey\ response\_phase2\_0003\ circuit\_0003.zkey\ -\/n="{}Third\ contribution\ name"{}}

\end{DoxyCode}


And a third using \href{https://github.com/kobigurk/phase2-bn254}{\texttt{ third-\/party software}}.\hypertarget{README.md_autotoc_md30931}{}\doxysubsubsubsection{\texorpdfstring{19. Verify the latest {\ttfamily zkey}}{19. Verify the latest {\ttfamily zkey}}}\label{README.md_autotoc_md30931}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ verify\ circuit.r1cs\ pot14\_final.ptau\ circuit\_0003.zkey}

\end{DoxyCode}


The {\ttfamily zkey verify} command verifies a {\ttfamily zkey} file. It also prints the hashes of all the intermediary results to the console.

We verify the {\ttfamily zkey} file we created in the previous step, which means we check all the contributions to the second phase of the multi-\/party computation (MPC) up to that point.

This command also checks that the {\ttfamily zkey} file matches the circuit.

If everything checks out, you should see the following\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{[INFO]\ \ snarkJS:\ ZKey\ Ok!}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30932}{}\doxysubsubsubsection{\texorpdfstring{20. Apply a random beacon}{20. Apply a random beacon}}\label{README.md_autotoc_md30932}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ beacon\ circuit\_0003.zkey\ circuit\_final.zkey\ 0102030405060708090a0b0c0d0e0f101112131415161718191a1b1c1d1e1f\ 10\ -\/n="{}Final\ Beacon\ phase2"{}}

\end{DoxyCode}


The {\ttfamily zkey beacon} command creates a {\ttfamily zkey} file with a contribution applied in the form of a random beacon.

We use it to apply a random beacon to the latest {\ttfamily zkey} after the final contribution has been made (this is necessary to generate a final {\ttfamily zkey} file and finalize phase 2 of the trusted setup).\hypertarget{README.md_autotoc_md30933}{}\doxysubsubsubsection{\texorpdfstring{21. Verify the final {\ttfamily zkey}}{21. Verify the final {\ttfamily zkey}}}\label{README.md_autotoc_md30933}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ verify\ circuit.r1cs\ pot14\_final.ptau\ circuit\_final.zkey}

\end{DoxyCode}


Before we go ahead and export the verification key as a {\ttfamily json}, we perform a final check and verify the final protocol transcript ({\ttfamily zkey}).\hypertarget{README.md_autotoc_md30934}{}\doxysubsubsubsection{\texorpdfstring{22. Export the verification key}{22. Export the verification key}}\label{README.md_autotoc_md30934}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ export\ verificationkey\ circuit\_final.zkey\ verification\_key.json}

\end{DoxyCode}
 We export the verification key from {\ttfamily circuit\+\_\+final.\+zkey} into {\ttfamily verification\+\_\+key.\+json}.\hypertarget{README.md_autotoc_md30935}{}\doxysubsubsubsection{\texorpdfstring{23. Create the proof}{23. Create the proof}}\label{README.md_autotoc_md30935}
\hypertarget{README.md_autotoc_md30936}{}\doxysubsubsubsubsection{\texorpdfstring{PLONK}{PLONK}}\label{README.md_autotoc_md30936}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ plonk\ prove\ circuit\_final.zkey\ witness.wtns\ proof.json\ public.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30937}{}\doxysubsubsubsubsection{\texorpdfstring{FFLONK}{FFLONK}}\label{README.md_autotoc_md30937}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ fflonk\ prove\ circuit.zkey\ witness.wtns\ proof.json\ public.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30938}{}\doxysubsubsubsubsection{\texorpdfstring{Groth16}{Groth16}}\label{README.md_autotoc_md30938}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ groth16\ prove\ circuit\_final.zkey\ witness.wtns\ proof.json\ public.json}

\end{DoxyCode}


We create the proof. This command generates the files {\ttfamily proof.\+json} and {\ttfamily public.\+json}\+:
\begin{DoxyItemize}
\item {\ttfamily proof.\+json} contains the actual proof.
\item {\ttfamily public.\+json} contains the values of the public inputs and output.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md30939}{}\doxysubsubsubsection{\texorpdfstring{23a. Calculate the witness and generate the proof in one step}{23a. Calculate the witness and generate the proof in one step}}\label{README.md_autotoc_md30939}
Note that it\textquotesingle{}s also possible to create the proof and calculate the witness in the same command by running\+:\hypertarget{README.md_autotoc_md30940}{}\doxysubsubsubsubsection{\texorpdfstring{PLONK}{PLONK}}\label{README.md_autotoc_md30940}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ plonk\ fullprove\ witness.json\ circuit.wasm\ circuit\_final.zkey\ proof.json\ public.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30941}{}\doxysubsubsubsubsection{\texorpdfstring{FFLONK}{FFLONK}}\label{README.md_autotoc_md30941}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ fflonk\ fullprove\ witness.json\ circuit.wasm\ circuit\_final.zkey\ proof.json\ public.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30942}{}\doxysubsubsubsubsection{\texorpdfstring{Groth16}{Groth16}}\label{README.md_autotoc_md30942}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ groth16\ fullprove\ input.json\ circuit.wasm\ circuit\_final.zkey\ proof.json\ public.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30943}{}\doxysubsubsubsection{\texorpdfstring{24. Verify the proof}{24. Verify the proof}}\label{README.md_autotoc_md30943}
\hypertarget{README.md_autotoc_md30944}{}\doxysubsubsubsubsection{\texorpdfstring{PLONK}{PLONK}}\label{README.md_autotoc_md30944}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ plonk\ verify\ verification\_key.json\ public.json\ proof.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30945}{}\doxysubsubsubsubsection{\texorpdfstring{FFLONK}{FFLONK}}\label{README.md_autotoc_md30945}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ fflonk\ verify\ verification\_key.json\ public.json\ proof.json}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30946}{}\doxysubsubsubsubsection{\texorpdfstring{Groth16}{Groth16}}\label{README.md_autotoc_md30946}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ groth16\ verify\ verification\_key.json\ public.json\ proof.json}

\end{DoxyCode}


We use this command to verify the proof, passing in the {\ttfamily verification\+\_\+key} we exported earlier.

If all is well, you should see that {\ttfamily OK} has been outputted to your console. This signifies the proof is valid.\hypertarget{README.md_autotoc_md30947}{}\doxysubsubsubsection{\texorpdfstring{25. Turn the verifier into a smart contract}{25. Turn the verifier into a smart contract}}\label{README.md_autotoc_md30947}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ export\ solidityverifier\ circuit\_final.zkey\ verifier.sol}

\end{DoxyCode}


Finally, we export the verifier as a Solidity smart contract so that we can publish it on-\/chain -- using \href{https://remix.ethereum.org/}{\texttt{ remix}} for example. For details on how to do this, refer to section 4 of \href{https://blog.iden3.io/first-zk-proof.html}{\texttt{ this tutorial}}.\hypertarget{README.md_autotoc_md30948}{}\doxysubsubsubsection{\texorpdfstring{26. Simulate a verification call}{26. Simulate a verification call}}\label{README.md_autotoc_md30948}

\begin{DoxyCode}{0}
\DoxyCodeLine{snarkjs\ zkey\ export\ soliditycalldata\ public.json\ proof.json}

\end{DoxyCode}


We use {\ttfamily soliditycalldata} to simulate a verification call and cut-\/and-\/paste the result directly into the verify\+Proof field in the deployed smart contract in the remix environment.

And voila! That\textquotesingle{}s all there is to it \+:)\hypertarget{README.md_autotoc_md30949}{}\doxysubsubsection{\texorpdfstring{Using Node}{Using Node}}\label{README.md_autotoc_md30949}

\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ init}
\DoxyCodeLine{npm\ install\ snarkjs}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ snarkjs\ =\ require("{}snarkjs"{});}
\DoxyCodeLine{const\ fs\ =\ require("{}fs"{});}
\DoxyCodeLine{}
\DoxyCodeLine{async\ function\ run()\ \{}
\DoxyCodeLine{\ \ \ \ const\ \{\ proof,\ publicSignals\ \}\ =\ await\ snarkjs.groth16.fullProve(\{a:\ 10,\ b:\ 21\},\ "{}circuit.wasm"{},\ "{}circuit\_final.zkey"{});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ console.log("{}Proof:\ "{});}
\DoxyCodeLine{\ \ \ \ console.log(JSON.stringify(proof,\ null,\ 1));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ const\ vKey\ =\ JSON.parse(fs.readFileSync("{}verification\_key.json"{}));}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ const\ res\ =\ await\ snarkjs.groth16.verify(vKey,\ publicSignals,\ proof);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ if\ (res\ ===\ true)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log("{}Verification\ OK"{});}
\DoxyCodeLine{\ \ \ \ \}\ else\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ console.log("{}Invalid\ proof"{});}
\DoxyCodeLine{\ \ \ \ \}}
\DoxyCodeLine{}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{run().then(()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ process.exit(0);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30950}{}\doxysubsubsection{\texorpdfstring{In the browser}{In the browser}}\label{README.md_autotoc_md30950}
Load {\ttfamily snarkjs.\+min.\+js} and start using it as usual.


\begin{DoxyCode}{0}
\DoxyCodeLine{cp\ node\_modules/snarkjs/build/snarkjs.min.js\ .}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{<!doctype\ html>}
\DoxyCodeLine{<html>}
\DoxyCodeLine{<head>}
\DoxyCodeLine{\ \ <title>Snarkjs\ client\ example</title>}
\DoxyCodeLine{</head>}
\DoxyCodeLine{<body>}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ <h1>Snarkjs\ client\ example</h1>}
\DoxyCodeLine{\ \ <button\ id="{}bGenProof"{}>\ Create\ proof\ </button>}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ <!-\/-\/\ JS-\/generated\ output\ will\ be\ added\ here.\ -\/-\/>}
\DoxyCodeLine{\ \ <pre\ class="{}proof"{}>\ Proof:\ <code\ id="{}proof"{}></code></pre>}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ <pre\ class="{}proof"{}>\ Result:\ <code\ id="{}result"{}></code></pre>}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ <script\ src="{}snarkjs.min.js"{}>\ \ \ </script>}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ <!-\/-\/\ This\ is\ the\ bundle\ generated\ by\ rollup.js\ -\/-\/>}
\DoxyCodeLine{\ \ <script>}
\DoxyCodeLine{}
\DoxyCodeLine{const\ proofComponent\ =\ document.getElementById('proof');}
\DoxyCodeLine{const\ resultComponent\ =\ document.getElementById('result');}
\DoxyCodeLine{const\ bGenProof\ =\ document.getElementById("{}bGenProof"{});}
\DoxyCodeLine{}
\DoxyCodeLine{bGenProof.addEventListener("{}click"{},\ calculateProof);}
\DoxyCodeLine{}
\DoxyCodeLine{async\ function\ calculateProof()\ \{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ const\ \{\ proof,\ publicSignals\ \}\ =}
\DoxyCodeLine{\ \ \ \ \ \ await\ snarkjs.groth16.fullProve(\ \{\ a:\ 3,\ b:\ 11\},\ "{}circuit.wasm"{},\ "{}circuit\_final.zkey"{});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ proofComponent.innerHTML\ =\ JSON.stringify(proof,\ null,\ 1);}
\DoxyCodeLine{}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ const\ vkey\ =\ await\ fetch("{}verification\_key.json"{}).then(\ function(res)\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ return\ res.json();}
\DoxyCodeLine{\ \ \ \ \});}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ const\ res\ =\ await\ snarkjs.groth16.verify(vkey,\ publicSignals,\ proof);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ resultComponent.innerHTML\ =\ res;}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ </script>}
\DoxyCodeLine{}
\DoxyCodeLine{</body>}
\DoxyCodeLine{</html>}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md30951}{}\doxysubsubsection{\texorpdfstring{Security}{Security}}\label{README.md_autotoc_md30951}
We advise using the latest version of snarkjs as previous versions may contain bugs and security issues.\hypertarget{README.md_autotoc_md30952}{}\doxysubsubsection{\texorpdfstring{Further resources}{Further resources}}\label{README.md_autotoc_md30952}

\begin{DoxyItemize}
\item \href{https://medium.com/coinmonks/announcing-the-perpetual-powers-of-tau-ceremony-to-benefit-all-zk-snark-projects-c3da86af8377}{\texttt{ Announcing the Perpetual Powers of Tau Ceremony to benefit all zk-\/\+SNARK projects}}
\item \href{https://eprint.iacr.org/2017/1050.pdf}{\texttt{ Scalable Multi-\/party Computation for zk-\/\+SNARK Parameters in the Random Beacon Model}}
\item \href{https://github.com/kobigurk/phase2-bn254}{\texttt{ phase2-\/bn254}}
\item \href{https://github.com/weijiekoh/perpetualpowersoftau}{\texttt{ Perpetual Powers of Tau}}
\item \href{https://github.com/ebfull/powersoftau}{\texttt{ Powers of Tau}}
\item \href{https://www.zeroknowledge.fm/133}{\texttt{ Trusted setup ceremonies explored}}
\item \href{https://github.com/LHerskind/snarkjs-react}{\texttt{ Simple react project using snarkjs}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md30953}{}\doxysubsubsection{\texorpdfstring{Final note}{Final note}}\label{README.md_autotoc_md30953}
We hope you enjoyed this quick walk-\/through. Please address any questions you may have to our \href{https://t.me/iden3io}{\texttt{ telegram group}} (it’s also a great way to join the community and stay up-\/to-\/date with the latest circom and snarkjs developments) 💙\hypertarget{README.md_autotoc_md30954}{}\doxysubsubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md30954}
snarkjs is part of the iden3 project copyright 2018 0KIMS association and published with GPL-\/3 license. Please check the COPYING file for more details. 