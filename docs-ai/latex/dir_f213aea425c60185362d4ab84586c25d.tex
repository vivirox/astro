\doxysection{node\+\_\+modules/vscode-\/nls Directory Reference}
\hypertarget{dir_f213aea425c60185362d4ab84586c25d}{}\label{dir_f213aea425c60185362d4ab84586c25d}\index{node\_modules/vscode-\/nls Directory Reference@{node\_modules/vscode-\/nls Directory Reference}}


\doxysubsection{Detailed Description}
Common\+JS module to support externalization and localization. The module only depends on Node.\+js however its primary use case is for VSCode extensions.

\href{https://travis-ci.org/Microsoft/vscode-nls}{\texttt{ }} \href{https://npmjs.org/package/vscode-nls}{\texttt{ }} \href{https://npmjs.org/package/vscode-nls}{\texttt{ }}\hypertarget{README.md_autotoc_md35412}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md35412}

\begin{DoxyCode}{0}
\DoxyCodeLine{//\ This\ must\ be\ the\ first\ import\ in\ the\ main\ entry\ file}
\DoxyCodeLine{import\ *\ as\ nls\ from\ 'vscode-\/nls';}
\DoxyCodeLine{}
\DoxyCodeLine{let\ localize\ =\ nls.config(\{\ locale:\ 'de-\/DE'\ \})();}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(localize('keyOne',\ "{}Hello\ World"{}));}
\DoxyCodeLine{console.log(localize('keyTwo',\ "{}Current\ Date\ \{0\}"{},\ Date.now()));}

\end{DoxyCode}


The {\ttfamily config} call configures the nls module and should only be called once in the applications entry point. You pass in the locale you want to use and whether the resolved locale should be cached for all further calls. The config call returns a function which is used to load a message bundle. During development time the argument should stay empty. There is another tool that helps extracting the message from your sources and it creates the message bundles automatically for you. The tool is available \href{https://github.com/Microsoft/vscode-nls-dev}{\texttt{ here}}.

In secondary modules loaded from the \textquotesingle{}main\textquotesingle{} module no configuration is necessary. However you still need to load the nls module and load the message bundle. This looks like this\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ In\ secondary\ file\ this\ import\ can\ be\ at\ random\ places.}
\DoxyCodeLine{import\ *\ as\ nls\ from\ 'vscode-\/nls';}
\DoxyCodeLine{}
\DoxyCodeLine{let\ localize\ =\ nls.loadMessageBundle();}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(localize('keyOne',\ "{}Hello\ World"{}));}

\end{DoxyCode}


During development time the strings in the code are presented to the user. If the locale is set to \textquotesingle{}pseudo\textquotesingle{} the messages are modified in the following form\+:


\begin{DoxyItemize}
\item vowels are doubled
\item the string is prefixed with \textquotesingle{}\textbackslash{}u\+FF3B\textquotesingle{} (Unicode zenkaku representation for \mbox{[}) and postfixed with \textquotesingle{}\textbackslash{}u\+FF3D\textquotesingle{} (Unicode zenkaku representation for \mbox{]})
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35413}{}\doxysubsection{\texorpdfstring{History}{History}}\label{README.md_autotoc_md35413}
\hypertarget{README.md_autotoc_md35414}{}\doxysubsubsection{\texorpdfstring{5.\+2.\+0}{5.\+2.\+0}}\label{README.md_autotoc_md35414}

\begin{DoxyItemize}
\item Removes injection mechanism due to breaking extensions. Please see \href{https://github.com/microsoft/vscode-nls/issues/44}{\texttt{ Issue \#44}} for more details.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35415}{}\doxysubsubsection{\texorpdfstring{5.\+1.\+0}{5.\+1.\+0}}\label{README.md_autotoc_md35415}

\begin{DoxyItemize}
\item Enable a mechanism for something to inject data into vscode-\/nls. This will be used by VS Code to inject translations into the nls module so that vscode-\/nls can work in the web. \href{https://github.com/microsoft/vscode-nls/pull/42}{\texttt{ Context in this PR}}.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35416}{}\doxysubsubsection{\texorpdfstring{5.\+0.\+1}{5.\+0.\+1}}\label{README.md_autotoc_md35416}

\begin{DoxyItemize}
\item Fixes null check in {\ttfamily nls.\+config(\{...\})} on web. \href{https://github.com/microsoft/vscode-nls/pull/37}{\texttt{ Context in this PR by {\itshape }-\/stewart}}
\item Misc dependency upgrades
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35417}{}\doxysubsubsection{\texorpdfstring{5.\+0.\+0}{5.\+0.\+0}}\label{README.md_autotoc_md35417}

\begin{DoxyItemize}
\item Split code into common, node and browser to support using vscode-\/nls in a Web browser. This is a breaking change and need adoption since the default exports of the module are only exporting the common types. To import the node specific part use {\ttfamily vscode-\/nls\textbackslash{}node}. To use the browser specific part import {\ttfamily vscode-\/nls\textbackslash{}browser}.
\end{DoxyItemize}

The browser specific part currently does only support a default language inline in code. There is no support yet to load a different language bundle during runtime. However the split allows to web pack the {\ttfamily vscode-\/nls} module.\hypertarget{README.md_autotoc_md35418}{}\doxysubsubsection{\texorpdfstring{4.\+1.\+1}{4.\+1.\+1}}\label{README.md_autotoc_md35418}

\begin{DoxyItemize}
\item Fixes \href{https://github.com/microsoft/vscode-nls/issues/23}{\texttt{ Bundled nls doesn\textquotesingle{}t work}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35419}{}\doxysubsubsection{\texorpdfstring{4.\+1.\+0}{4.\+1.\+0}}\label{README.md_autotoc_md35419}

\begin{DoxyItemize}
\item support language and locale when resolving options from {\ttfamily VSCODE\+\_\+\+NLS\+\_\+\+CONFIG} setting.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35420}{}\doxysubsubsection{\texorpdfstring{4.\+0.\+0}{4.\+0.\+0}}\label{README.md_autotoc_md35420}

\begin{DoxyItemize}
\item make vscode-\/nls webpack friendly (removal of require calls)
\item narrow type for var args in {\ttfamily localize} function to {\ttfamily string \texorpdfstring{$\vert$}{|} number \texorpdfstring{$\vert$}{|} boolean \texorpdfstring{$\vert$}{|} null \texorpdfstring{$\vert$}{|} undefined}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35421}{}\doxysubsubsection{\texorpdfstring{3.\+0.\+0\+:}{3.\+0.\+0\+:}}\label{README.md_autotoc_md35421}

\begin{DoxyItemize}
\item added support to bundle the strings into a single {\ttfamily nls.\+bundle(.\$\{locale\})?.json} file.
\item added support for VS Code language packs.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35422}{}\doxysubsubsection{\texorpdfstring{2.\+0.\+2\+:}{2.\+0.\+2\+:}}\label{README.md_autotoc_md35422}

\begin{DoxyItemize}
\item moved to Type\+Script 2.\+1.\+5. Adapted to @types d.\+ts files instead of including typings directly into the repository.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35423}{}\doxysubsubsection{\texorpdfstring{2.\+0.\+1\+:}{2.\+0.\+1\+:}}\label{README.md_autotoc_md35423}

\begin{DoxyItemize}
\item based on Type\+Script 2.\+0. Since TS changed the shape of the d.\+ts files for 2.\+0.\+x a major version number got introduce to not break existing clients using Type\+Script 1.\+8.\+x.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md35424}{}\doxysubsection{\texorpdfstring{LICENSE}{LICENSE}}\label{README.md_autotoc_md35424}
\href{License.txt}{\texttt{ MIT}} 