\doxysection{node\+\_\+modules/@testing-\/library/dom/node\+\_\+modules/pretty-\/format Directory Reference}
\hypertarget{dir_85ef199b133a7eb0dd5b0f5ca22bf84a}{}\label{dir_85ef199b133a7eb0dd5b0f5ca22bf84a}\index{node\_modules/"@testing-\/library/dom/node\_modules/pretty-\/format Directory Reference@{node\_modules/"@testing-\/library/dom/node\_modules/pretty-\/format Directory Reference}}
\doxysubsubsection*{Directories}
\begin{DoxyCompactItemize}
\item 
directory \mbox{\hyperlink{dir_a81183f73526bfc4754180c467604e7d}{node\+\_\+modules}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Stringify any Java\+Script value.


\begin{DoxyItemize}
\item Serialize built-\/in Java\+Script types.
\item Serialize application-\/specific data types with built-\/in or user-\/defined plugins.
\end{DoxyItemize}\hypertarget{README.md_autotoc_md6253}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md6253}

\begin{DoxyCode}{0}
\DoxyCodeLine{\$\ yarn\ add\ pretty-\/format}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6254}{}\doxysubsection{\texorpdfstring{Usage}{Usage}}\label{README.md_autotoc_md6254}

\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{format:\ prettyFormat\}\ =\ require('pretty-\/format');\ //\ CommonJS}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{import\ \{format\ as\ prettyFormat\}\ from\ 'pretty-\/format';\ //\ ES2015\ modules}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ val\ =\ \{object:\ \{\}\};}
\DoxyCodeLine{val.circularReference\ =\ val;}
\DoxyCodeLine{val[Symbol('foo')]\ =\ 'foo';}
\DoxyCodeLine{val.map\ =\ new\ Map([['prop',\ 'value']]);}
\DoxyCodeLine{val.array\ =\ [-\/0,\ Infinity,\ NaN];}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(prettyFormat(val));}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}array"{}:\ Array\ [}
\DoxyCodeLine{\ \ \ \ -\/0,}
\DoxyCodeLine{\ \ \ \ Infinity,}
\DoxyCodeLine{\ \ \ \ NaN,}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\ \ "{}circularReference"{}:\ [Circular],}
\DoxyCodeLine{\ \ "{}map"{}:\ Map\ \{}
\DoxyCodeLine{\ \ \ \ "{}prop"{}\ =>\ "{}value"{},}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ "{}object"{}:\ Object\ \{\},}
\DoxyCodeLine{\ \ Symbol(foo):\ "{}foo"{},}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6255}{}\doxysubsection{\texorpdfstring{Usage with options}{Usage with options}}\label{README.md_autotoc_md6255}

\begin{DoxyCode}{0}
\DoxyCodeLine{function\ onClick()\ \{\}}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(prettyFormat(onClick));}
\DoxyCodeLine{/*}
\DoxyCodeLine{[Function\ onClick]}
\DoxyCodeLine{*/}
\DoxyCodeLine{}
\DoxyCodeLine{const\ options\ =\ \{}
\DoxyCodeLine{\ \ printFunctionName:\ false,}
\DoxyCodeLine{\};}
\DoxyCodeLine{console.log(prettyFormat(onClick,\ options));}
\DoxyCodeLine{/*}
\DoxyCodeLine{[Function]}
\DoxyCodeLine{*/}

\end{DoxyCode}


\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ key   }&\cellcolor{\tableheadbgcolor}\textbf{ type   }&\cellcolor{\tableheadbgcolor}\textbf{ default   }&\cellcolor{\tableheadbgcolor}\textbf{ description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ key   }&\cellcolor{\tableheadbgcolor}\textbf{ type   }&\cellcolor{\tableheadbgcolor}\textbf{ default   }&\cellcolor{\tableheadbgcolor}\textbf{ description    }\\\cline{1-4}
\endhead
{\ttfamily call\+To\+JSON}   &{\ttfamily boolean}   &{\ttfamily true}   &call {\ttfamily to\+JSON} method (if it exists) on objects    \\\cline{1-4}
{\ttfamily compare\+Keys}   &{\ttfamily function}   &{\ttfamily undefined}   &compare function used when sorting object keys    \\\cline{1-4}
{\ttfamily escape\+Regex}   &{\ttfamily boolean}   &{\ttfamily false}   &escape special characters in regular expressions    \\\cline{1-4}
{\ttfamily escape\+String}   &{\ttfamily boolean}   &{\ttfamily true}   &escape special characters in strings    \\\cline{1-4}
{\ttfamily highlight}   &{\ttfamily boolean}   &{\ttfamily false}   &highlight syntax with colors in terminal (some plugins)    \\\cline{1-4}
{\ttfamily indent}   &{\ttfamily number}   &{\ttfamily 2}   &spaces in each level of indentation    \\\cline{1-4}
{\ttfamily max\+Depth}   &{\ttfamily number}   &{\ttfamily Infinity}   &levels to print in arrays, objects, elements, and so on    \\\cline{1-4}
{\ttfamily min}   &{\ttfamily boolean}   &{\ttfamily false}   &minimize added space\+: no indentation nor line breaks    \\\cline{1-4}
{\ttfamily plugins}   &{\ttfamily array}   &{\ttfamily \mbox{[}\mbox{]}}   &plugins to serialize application-\/specific data types    \\\cline{1-4}
{\ttfamily print\+Basic\+Prototype}   &{\ttfamily boolean}   &{\ttfamily false}   &print the prototype for plain objects and arrays    \\\cline{1-4}
{\ttfamily print\+Function\+Name}   &{\ttfamily boolean}   &{\ttfamily true}   &include or omit the name of a function    \\\cline{1-4}
{\ttfamily theme}   &{\ttfamily object}   &&colors to highlight syntax in terminal   \\\cline{1-4}
\end{longtabu}


Property values of {\ttfamily theme} are from \href{https://github.com/chalk/ansi-styles\#colors}{\texttt{ ansi-\/styles colors}}


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ DEFAULT\_THEME\ =\ \{}
\DoxyCodeLine{\ \ comment:\ 'gray',}
\DoxyCodeLine{\ \ content:\ 'reset',}
\DoxyCodeLine{\ \ prop:\ 'yellow',}
\DoxyCodeLine{\ \ tag:\ 'cyan',}
\DoxyCodeLine{\ \ value:\ 'green',}
\DoxyCodeLine{\};}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6256}{}\doxysubsection{\texorpdfstring{Usage with plugins}{Usage with plugins}}\label{README.md_autotoc_md6256}
The {\ttfamily pretty-\/format} package provides some built-\/in plugins, including\+:


\begin{DoxyItemize}
\item {\ttfamily React\+Element} for elements from {\ttfamily react}
\item {\ttfamily React\+Test\+Component} for test objects from {\ttfamily react-\/test-\/renderer}
\end{DoxyItemize}


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ CommonJS}
\DoxyCodeLine{const\ React\ =\ require('react');}
\DoxyCodeLine{const\ renderer\ =\ require('react-\/test-\/renderer');}
\DoxyCodeLine{const\ \{format:\ prettyFormat,\ plugins\}\ =\ require('pretty-\/format');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{ReactElement,\ ReactTestComponent\}\ =\ plugins;}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{//\ ES2015\ modules\ and\ destructuring\ assignment}
\DoxyCodeLine{import\ React\ from\ 'react';}
\DoxyCodeLine{import\ renderer\ from\ 'react-\/test-\/renderer';}
\DoxyCodeLine{import\ \{plugins,\ format\ as\ prettyFormat\}\ from\ 'pretty-\/format';}
\DoxyCodeLine{}
\DoxyCodeLine{const\ \{ReactElement,\ ReactTestComponent\}\ =\ plugins;}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ onClick\ =\ ()\ =>\ \{\};}
\DoxyCodeLine{const\ element\ =\ React.createElement('button',\ \{onClick\},\ 'Hello\ World');}
\DoxyCodeLine{}
\DoxyCodeLine{const\ formatted1\ =\ prettyFormat(element,\ \{}
\DoxyCodeLine{\ \ plugins:\ [ReactElement],}
\DoxyCodeLine{\ \ printFunctionName:\ false,}
\DoxyCodeLine{\});}
\DoxyCodeLine{const\ formatted2\ =\ prettyFormat(renderer.create(element).toJSON(),\ \{}
\DoxyCodeLine{\ \ plugins:\ [ReactTestComponent],}
\DoxyCodeLine{\ \ printFunctionName:\ false,}
\DoxyCodeLine{\});}
\DoxyCodeLine{/*}
\DoxyCodeLine{<button}
\DoxyCodeLine{\ \ onClick=[Function]}
\DoxyCodeLine{>}
\DoxyCodeLine{\ \ Hello\ World}
\DoxyCodeLine{</button>}
\DoxyCodeLine{*/}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6257}{}\doxysubsection{\texorpdfstring{Usage in Jest}{Usage in Jest}}\label{README.md_autotoc_md6257}
For snapshot tests, Jest uses {\ttfamily pretty-\/format} with options that include some of its built-\/in plugins. For this purpose, plugins are also known as {\bfseries{snapshot serializers}}.

To serialize application-\/specific data types, you can add modules to {\ttfamily dev\+Dependencies} of a project, and then\+:

In an {\bfseries{individual}} test file, you can add a module as follows. It precedes any modules from Jest configuration.


\begin{DoxyCode}{0}
\DoxyCodeLine{import\ serializer\ from\ 'my-\/serializer-\/module';}
\DoxyCodeLine{expect.addSnapshotSerializer(serializer);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ tests\ which\ have\ \`{}expect(value).toMatchSnapshot()`\ assertions}

\end{DoxyCode}


For {\bfseries{all}} test files, you can specify modules in Jest configuration. They precede built-\/in plugins for React, HTML, and Immutable.\+js data types. For example, in a {\ttfamily package.\+json} file\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ "{}jest"{}:\ \{}
\DoxyCodeLine{\ \ \ \ "{}snapshotSerializers"{}:\ ["{}my-\/serializer-\/module"{}]}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6258}{}\doxysubsection{\texorpdfstring{Writing plugins}{Writing plugins}}\label{README.md_autotoc_md6258}
A plugin is a Java\+Script object.

If {\ttfamily options} has a {\ttfamily plugins} array\+: for the first plugin whose {\ttfamily test(val)} method returns a truthy value, then {\ttfamily pretty\+Format(val, options)} returns the result from either\+:


\begin{DoxyItemize}
\item {\ttfamily serialize(val, …)} method of the {\bfseries{improved}} interface (available in {\bfseries{version 21}} or later)
\item {\ttfamily print(val, …)} method of the {\bfseries{original}} interface (if plugin does not have {\ttfamily serialize} method)
\end{DoxyItemize}\hypertarget{README.md_autotoc_md6259}{}\doxysubsubsection{\texorpdfstring{test}{test}}\label{README.md_autotoc_md6259}
Write {\ttfamily test} so it can receive {\ttfamily val} argument of any type. To serialize {\bfseries{objects}} which have certain properties, then a guarded expression like {\ttfamily val != null \&\& …} or more concise {\ttfamily val \&\& …} prevents the following errors\+:


\begin{DoxyItemize}
\item `Type\+Error\+: Cannot read property \textquotesingle{}whatever' of null{\ttfamily  -\/}Type\+Error\+: Cannot read property \textquotesingle{}whatever\textquotesingle{} of undefined\`{}
\end{DoxyItemize}

For example, {\ttfamily test} method of built-\/in {\ttfamily React\+Element} plugin\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ elementSymbol\ =\ Symbol.for('react.element');}
\DoxyCodeLine{const\ test\ =\ val\ =>\ val\ \&\&\ val.\$\$typeof\ ===\ elementSymbol;}

\end{DoxyCode}


Pay attention to efficiency in {\ttfamily test} because {\ttfamily pretty-\/format} calls it often.\hypertarget{README.md_autotoc_md6260}{}\doxysubsubsection{\texorpdfstring{serialize}{serialize}}\label{README.md_autotoc_md6260}
The {\bfseries{improved}} interface is available in {\bfseries{version 21}} or later.

Write {\ttfamily serialize} to return a string, given the arguments\+:


\begin{DoxyItemize}
\item {\ttfamily val} which “passed the test”
\item unchanging {\ttfamily config} object\+: derived from {\ttfamily options}
\item current {\ttfamily indentation} string\+: concatenate to {\ttfamily indent} from {\ttfamily config}
\item current {\ttfamily depth} number\+: compare to {\ttfamily max\+Depth} from {\ttfamily config}
\item current {\ttfamily refs} array\+: find circular references in objects
\item {\ttfamily printer} callback function\+: serialize children
\end{DoxyItemize}\hypertarget{README.md_autotoc_md6261}{}\doxysubsubsection{\texorpdfstring{config}{config}}\label{README.md_autotoc_md6261}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{3}{|X[-1]}|}
\hline
\cellcolor{\tableheadbgcolor}\textbf{ key   }&\cellcolor{\tableheadbgcolor}\textbf{ type   }&\cellcolor{\tableheadbgcolor}\textbf{ description    }\\\cline{1-3}
\endfirsthead
\hline
\endfoot
\hline
\cellcolor{\tableheadbgcolor}\textbf{ key   }&\cellcolor{\tableheadbgcolor}\textbf{ type   }&\cellcolor{\tableheadbgcolor}\textbf{ description    }\\\cline{1-3}
\endhead
{\ttfamily call\+To\+JSON}   &{\ttfamily boolean}   &call {\ttfamily to\+JSON} method (if it exists) on objects    \\\cline{1-3}
{\ttfamily compare\+Keys}   &{\ttfamily function}   &compare function used when sorting object keys    \\\cline{1-3}
{\ttfamily colors}   &{\ttfamily Object}   &escape codes for colors to highlight syntax    \\\cline{1-3}
{\ttfamily escape\+Regex}   &{\ttfamily boolean}   &escape special characters in regular expressions    \\\cline{1-3}
{\ttfamily escape\+String}   &{\ttfamily boolean}   &escape special characters in strings    \\\cline{1-3}
{\ttfamily indent}   &{\ttfamily string}   &spaces in each level of indentation    \\\cline{1-3}
{\ttfamily max\+Depth}   &{\ttfamily number}   &levels to print in arrays, objects, elements, and so on    \\\cline{1-3}
{\ttfamily min}   &{\ttfamily boolean}   &minimize added space\+: no indentation nor line breaks    \\\cline{1-3}
{\ttfamily plugins}   &{\ttfamily array}   &plugins to serialize application-\/specific data types    \\\cline{1-3}
{\ttfamily print\+Function\+Name}   &{\ttfamily boolean}   &include or omit the name of a function    \\\cline{1-3}
{\ttfamily spacing\+Inner}   &{\ttfamily strong}   &spacing to separate items in a list    \\\cline{1-3}
{\ttfamily spacing\+Outer}   &{\ttfamily strong}   &spacing to enclose a list of items   \\\cline{1-3}
\end{longtabu}


Each property of {\ttfamily colors} in {\ttfamily config} corresponds to a property of {\ttfamily theme} in {\ttfamily options}\+:


\begin{DoxyItemize}
\item the key is the same (for example, {\ttfamily tag})
\item the value in {\ttfamily colors} is a object with {\ttfamily open} and {\ttfamily close} properties whose values are escape codes from \href{https://github.com/chalk/ansi-styles}{\texttt{ ansi-\/styles}} for the color value in {\ttfamily theme} (for example, `\textquotesingle{}cyan'\`{})
\end{DoxyItemize}

Some properties in {\ttfamily config} are derived from {\ttfamily min} in {\ttfamily options}\+:


\begin{DoxyItemize}
\item {\ttfamily spacing\+Inner} and {\ttfamily spacing\+Outer} are {\bfseries{newline}} if {\ttfamily min} is {\ttfamily false}
\item {\ttfamily spacing\+Inner} is {\bfseries{space}} and {\ttfamily spacing\+Outer} is {\bfseries{empty string}} if {\ttfamily min} is {\ttfamily true}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md6262}{}\doxysubsubsection{\texorpdfstring{Example of serialize and test}{Example of serialize and test}}\label{README.md_autotoc_md6262}
This plugin is a pattern you can apply to serialize composite data types. Side note\+: {\ttfamily pretty-\/format} does not need a plugin to serialize arrays.


\begin{DoxyCode}{0}
\DoxyCodeLine{//\ We\ reused\ more\ code\ when\ we\ factored\ out\ a\ function\ for\ child\ items}
\DoxyCodeLine{//\ that\ is\ independent\ of\ depth,\ name,\ and\ enclosing\ punctuation\ (see\ below).}
\DoxyCodeLine{const\ SEPARATOR\ =\ ',';}
\DoxyCodeLine{function\ serializeItems(items,\ config,\ indentation,\ depth,\ refs,\ printer)\ \{}
\DoxyCodeLine{\ \ if\ (items.length\ ===\ 0)\ \{}
\DoxyCodeLine{\ \ \ \ return\ '';}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ const\ indentationItems\ =\ indentation\ +\ config.indent;}
\DoxyCodeLine{\ \ return\ (}
\DoxyCodeLine{\ \ \ \ config.spacingOuter\ +}
\DoxyCodeLine{\ \ \ \ items}
\DoxyCodeLine{\ \ \ \ \ \ .map(}
\DoxyCodeLine{\ \ \ \ \ \ \ \ item\ =>}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ indentationItems\ +}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ printer(item,\ config,\ indentationItems,\ depth,\ refs),\ //\ callback}
\DoxyCodeLine{\ \ \ \ \ \ )}
\DoxyCodeLine{\ \ \ \ \ \ .join(SEPARATOR\ +\ config.spacingInner)\ +}
\DoxyCodeLine{\ \ \ \ (config.min\ ?\ ''\ :\ SEPARATOR)\ +\ //\ following\ the\ last\ item}
\DoxyCodeLine{\ \ \ \ config.spacingOuter\ +}
\DoxyCodeLine{\ \ \ \ indentation}
\DoxyCodeLine{\ \ );}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{const\ plugin\ =\ \{}
\DoxyCodeLine{\ \ test(val)\ \{}
\DoxyCodeLine{\ \ \ \ return\ Array.isArray(val);}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ serialize(array,\ config,\ indentation,\ depth,\ refs,\ printer)\ \{}
\DoxyCodeLine{\ \ \ \ const\ name\ =\ array.constructor.name;}
\DoxyCodeLine{\ \ \ \ return\ ++depth\ >\ config.maxDepth}
\DoxyCodeLine{\ \ \ \ \ \ ?\ '['\ +\ name\ +\ ']'}
\DoxyCodeLine{\ \ \ \ \ \ :\ (config.min\ ?\ ''\ :\ name\ +\ '\ ')\ +}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ '['\ +}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ serializeItems(array,\ config,\ indentation,\ depth,\ refs,\ printer)\ +}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ ']';}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\};}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ val\ =\ \{}
\DoxyCodeLine{\ \ filter:\ 'completed',}
\DoxyCodeLine{\ \ items:\ [}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ text:\ 'Write\ test',}
\DoxyCodeLine{\ \ \ \ \ \ completed:\ true,}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \{}
\DoxyCodeLine{\ \ \ \ \ \ text:\ 'Write\ serialize',}
\DoxyCodeLine{\ \ \ \ \ \ completed:\ true,}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\};}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{console.log(}
\DoxyCodeLine{\ \ prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ \ \ plugins:\ [plugin],}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{);}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}filter"{}:\ "{}completed"{},}
\DoxyCodeLine{\ \ "{}items"{}:\ Array\ [}
\DoxyCodeLine{\ \ \ \ Object\ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}completed"{}:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ "{}text"{}:\ "{}Write\ test"{},}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ Object\ \{}
\DoxyCodeLine{\ \ \ \ \ \ "{}completed"{}:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ "{}text"{}:\ "{}Write\ serialize"{},}
\DoxyCodeLine{\ \ \ \ \},}
\DoxyCodeLine{\ \ ],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{console.log(}
\DoxyCodeLine{\ \ prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ \ \ indent:\ 4,}
\DoxyCodeLine{\ \ \ \ plugins:\ [plugin],}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{);}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ \ \ "{}filter"{}:\ "{}completed"{},}
\DoxyCodeLine{\ \ \ \ "{}items"{}:\ Array\ [}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Object\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ "{}completed"{}:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ "{}text"{}:\ "{}Write\ test"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ Object\ \{}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ "{}completed"{}:\ true,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ "{}text"{}:\ "{}Write\ serialize"{},}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \},}
\DoxyCodeLine{\ \ \ \ ],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{console.log(}
\DoxyCodeLine{\ \ prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ \ \ maxDepth:\ 1,}
\DoxyCodeLine{\ \ \ \ plugins:\ [plugin],}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{);}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}filter"{}:\ "{}completed"{},}
\DoxyCodeLine{\ \ "{}items"{}:\ [Array],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{console.log(}
\DoxyCodeLine{\ \ prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ \ \ min:\ true,}
\DoxyCodeLine{\ \ \ \ plugins:\ [plugin],}
\DoxyCodeLine{\ \ \}),}
\DoxyCodeLine{);}
\DoxyCodeLine{/*}
\DoxyCodeLine{\{"{}filter"{}:\ "{}completed"{},\ "{}items"{}:\ [\{"{}completed"{}:\ true,\ "{}text"{}:\ "{}Write\ test"{}\},\ \{"{}completed"{}:\ true,\ "{}text"{}:\ "{}Write\ serialize"{}\}]\}}
\DoxyCodeLine{*/}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md6263}{}\doxysubsubsection{\texorpdfstring{print}{print}}\label{README.md_autotoc_md6263}
The {\bfseries{original}} interface is adequate for plugins\+:


\begin{DoxyItemize}
\item that {\bfseries{do not}} depend on options other than {\ttfamily highlight} or {\ttfamily min}
\item that {\bfseries{do not}} depend on {\ttfamily depth} or {\ttfamily refs} in recursive traversal, and
\item if values either
\begin{DoxyItemize}
\item do {\bfseries{not}} require indentation, or
\item do {\bfseries{not}} occur as children of Java\+Script data structures (for example, array)
\end{DoxyItemize}
\end{DoxyItemize}

Write {\ttfamily print} to return a string, given the arguments\+:


\begin{DoxyItemize}
\item {\ttfamily val} which “passed the test”
\item current {\ttfamily printer(val\+Child)} callback function\+: serialize children
\item current {\ttfamily indenter(lines)} callback function\+: indent lines at the next level
\item unchanging {\ttfamily config} object\+: derived from {\ttfamily options}
\item unchanging {\ttfamily colors} object\+: derived from {\ttfamily options}
\end{DoxyItemize}

The 3 properties of {\ttfamily config} are {\ttfamily min} in {\ttfamily options} and\+:


\begin{DoxyItemize}
\item {\ttfamily spacing} and {\ttfamily edge\+Spacing} are {\bfseries{newline}} if {\ttfamily min} is {\ttfamily false}
\item {\ttfamily spacing} is {\bfseries{space}} and {\ttfamily edge\+Spacing} is {\bfseries{empty string}} if {\ttfamily min} is {\ttfamily true}
\end{DoxyItemize}

Each property of {\ttfamily colors} corresponds to a property of {\ttfamily theme} in {\ttfamily options}\+:


\begin{DoxyItemize}
\item the key is the same (for example, {\ttfamily tag})
\item the value in {\ttfamily colors} is a object with {\ttfamily open} and {\ttfamily close} properties whose values are escape codes from \href{https://github.com/chalk/ansi-styles}{\texttt{ ansi-\/styles}} for the color value in {\ttfamily theme} (for example, `\textquotesingle{}cyan'\`{})
\end{DoxyItemize}\hypertarget{README.md_autotoc_md6264}{}\doxysubsubsection{\texorpdfstring{Example of print and test}{Example of print and test}}\label{README.md_autotoc_md6264}
This plugin prints functions with the {\bfseries{number of named arguments}} excluding rest argument.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ plugin\ =\ \{}
\DoxyCodeLine{\ \ print(val)\ \{}
\DoxyCodeLine{\ \ \ \ return\ \`{}[Function\ \$\{val.name\ ||\ 'anonymous'\}\ \$\{val.length\}]`;}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ test(val)\ \{}
\DoxyCodeLine{\ \ \ \ return\ typeof\ val\ ===\ 'function';}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\};}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ val\ =\ \{}
\DoxyCodeLine{\ \ onClick(event)\ \{\},}
\DoxyCodeLine{\ \ render()\ \{\},}
\DoxyCodeLine{\};}
\DoxyCodeLine{}
\DoxyCodeLine{prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ plugins:\ [plugin],}
\DoxyCodeLine{\});}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}onClick"{}:\ [Function\ onClick\ 1],}
\DoxyCodeLine{\ \ "{}render"{}:\ [Function\ render\ 0],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}
\DoxyCodeLine{}
\DoxyCodeLine{prettyFormat(val);}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}onClick"{}:\ [Function\ onClick],}
\DoxyCodeLine{\ \ "{}render"{}:\ [Function\ render],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}


This plugin {\bfseries{ignores}} the {\ttfamily print\+Function\+Name} option. That limitation of the original {\ttfamily print} interface is a reason to use the improved {\ttfamily serialize} interface, described above.


\begin{DoxyCode}{0}
\DoxyCodeLine{prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ plugins:\ [pluginOld],}
\DoxyCodeLine{\ \ printFunctionName:\ false,}
\DoxyCodeLine{\});}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}onClick"{}:\ [Function\ onClick\ 1],}
\DoxyCodeLine{\ \ "{}render"{}:\ [Function\ render\ 0],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}
\DoxyCodeLine{}
\DoxyCodeLine{prettyFormat(val,\ \{}
\DoxyCodeLine{\ \ printFunctionName:\ false,}
\DoxyCodeLine{\});}
\DoxyCodeLine{/*}
\DoxyCodeLine{Object\ \{}
\DoxyCodeLine{\ \ "{}onClick"{}:\ [Function],}
\DoxyCodeLine{\ \ "{}render"{}:\ [Function],}
\DoxyCodeLine{\}}
\DoxyCodeLine{*/}

\end{DoxyCode}
 