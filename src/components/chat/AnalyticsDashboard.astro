---
import AnalyticsDashboardReact from './AnalyticsDashboardReact';
import type { SecurityLevel } from '@/hooks/useSecurity';
import type { Message } from '@/types/chat';

export interface Props {
  messages: Message[];
  securityLevel: SecurityLevel;
  encryptionEnabled: boolean;
  scenario: string;
  title?: string;
  description?: string;
}

const {
  messages,
  securityLevel,
  encryptionEnabled,
  scenario,
  title = 'Analytics Dashboard',
  description = 'Real-time analytics for therapeutic conversation analysis.',
} = Astro.props;
---

<div class="w-full transition-colors duration-300">
  {title && (
    <h2 class="text-lg font-medium mb-2 text-purple-300">
      {title}
    </h2>
  )}
  {description && (
    <p class="mb-4 text-sm text-purple-300/70">
      {description}
    </p>
  )}

  <AnalyticsDashboardReact
    client:load
    messages={messages}
    securityLevel={securityLevel}
    encryptionEnabled={encryptionEnabled}
    scenario={scenario}
  />
</div>

<style>
  /* Ensure smooth dark mode transitions */
  :root {
    --transition-duration: 300ms;
  }

  .transition-colors {
    transition: background-color var(--transition-duration) ease-in-out,
                color var(--transition-duration) ease-in-out,
                border-color var(--transition-duration) ease-in-out;
  }
</style>
