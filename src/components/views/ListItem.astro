---
// Import utilities programmatically to avoid syntax errors
const datetimeUtils = await import('~/utils/datetime');
const commonUtils = await import('~/utils/common');


const getUrl = commonUtils.getUrl;

// Props interface
interface Props {
  idx?: number;
  collectionType?: string;
  redirect?: string;
  postSlug?: string;
  title: string;
  video?: boolean;
  radio?: boolean;
  date?: string | Date;
  minutesRead?: number;
  platform?: string;
  href?: string;
}

// Get properties from Astro.props
const {
  collectionType,
  redirect,
  postSlug,
  href
} = Astro.props;

// Determine the href

---

<div class="slide-enter" style={`--enter-stage: ${idx}`}>
  <a
    class="border-b-none mb-6 mt-2"
    href={linkHref}
    target={redirect ? "_blank" : undefined}
  >
    <div>{title}</div>
    <span>
      {video && <span>ðŸŽ¬</span>}
      {radio && <span>ðŸ“»</span>}
      {date && (
        <time datetime={new Date(date).toISOString()}>
          {formatDate(date, false)}
        </time>
      )}
      {minutesRead && minutesRead > 0 && <span>Â· {minutesRead} min read</span>}
      {platform && <span>Â· {platform}</span>}
    </span>
  </a>
</div>
